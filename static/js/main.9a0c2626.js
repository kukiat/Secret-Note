!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/secret-note/",t(t.s=92)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51);t.assert=r.assert,t.assertionError=r.assertionError;var i=n(52);t.base64=i.base64,t.base64Decode=i.base64Decode,t.base64Encode=i.base64Encode;var o=n(35);t.CONSTANTS=o.CONSTANTS;var a=n(127);t.deepCopy=a.deepCopy,t.deepExtend=a.deepExtend,t.patchProperty=a.patchProperty;var s=n(128);t.Deferred=s.Deferred;var u=n(129);t.getUA=u.getUA,t.isMobileCordova=u.isMobileCordova,t.isNodeSdk=u.isNodeSdk,t.isReactNative=u.isReactNative;var l=n(130);t.ErrorFactory=l.ErrorFactory,t.FirebaseError=l.FirebaseError,t.patchCapture=l.patchCapture;var c=n(53);t.jsonEval=c.jsonEval,t.stringify=c.stringify;var h=n(131);t.decode=h.decode,t.isAdmin=h.isAdmin,t.issuedAtTime=h.issuedAtTime,t.isValidFormat=h.isValidFormat,t.isValidTimestamp=h.isValidTimestamp;var f=n(54);t.clone=f.clone,t.contains=f.contains,t.every=f.every,t.extend=f.extend,t.findKey=f.findKey,t.findValue=f.findValue,t.forEach=f.forEach,t.getAnyKey=f.getAnyKey,t.getCount=f.getCount,t.getValues=f.getValues,t.isEmpty=f.isEmpty,t.isNonNullObject=f.isNonNullObject,t.map=f.map,t.safeGet=f.safeGet;var d=n(132);t.querystring=d.querystring,t.querystringDecode=d.querystringDecode;var p=n(133);t.Sha1=p.Sha1;var v=n(135);t.async=v.async,t.createSubscribe=v.createSubscribe;var g=n(136);t.errorPrefix=g.errorPrefix,t.validateArgCount=g.validateArgCount,t.validateCallback=g.validateCallback,t.validateContextObject=g.validateContextObject,t.validateNamespace=g.validateNamespace;var m=n(137);t.stringLength=m.stringLength,t.stringToByteArray=m.stringToByteArray},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(0),o=n(0),a=n(0),s=n(0),u=n(0),l=n(23),c=n(0),h=n(144),f=new h.Logger("@firebase/database");t.LUIDGenerator=function(){var e=1;return function(){return e++}}(),t.sha1=function(e){var t=s.stringToByteArray(e),n=new a.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)};var d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++)Array.isArray(e[r])||e[r]&&"object"===typeof e[r]&&"number"===typeof e[r].length?n+=d.apply(null,e[r]):"object"===typeof e[r]?n+=u.stringify(e[r]):n+=e[r],n+=" ";return n};t.logger=null;var p=!0;t.enableLogging=function(e,n){r.assert(!n||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(t.logger=f.log.bind(f),n&&l.SessionStorage.set("logging_enabled",!0)):"function"===typeof e?t.logger=e:(t.logger=null,l.SessionStorage.remove("logging_enabled"))},t.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!0===p&&(p=!1,null===t.logger&&!0===l.SessionStorage.get("logging_enabled")&&t.enableLogging(!0)),t.logger){var r=d.apply(null,e);t.logger(r)}},t.logWrapper=function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.log.apply(void 0,[e].concat(n))}},t.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+d.apply(void 0,e);f.error(n)},t.fatal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+d.apply(void 0,e);throw f.error(n),new Error(n)},t.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+d.apply(void 0,e);f.warn(n)},t.warnIfPageIsSecure=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&t.warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},t.warnAboutUnsupportedMethod=function(e){t.warn(e+" is unsupported and will likely change soon.  Please do not use.")},t.isInvalidJSONNumber=function(e){return"number"===typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},t.executeWhenDOMReady=function(e){if(c.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){if(!document.body)return void setTimeout(n,Math.floor(10));t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},t.MIN_NAME="[MIN_NAME]",t.MAX_NAME="[MAX_NAME]",t.nameCompare=function(e,n){if(e===n)return 0;if(e===t.MIN_NAME||n===t.MAX_NAME)return-1;if(n===t.MIN_NAME||e===t.MAX_NAME)return 1;var r=t.tryParseInt(e),i=t.tryParseInt(n);return null!==r?null!==i?r-i==0?e.length-n.length:r-i:-1:null!==i?1:e<n?-1:1},t.stringCompare=function(e,t){return e===t?0:e<t?-1:1},t.requireKey=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+u.stringify(t))},t.ObjectToUniqueKey=function(e){if("object"!==typeof e||null===e)return u.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=u.stringify(n[o]),i+=":",i+=t.ObjectToUniqueKey(e[n[o]]);return i+="}"},t.splitStringBySize=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r},t.each=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else i.forEach(e,function(e,n){return t(n,e)})},t.bindCallback=function(e,t){return t?e.bind(t):e},t.doubleToIEEE754String=function(e){r.assert(!t.isInvalidJSONNumber(e),"Invalid JSON number");var n,i,o,a,s,u,l;for(0===e?(i=0,o=0,n=1/e===-1/0?1:0):(n=e<0,e=Math.abs(e),e>=Math.pow(2,-1022)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),i=a+1023,o=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(i=0,o=Math.round(e/Math.pow(2,-1074)))),u=[],s=52;s;s-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(s=11;s;s-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(n?1:0),u.reverse(),l=u.join("");var c="";for(s=0;s<64;s+=8){var h=parseInt(l.substr(s,8),2).toString(16);1===h.length&&(h="0"+h),c+=h}return c.toLowerCase()},t.isChromeExtensionContentScript=function(){return!("object"!==typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},t.isWindowsStoreApp=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI},t.errorForServerCode=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r},t.INTEGER_REGEXP_=new RegExp("^-?\\d{1,10}$"),t.tryParseInt=function(e){if(t.INTEGER_REGEXP_.test(e)){var n=Number(e);if(n>=-2147483648&&n<=2147483647)return n}return null},t.exceptionGuard=function(e){try{e()}catch(e){setTimeout(function(){var n=e.stack||"";throw t.warn("Exception was thrown by user callback.",n),e},Math.floor(0))}},t.callUserCallback=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];"function"===typeof e&&t.exceptionGuard(function(){e.apply(void 0,n)})},t.beingCrawled=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},t.exportPropGetter=function(e,t,n){Object.defineProperty(e,t,{get:n})},t.setTimeoutNonBlocking=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),i=t.slice(),o=0;o<n.length&&o<i.length;o++){var a=r.nameCompare(n[o],i[o]);if(0!==a)return a}return n.length===i.length?0:n.length<i.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}();t.Path=o;var a=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=i.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=i.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=i.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}();t.ValidationPath=a},function(e,t,n){"use strict";function r(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n}function o(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function a(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function l(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function c(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function p(e){return this instanceof p?(this.v=e,this):new p(e)}function v(e,t,n){function r(e){c[e]&&(l[e]=function(t){return new Promise(function(n,r){h.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{o(c[e](t))}catch(e){u(h[0][3],e)}}function o(e){e.value instanceof p?Promise.resolve(e.value.v).then(a,s):u(h[0][2],e)}function a(e){i("next",e)}function s(e){i("throw",e)}function u(e,t){e(t),h.shift(),h.length&&i(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,c=n.apply(e,t||[]),h=[];return l={},r("next"),r("throw"),r("return"),l[Symbol.asyncIterator]=function(){return this},l}function g(e){function t(t,i){e[t]&&(n[t]=function(n){return(r=!r)?{value:p(e[t](n)),done:"return"===t}:i?i(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"===typeof h?h(e):e[Symbol.iterator]()}function y(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=r,n.d(t,"__assign",function(){return C}),t.__rest=i,t.__decorate=o,t.__param=a,t.__metadata=s,t.__awaiter=u,t.__generator=l,t.__exportStar=c,t.__values=h,t.__read=f,t.__spread=d,t.__await=p,t.__asyncGenerator=v,t.__asyncDelegator=g,t.__asyncValues=m,t.__makeTemplateObject=y,t.__importStar=_,t.__importDefault=b;var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}},function(e,t,n){"use strict";function r(e){o=e}function i(e){a=e}Object.defineProperty(t,"__esModule",{value:!0});var o,a,s=n(3),u=n(25),l=n(1),c=n(6),h=n(26);t.setNodeFromJSON=r,t.setMaxNode=i;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?l.nameCompare(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return c.NamedNode.MIN},t.prototype.maxPost=function(){return new c.NamedNode(l.MAX_NAME,new h.LeafNode("[PRIORITY-POST]",a))},t.prototype.makePost=function(e,t){var n=o(e);return new c.NamedNode(t,new h.LeafNode("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(u.Index);t.PriorityIndex=f,t.PRIORITY_INDEX=new f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=n(0),a=n(1),s=n(27),u=n(6),l=n(61),c=n(4),h=n(18),f=n(63),d=n(26),p=n(65),v=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&l.validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return r||(r=new e(new s.SortedMap(p.NAME_COMPARATOR),null,f.IndexMap.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||r},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?r:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var i=new u.NamedNode(t,n),a=void 0,s=void 0,l=void 0;return n.isEmpty()?(a=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_)),l=a.isEmpty()?r:this.priorityNode_,new e(a,l,s)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;o.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(c.PRIORITY_INDEX,function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+l.priorityHashText(this.getPriority().val())+":"),this.forEachChild(c.PRIORITY_INDEX,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":a.sha1(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new u.NamedNode(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new u.NamedNode(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new u.NamedNode(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,u.NamedNode.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,u.NamedNode.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===t.MAX_NODE?-1:0},e.prototype.withIndex=function(t){if(t===h.KEY_INDEX||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===h.KEY_INDEX||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(c.PRIORITY_INDEX),r=t.getIterator(c.PRIORITY_INDEX),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===h.KEY_INDEX?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}();t.ChildrenNode=v;var g=function(e){function t(){return e.call(this,new s.SortedMap(p.NAME_COMPARATOR),v.EMPTY_NODE,f.IndexMap.Default)||this}return i.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return v.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(v);t.MaxNode=g,t.MAX_NODE=new g,Object.defineProperties(u.NamedNode,{MIN:{value:new u.NamedNode(a.MIN_NAME,v.EMPTY_NODE)},MAX:{value:new u.NamedNode(a.MAX_NAME,t.MAX_NODE)}}),h.KeyIndex.__EMPTY_NODE=v.EMPTY_NODE,d.LeafNode.__childrenNodeConstructor=v,l.setMaxNode(t.MAX_NODE),c.setMaxNode(t.MAX_NODE)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}();t.NamedNode=r},function(e,t,n){"use strict";function r(e){return null!=e}function i(e){return void 0!==e}function o(e){return"function"===typeof e}function a(e){return"object"===typeof e}function s(e){return a(e)&&null!==e}function u(e){return a(e)&&!Array.isArray(e)}function l(e){return"string"===typeof e||e instanceof String}function c(e){return"number"===typeof e||e instanceof Number}function h(e){return f()&&e instanceof Blob}function f(){return"undefined"!==typeof Blob}t.a=r,t.c=i,t.b=o,t.i=a,t.g=s,t.f=u,t.j=l,t.h=c,t.d=h,t.e=f},function(e,t,n){"use strict";function r(e){return"storage/"+e}function i(){return new C(E.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function o(e){return new C(E.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function a(e){return new C(E.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function s(){return new C(E.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}function u(e){return new C(E.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function l(){return new C(E.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function c(){return new C(E.CANCELED,"User canceled the upload/download.")}function h(e){return new C(E.INVALID_URL,"Invalid URL '"+e+"'.")}function f(e){return new C(E.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function d(){return new C(E.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function p(){return new C(E.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function v(){return new C(E.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g(e,t,n){return new C(E.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function m(e,t,n,r){var i,o;return e===t?(i=e,o=1===e?"argument":"arguments"):(i="between "+e+" and "+t,o="arguments"),new C(E.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}function y(){return new C(E.APP_DELETED,"The Firebase app was deleted.")}function _(e){return new C(E.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function b(e,t){return new C(E.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function w(e){throw new C(E.INTERNAL_ERROR,"Internal error: "+e)}n.d(t,"a",function(){return E}),t.s=i,t.m=o,t.n=a,t.q=s,t.r=u,t.o=l,t.c=c,t.k=h,t.h=f,t.d=d,t.p=p,t.l=v,t.f=g,t.g=m,t.b=y,t.j=_,t.i=b,t.e=w;var C=(n(30),function(){function e(e,t){this.code_=r(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return r(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}()),E={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"}},function(e,t,n){"use strict";e.exports=n(99)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"firebase",function(){return i});var r=n(126),i=Object(r.a)();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0),o=n(1),a=n(0),s=n(0);t.INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,t.INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,t.MAX_LEAF_SIZE_=10485760,t.isValidKey=function(e){return"string"===typeof e&&0!==e.length&&!t.INVALID_KEY_REGEX_.test(e)},t.isValidPathString=function(e){return"string"===typeof e&&0!==e.length&&!t.INVALID_PATH_REGEX_.test(e)},t.isValidRootPathString=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),t.isValidPathString(e)},t.isValidPriority=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!o.isInvalidJSONNumber(e)||e&&"object"===typeof e&&i.contains(e,".sv")},t.validateFirebaseDataArg=function(e,n,r,i,o){o&&void 0===r||t.validateFirebaseData(a.errorPrefix(e,n,o),r,i)},t.validateFirebaseData=function(e,n,a){var u=a instanceof r.Path?new r.ValidationPath(a,e):a;if(void 0===n)throw new Error(e+"contains undefined "+u.toErrorString());if("function"===typeof n)throw new Error(e+"contains a function "+u.toErrorString()+" with contents = "+n.toString());if(o.isInvalidJSONNumber(n))throw new Error(e+"contains "+n.toString()+" "+u.toErrorString());if("string"===typeof n&&n.length>t.MAX_LEAF_SIZE_/3&&s.stringLength(n)>t.MAX_LEAF_SIZE_)throw new Error(e+"contains a string greater than "+t.MAX_LEAF_SIZE_+" utf8 bytes "+u.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var l=!1,c=!1;if(i.forEach(n,function(n,r){if(".value"===n)l=!0;else if(".priority"!==n&&".sv"!==n&&(c=!0,!t.isValidKey(n)))throw new Error(e+" contains an invalid key ("+n+") "+u.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');u.push(n),t.validateFirebaseData(e,r,u),u.pop()}),l&&c)throw new Error(e+' contains ".value" child '+u.toErrorString()+" in addition to actual children.")}},t.validateFirebaseMergePaths=function(e,n){var i,o;for(i=0;i<n.length;i++){o=n[i];for(var a=o.slice(),s=0;s<a.length;s++)if(".priority"===a[s]&&s===a.length-1);else if(!t.isValidKey(a[s]))throw new Error(e+"contains an invalid key ("+a[s]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(r.Path.comparePaths);var u=null;for(i=0;i<n.length;i++){if(o=n[i],null!==u&&u.contains(o))throw new Error(e+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}},t.validateFirebaseMergeDataArg=function(e,n,o,s,u){if(!u||void 0!==o){var l=a.errorPrefix(e,n,u);if(!o||"object"!==typeof o||Array.isArray(o))throw new Error(l+" must be an object containing the children to replace.");var c=[];i.forEach(o,function(e,n){var i=new r.Path(e);if(t.validateFirebaseData(l,n,s.child(i)),".priority"===i.getBack()&&!t.isValidPriority(n))throw new Error(l+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(i)}),t.validateFirebaseMergePaths(l,c)}},t.validatePriority=function(e,n,r,i){if(!i||void 0!==r){if(o.isInvalidJSONNumber(r))throw new Error(a.errorPrefix(e,n,i)+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!t.isValidPriority(r))throw new Error(a.errorPrefix(e,n,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},t.validateEventType=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.validateKey=function(e,n,r,i){if((!i||void 0!==r)&&!t.isValidKey(r))throw new Error(a.errorPrefix(e,n,i)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},t.validatePathString=function(e,n,r,i){if((!i||void 0!==r)&&!t.isValidPathString(r))throw new Error(a.errorPrefix(e,n,i)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},t.validateRootPathString=function(e,n,r,i){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),t.validatePathString(e,n,r,i)},t.validateWritablePath=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},t.validateUrl=function(e,n,r){var i=r.path.toString();if("string"!==typeof r.repoInfo.host||0===r.repoInfo.host.length||!t.isValidKey(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==i.length&&!t.isValidRootPathString(i))throw new Error(a.errorPrefix(e,n,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},t.validateCredential=function(e,t,n,r){if((!r||void 0!==n)&&"string"!==typeof n)throw new Error(a.errorPrefix(e,t,r)+"must be a valid credential (a string).")},t.validateBoolean=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(a.errorPrefix(e,t,r)+"must be a boolean.")},t.validateString=function(e,t,n,r){if((!r||void 0!==n)&&"string"!==typeof n)throw new Error(a.errorPrefix(e,t,r)+"must be a valid string.")},t.validateObject=function(e,t,n,r){if((!r||void 0!==n)&&(!n||"object"!==typeof n||null===n))throw new Error(a.errorPrefix(e,t,r)+"must be a valid object.")},t.validateObjectContainsKey=function(e,t,n,r,o,s){if(!n||"object"!==typeof n||!i.contains(n,r)){if(o)return;throw new Error(a.errorPrefix(e,t,o)+'must contain the key "'+r+'"')}if(s){var u=i.safeGet(n,r);if("number"===s&&"number"!==typeof u||"string"===s&&"string"!==typeof u||"boolean"===s&&"boolean"!==typeof u||"function"===s&&"function"!==typeof u||"object"===s&&"object"!==typeof u&&u)throw o?new Error(a.errorPrefix(e,t,o)+'contains invalid value for key "'+r+'" (must be of type "'+s+'")'):new Error(a.errorPrefix(e,t,o)+'must contain the key "'+r+'" with type "'+s+'"')}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(t.OperationType||(t.OperationType={}));var i=function(){function e(e,t,n,i){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=i,r.assert(!i||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}();t.OperationSource=i},function(e,t,n){"use strict";var r={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},i=(o={},o[r.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",o[r.AVAILABLE_IN_SW]="This method is available in a service worker context.",o[r.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",o[r.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",o[r.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",o[r.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",o[r.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",o[r.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",o[r.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",o[r.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",o[r.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",o[r.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",o[r.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",o[r.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",o[r.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",o[r.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",o[r.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",o[r.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",o[r.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",o[r.USE_SW_BEFORE_GET_TOKEN]="You must call useServiceWorker() before calling getToken() to ensure your service worker is used.",o[r.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",o[r.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",o[r.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",o[r.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",o[r.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",o[r.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",o[r.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",o[r.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",o[r.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",o[r.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",o[r.BAD_SCOPE]="The service worker scope must be a string with at least one character.",o[r.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",o[r.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",o[r.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",o[r.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",o[r.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",o[r.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",o[r.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",o);t.a={codes:r,map:i};var o},function(e,t,n){"use strict";function r(e){return new Promise(e)}function i(e){return Promise.resolve(e)}function o(e){return Promise.reject(e)}t.a=r,t.c=i,t.b=o},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}();t.Change=r},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i(e,t){for(var n in e)r(e,n)&&t(n,e[n])}function o(e){if(null==e)return{};var t={};return i(e,function(e,n){t[e]=n}),t}t.b=i,t.a=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=n(25),a=n(6),s=n(1),u=n(0),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return r},set:function(e){r=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return s.nameCompare(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw u.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return a.NamedNode.MIN},t.prototype.maxPost=function(){return new a.NamedNode(s.MAX_NAME,r)},t.prototype.makePost=function(e,t){return u.assert("string"===typeof e,"KeyIndex indexValue must always be a string."),new a.NamedNode(e,r)},t.prototype.toString=function(){return".key"},t}(o.Index);t.KeyIndex=l,t.KEY_INDEX=new l},function(e,t,n){"use strict";function r(e,t){if(void 0===t&&(t=null),null===e)return i.ChildrenNode.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),u.assert(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new o.LeafNode(n,r(t))}if(e instanceof Array||!d){var p=i.ChildrenNode.EMPTY_NODE,v=e;return s.forEach(v,function(e,t){if(s.contains(v,e)&&"."!==e.substring(0,1)){var n=r(t);!n.isLeafNode()&&n.isEmpty()||(p=p.updateImmediateChild(e,n))}}),p.updatePriority(r(t))}var g=[],m=!1,y=e;if(s.forEach(y,function(e,t){if("string"!==typeof e||"."!==e.substring(0,1)){var n=r(y[e]);n.isEmpty()||(m=m||!n.getPriority().isEmpty(),g.push(new a.NamedNode(e,n)))}}),0==g.length)return i.ChildrenNode.EMPTY_NODE;var _=l.buildChildSet(g,c.NAME_ONLY_COMPARATOR,function(e){return e.name},c.NAME_COMPARATOR);if(m){var b=l.buildChildSet(g,f.PRIORITY_INDEX.getCompare());return new i.ChildrenNode(_,r(t),new h.IndexMap({".priority":b},{".priority":f.PRIORITY_INDEX}))}return new i.ChildrenNode(_,r(t),h.IndexMap.Default)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(26),a=n(6),s=n(0),u=n(0),l=n(64),c=n(65),h=n(63),f=n(4),d=!0;t.nodeFromJSON=r,f.setNodeFromJSON(r)},function(e,t,n){"use strict";function r(e){switch(e){case f.RAW:case f.BASE64:case f.BASE64URL:case f.DATA_URL:return;default:throw"Expected one of the event types: ["+f.RAW+", "+f.BASE64+", "+f.BASE64URL+", "+f.DATA_URL+"]."}}function i(e,t){switch(e){case f.RAW:return new d(o(t));case f.BASE64:case f.BASE64URL:return new d(s(e,t));case f.DATA_URL:return new d(u(t),l(t))}throw h.s()}function o(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r)){var i=n<e.length-1&&56320==(64512&e.charCodeAt(n+1));if(i){var o=r,a=e.charCodeAt(++n);r=65536|(1023&o)<<10|1023&a,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function a(e){var t;try{t=decodeURIComponent(e)}catch(e){throw h.i(f.DATA_URL,"Malformed data URL.")}return o(t)}function s(e,t){switch(e){case f.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){var i=n?"-":"_";throw h.i(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case f.BASE64URL:var o=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(o||a){var i=o?"+":"/";throw h.i(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(t){throw h.i(e,"Invalid character found")}for(var u=new Uint8Array(s.length),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);return u}function u(e){var t=new p(e);return t.base64?s(f.BASE64,t.rest):a(t.rest)}function l(e){return new p(e).contentType}function c(e,t){return!!(e.length>=t.length)&&e.substring(e.length-t.length)===t}n.d(t,"a",function(){return f}),t.c=r,t.b=i;var h=n(8),f={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},d=function(){function e(e,t){this.data=e,this.contentType=t||null}return e}(),p=function(){function e(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw h.i(f.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=c(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}return e}()},function(e,t,n){"use strict";function r(e){switch(e){case o.RUNNING:case o.PAUSING:case o.CANCELING:return a.RUNNING;case o.PAUSED:return a.PAUSED;case o.SUCCESS:return a.SUCCESS;case o.CANCELED:return a.CANCELED;case o.ERROR:default:return a.ERROR}}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),t.d=r;var i={STATE_CHANGED:"state_changed"},o={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},a={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(142),i=n(143),o=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new r.DOMStorageWrapper(t)}}catch(e){}return new i.MemoryStorage};t.PersistentStorage=o("localStorage"),t.SessionStorage=o("sessionStorage")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROTOCOL_VERSION="5",t.VERSION_PARAM="v",t.TRANSPORT_SESSION_PARAM="s",t.REFERER_PARAM="r",t.FORGE_REF="f",t.FORGE_DOMAIN="firebaseio.com",t.LAST_SESSION_PARAM="ls",t.WEBSOCKET="websocket",t.LONG_POLLING="long_polling"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(1),o=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new r.NamedNode(i.MIN_NAME,e),o=new r.NamedNode(i.MIN_NAME,t);return 0!==this.compare(n,o)},e.prototype.minPost=function(){return r.NamedNode.MIN},e}();t.Index=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(1),a=n(61),s=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,i.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),a.validatePriorityNode(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return r},set:function(e){r=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(i.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+a.priorityHashText(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?o.doubleToIEEE754String(this.value_):this.value_,this.lazyHash_=o.sha1(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(i.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return i.assert(o>=0,"Unknown leaf type: "+n),i.assert(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-o},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();t.LeafNode=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}();t.SortedMapIterator=r;var i=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:a.EMPTY_NODE,this.right=null!=o?o:a.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r,i;return i=this,r=n(e,i.key),i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return a.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return a.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}();t.LLRBNode=i;var o=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new i(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}();t.LLRBEmptyNode=o;var a=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,i.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,i.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new r(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new r(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new r(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new r(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new o,e}();t.SortedMap=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67),i=n(19),o=n(2),a=n(68),s=n(149),u=n(160),l=n(0),c=n(1),h=n(0),f=n(161),d=n(40),p=n(163),v=n(73),g=n(164),m=n(74),y=n(169),_=n(55),b=function(){function e(e,t,n){var r=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new g.EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new a.SparseSnapshotTree,this.persistentConnection_=null;var i=new f.AuthTokenProvider(n);if(this.stats_=d.StatsManager.getCollection(e),t||c.beingCrawled())this.server_=new y.ReadonlyRestClient(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if("undefined"!==typeof o&&null!==o){if("object"!==typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{l.stringify(o)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new m.PersistentConnection(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(e){r.server_.refreshAuthToken(e)}),this.statsReporter_=d.StatsManager.getOrCreateReporter(e,function(){return new p.StatsReporter(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new u.SnapshotHolder,this.infoSyncTree_=new s.SyncTree({startListening:function(e,t,n,i){var o=[],a=r.infoData_.getNode(e.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new s.SyncTree({startListening:function(e,t,n,i){return r.server_.listen(e,n,t,function(t,n){var o=i(t,n);r.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,t){r.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new o.Path(".info/serverTimeOffset")),t=e.val()||0;return(new Date).getTime()+t},e.prototype.generateServerValues=function(){return r.generateWithValues({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var a=new o.Path(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var s=[];if(r)if(n){var u=h.map(t,function(e){return i.nodeFromJSON(e)});s=this.serverSyncTree_.applyTaggedQueryMerge(a,u,r)}else{var l=i.nodeFromJSON(t);s=this.serverSyncTree_.applyTaggedQueryOverwrite(a,l,r)}else if(n){var c=h.map(t,function(e){return i.nodeFromJSON(e)});s=this.serverSyncTree_.applyServerMerge(a,c)}else{var f=i.nodeFromJSON(t);s=this.serverSyncTree_.applyServerOverwrite(a,f)}var d=a;s.length>0&&(d=this.rerunTransactions_(a)),this.eventQueue_.raiseEventsForChangedPath(d,s)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;c.each(e,function(e,n){t.updateInfo_(n,e)})},e.prototype.updateInfo_=function(e,t){var n=new o.Path("/.info/"+e),r=i.nodeFromJSON(t);this.infoData_.updateSnapshot(n,r);var a=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,a)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,o){var a=this;this.log_("set",{path:e.toString(),value:t,priority:n});var s=this.generateServerValues(),u=i.nodeFromJSON(t,n),l=r.resolveDeferredValueSnapshot(u,s),h=this.getNextWriteId_(),f=this.serverSyncTree_.applyUserOverwrite(e,l,h,!0);this.eventQueue_.queueEvents(f),this.server_.put(e.toString(),u.val(!0),function(t,n){var r="ok"===t;r||c.warn("set at "+e+" failed: "+t);var i=a.serverSyncTree_.ackUserWrite(h,!r);a.eventQueue_.raiseEventsForChangedPath(e,i),a.callOnCompleteCallback(o,t,n)});var d=this.abortTransactions_(e);this.rerunTransactions_(d),this.eventQueue_.raiseEventsForChangedPath(d,[])},e.prototype.update=function(e,t,n){var o=this;this.log_("update",{path:e.toString(),value:t});var a=!0,s=this.generateServerValues(),u={};if(h.forEach(t,function(e,t){a=!1;var n=i.nodeFromJSON(t);u[e]=r.resolveDeferredValueSnapshot(n,s)}),a)c.log("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var l=this.getNextWriteId_(),f=this.serverSyncTree_.applyUserMerge(e,u,l);this.eventQueue_.queueEvents(f),this.server_.merge(e.toString(),t,function(t,r){var i="ok"===t;i||c.warn("update at "+e+" failed: "+t);var a=o.serverSyncTree_.ackUserWrite(l,!i),s=a.length>0?o.rerunTransactions_(e):e;o.eventQueue_.raiseEventsForChangedPath(s,a),o.callOnCompleteCallback(n,t,r)}),h.forEach(t,function(t){var n=o.abortTransactions_(e.child(t));o.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=r.resolveDeferredValueTree(this.onDisconnect_,t),i=[];n.forEachTree(o.Path.Empty,function(t,n){i=i.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var r=e.abortTransactions_(t);e.rerunTransactions_(r)}),this.onDisconnect_=new a.SparseSnapshotTree,this.eventQueue_.raiseEventsForChangedPath(o.Path.Empty,i)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)})},e.prototype.onDisconnectSet=function(e,t,n){var r=this,o=i.nodeFromJSON(t);this.server_.onDisconnectPut(e.toString(),o.val(!0),function(t,i){"ok"===t&&r.onDisconnect_.remember(e,o),r.callOnCompleteCallback(n,t,i)})},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var o=this,a=i.nodeFromJSON(t,n);this.server_.onDisconnectPut(e.toString(),a.val(!0),function(t,n){"ok"===t&&o.onDisconnect_.remember(e,a),o.callOnCompleteCallback(r,t,n)})},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(h.isEmpty(t))return c.log("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,function(o,a){"ok"===o&&h.forEach(t,function(t,n){var o=i.nodeFromJSON(n);r.onDisconnect_.remember(e.child(t),o)}),r.callOnCompleteCallback(n,o,a)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var t;e?(this.statsListener_||(this.statsListener_=new v.StatsListener(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);h.forEach(t,function(e,t){for(var r=e.length;r<n+2;r++)e+=" ";console.log(e+t)})}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),c.log.apply(void 0,[n].concat(e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&c.exceptionGuard(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new _.Database(this))},enumerable:!0,configurable:!0}),e}();t.Repo=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}();t.CacheNode=r},function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"h",function(){return c});var r="https://firebasestorage.googleapis.com",i="https://firebasestorage.googleapis.com",o="/v0",a="/v0",s="storageBucket",u=12e4,l=6e4,c=-9007199254740991},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(8),i=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw r.h(t)},e.makeFromUrl=function(t){function n(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}function i(e){e.path_=decodeURIComponent(e.path)}for(var o=null,a=new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),s={bucket:1,path:3},u=new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),l={bucket:1,path:3},c=[{regex:a,indices:s,postModify:n},{regex:u,indices:l,postModify:i}],h=0;h<c.length;h++){var f=c[h],d=f.regex.exec(t);if(d){var p=d[f.indices.bucket],v=d[f.indices.path];v||(v=""),o=new e(p,v),f.postModify(o);break}}if(null==o)throw r.k(t);return o},e}()},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)o.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t,n){e.exports=n(112)},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function r(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,n,i){var o=r(e,t,n,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function a(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,n){var r=t.className;e(n).test(r)||(t.className+=(r?" ":"")+n)}function u(t,n){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&!e(r[i]).test(n)&&(n+=" "+r[i]);return n}function l(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function h(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}function f(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function d(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function p(e){for(;Ga.length<=e;)Ga.push(v(Ga)+" ");return Ga[e]}function v(e){return e[e.length-1]}function g(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function m(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function y(){}function _(e,t){var n;return Object.create?n=Object.create(e):(y.prototype=e,n=new y),t&&c(t,n),n}function b(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Qa.test(e))}function w(e,t){return t?!!(t.source.indexOf("\\w")>-1&&b(e))||t.test(e):b(e)}function C(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function E(e){return e.charCodeAt(0)>=768&&Xa.test(e)}function S(e,t,n){for(;(n<0?t>0:t<e.length)&&E(e.charAt(t));)t+=n;return t}function T(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function k(e,t,n){var o=this;this.input=n,o.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=i("div",null,"CodeMirror-code"),o.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=r("div",null,"CodeMirror-cursors"),o.measure=r("div",null,"CodeMirror-measure"),o.lineMeasure=r("div",null,"CodeMirror-measure"),o.lineSpace=i("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var a=i("div",[o.lineSpace],"CodeMirror-lines");o.mover=r("div",[a],null,"position: relative"),o.sizer=r("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=r("div",null,null,"position: absolute; height: "+Va+"px; width: 1px;"),o.gutters=r("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=r("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=r("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),ya&&_a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),ba||pa&&Oa||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,n.init(o)}function N(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function x(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function O(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function I(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function P(e){if(null==e.parent)return null;for(var t=e.parent,n=f(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function A(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],u=s.height;if(t<u)break;t-=u}return n+a}function R(e,t){return t>=e.first&&t<e.first+e.size}function D(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function L(e,t,n){if(void 0===n&&(n=null),!(this instanceof L))return new L(e,t,n);this.line=e,this.ch=t,this.sticky=n}function M(e,t){return e.line-t.line||e.ch-t.ch}function F(e,t){return e.sticky==t.sticky&&0==M(e,t)}function U(e){return L(e.line,e.ch)}function j(e,t){return M(e,t)<0?t:e}function W(e,t){return M(e,t)<0?e:t}function B(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function V(e,t){if(t.line<e.first)return L(e.first,0);var n=e.first+e.size-1;return t.line>n?L(n,N(e,n).text.length):H(t,N(e,t.line).text.length)}function H(e,t){var n=e.ch;return null==n||n>t?L(e.line,t):n<0?L(e.line,0):e}function K(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=V(e,t[r]);return n}function z(){Ya=!0}function q(){$a=!0}function G(e,t,n){this.marker=e,this.from=t,this.to=n}function Q(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function X(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Y(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function $(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var u=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new G(a,o.from,u?null:o.to))}}return r}function J(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var u=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new G(a,u?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Z(e,t){if(t.full)return null;var n=R(e,t.from.line)&&N(e,t.from.line).markedSpans,r=R(e,t.to.line)&&N(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==M(t.from,t.to),s=$(n,i,a),u=J(r,o,a),l=1==t.text.length,c=v(t.text).length+(l?i:0);if(s)for(var h=0;h<s.length;++h){var f=s[h];if(null==f.to){var d=Q(u,f.marker);d?l&&(f.to=null==d.to?null:d.to+c):f.to=i}}if(u)for(var p=0;p<u.length;++p){var g=u[p];if(null!=g.to&&(g.to+=c),null==g.from){var m=Q(s,g.marker);m||(g.from=c,l&&(s||(s=[])).push(g))}else g.from+=c,l&&(s||(s=[])).push(g)}s&&(s=ee(s)),u&&u!=s&&(u=ee(u));var y=[s];if(!l){var _,b=t.text.length-2;if(b>0&&s)for(var w=0;w<s.length;++w)null==s[w].to&&(_||(_=[])).push(new G(s[w].marker,null,null));for(var C=0;C<b;++C)y.push(_);y.push(u)}return y}function ee(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function te(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=f(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),u=0;u<i.length;++u){var l=i[u];if(!(M(l.to,s.from)<0||M(l.from,s.to)>0)){var c=[u,1],h=M(l.from,s.from),d=M(l.to,s.to);(h<0||!a.inclusiveLeft&&!h)&&c.push({from:l.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&c.push({from:s.to,to:l.to}),i.splice.apply(i,c),u+=c.length-3}}return i}function ne(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function re(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function ie(e){return e.inclusiveLeft?-1:0}function oe(e){return e.inclusiveRight?1:0}function ae(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=M(r.from,i.from)||ie(e)-ie(t);if(o)return-o;var a=M(r.to,i.to)||oe(e)-oe(t);return a||t.id-e.id}function se(e,t){var n,r=$a&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||ae(n,i.marker)<0)&&(n=i.marker);return n}function ue(e){return se(e,!0)}function le(e){return se(e,!1)}function ce(e,t,n,r,i){var o=N(e,t),a=$a&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),c=M(l.from,n)||ie(u.marker)-ie(i),h=M(l.to,r)||oe(u.marker)-oe(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?M(l.to,n)>=0:M(l.to,n)>0)||c>=0&&(u.marker.inclusiveRight&&i.inclusiveLeft?M(l.from,r)<=0:M(l.from,r)<0)))return!0}}}function he(e){for(var t;t=ue(e);)e=t.find(-1,!0).line;return e}function fe(e){for(var t;t=le(e);)e=t.find(1,!0).line;return e}function de(e){for(var t,n;t=le(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function pe(e,t){var n=N(e,t),r=he(n);return n==r?t:P(r)}function ve(e,t){if(t>e.lastLine())return t;var n,r=N(e,t);if(!ge(e,r))return t;for(;n=le(r);)r=n.find(1,!0).line;return P(r)+1}function ge(e,t){var n=$a&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&me(e,t,r))return!0}}function me(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return me(e,r.line,Q(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&me(e,t,i))return!0}function ye(e){e=he(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function _e(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=ue(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=le(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function be(e){var t=e.display,n=e.doc;t.maxLine=N(n,n.first),t.maxLineLength=_e(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=_e(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function we(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}function Ce(e,t,n){var r;Ja=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:Ja=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:Ja=i)}return null!=r?r:Ja}function Ee(e,t){var n=e.order;return null==n&&(n=e.order=Za(e.text,t)),n}function Se(e,t){return e._handlers&&e._handlers[t]||es}function Te(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=f(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ke(e,t){var n=Se(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function Ne(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ke(e,n||t.type,e,t),Re(t)||t.codemirrorIgnore}function xe(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==f(n,t[r])&&n.push(t[r])}function Oe(e,t){return Se(e,t).length>0}function Ie(e){e.prototype.on=function(e,t){ts(this,e,t)},e.prototype.off=function(e,t){Te(this,e,t)}}function Pe(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ae(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Re(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function De(e){Pe(e),Ae(e)}function Le(e){return e.target||e.srcElement}function Me(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ia&&e.ctrlKey&&1==t&&(t=3),t}function Fe(e){if(null==Wa){var t=r("span","\u200b");n(e,r("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Wa=t.offsetWidth<=1&&t.offsetHeight>2&&!(ya&&_a<8))}var i=Wa?r("span","\u200b"):r("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Ue(e){if(null!=Ba)return Ba;var r=n(e,document.createTextNode("A\u062eA")),i=Da(r,0,1).getBoundingClientRect(),o=Da(r,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(Ba=o.right-i.right<3)}function je(e){if(null!=as)return as;var t=n(e,r("span","x")),i=t.getBoundingClientRect(),o=Da(t,0,1).getBoundingClientRect();return as=Math.abs(i.left-o.left)>1}function We(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ss[e]=t}function Be(e,t){us[e]=t}function Ve(e){if("string"==typeof e&&us.hasOwnProperty(e))e=us[e];else if(e&&"string"==typeof e.name&&us.hasOwnProperty(e.name)){var t=us[e.name];"string"==typeof t&&(t={name:t}),e=_(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ve("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ve("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function He(e,t){t=Ve(t);var n=ss[t.name];if(!n)return He(e,"text/plain");var r=n(e,t);if(ls.hasOwnProperty(t.name)){var i=ls[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}function Ke(e,t){c(t,ls.hasOwnProperty(e)?ls[e]:ls[e]={})}function ze(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function qe(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ge(e,t,n){return!e.startState||e.startState(t,n)}function Qe(e,t,n,r){var i=[e.state.modeGen],o={};nt(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=0;s<e.state.overlays.length;++s)!function(r){n.baseTokens=i;var s=e.state.overlays[r],u=1,l=0;n.state=!0,nt(e,t.text,s.mode,n,function(e,t){for(var n=u;l<e;){var r=i[u];r>e&&i.splice(u,1,e,i[u+1],r),u+=2,l=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,u-n,e,"overlay "+t),u=n+2;else for(;n<u;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1}(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Xe(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Ye(e,P(t)),i=t.text.length>e.options.maxHighlightLength&&ze(e.doc.mode,r.state),o=Qe(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Ye(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new fs(r,!0,t);var o=rt(e,t,n),a=o>r.first&&N(r,o-1).stateAfter,s=a?fs.fromSaved(r,a,o):new fs(r,Ge(r.mode),o);return r.iter(o,t,function(n){$e(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function $e(e,t,n,r){var i=e.doc.mode,o=new cs(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&Je(i,n.state);!o.eol();)Ze(i,o,n.state),o.start=o.pos}function Je(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=qe(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ze(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=qe(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function et(e,t,n,r){var i,o=e.doc,a=o.mode;t=V(o,t);var s,u=N(o,t.line),l=Ye(e,t.line,n),c=new cs(u.text,e.options.tabSize,l);for(r&&(s=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Ze(a,c,l.state),r&&s.push(new ds(c,i,ze(o.mode,l.state)));return r?s:new ds(c,i,l.state)}function tt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function nt(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var u,l=0,c=null,h=new cs(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];for(""==t&&tt(Je(n,r.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,a&&$e(e,t,r,h.pos),h.pos=t.length,u=null):u=tt(Ze(n,h,r.state,f),o),f){var d=f[0].name;d&&(u="m-"+(u?d+" "+u:d))}if(!s||c!=u){for(;l<h.start;)l=Math.min(h.start,l+5e3),i(l,c);c=u}h.start=h.pos}for(;l<h.pos;){var p=Math.min(h.pos,l+5e3);i(p,c),l=p}}function rt(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var u=N(o,s-1),l=u.stateAfter;if(l&&(!n||s+(l instanceof hs?l.lookAhead:0)<=o.modeFrontier))return s;var c=h(u.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function it(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=N(e,r).stateAfter;if(i&&(!(i instanceof hs)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function ot(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ne(e),re(e,n);var i=r?r(e):1;i!=e.height&&I(e,i)}function at(e){e.parent=null,ne(e)}function st(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ms:gs;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function ut(e,t){var n=i("span",null,null,ba?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(ya||ba)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a=o?t.rest[o-1]:t.line,s=void 0;r.pos=0,r.addToken=ct,Ue(e.display.measure)&&(s=Ee(a,e.doc.direction))&&(r.addToken=ft(r.addToken,s)),r.map=[];pt(a,r,Xe(e,a,t!=e.display.externalMeasured&&P(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=u(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=u(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Fe(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(ba){var l=r.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ke(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=u(r.pre.className,r.textClass||"")),r}function lt(e){var t=r("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ct(e,t,n,i,o,a,s){if(t){var u,l=e.splitSpaces?ht(t,e.trailingSpace):t,c=e.cm.state.specialChars,h=!1;if(c.test(t)){u=document.createDocumentFragment();for(var f=0;;){c.lastIndex=f;var d=c.exec(t),v=d?d.index-f:t.length-f;if(v){var g=document.createTextNode(l.slice(f,f+v));ya&&_a<9?u.appendChild(r("span",[g])):u.appendChild(g),e.map.push(e.pos,e.pos+v,g),e.col+=v,e.pos+=v}if(!d)break;f+=v+1;var m=void 0;if("\t"==d[0]){var y=e.cm.options.tabSize,_=y-e.col%y;m=u.appendChild(r("span",p(_),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=_}else"\r"==d[0]||"\n"==d[0]?(m=u.appendChild(r("span","\r"==d[0]?"\u240d":"\u2424","cm-invalidchar")),m.setAttribute("cm-text",d[0]),e.col+=1):(m=e.cm.options.specialCharPlaceholder(d[0]),m.setAttribute("cm-text",d[0]),ya&&_a<9?u.appendChild(r("span",[m])):u.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,u=document.createTextNode(l),e.map.push(e.pos,e.pos+t.length,u),ya&&_a<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==l.charCodeAt(t.length-1),n||i||o||h||s){var b=n||"";i&&(b+=i),o&&(b+=o);var w=r("span",[u],b,s);return a&&(w.title=a),e.content.appendChild(w)}e.content.appendChild(u)}}function ht(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}function ft(e,t){return function(n,r,i,o,a,s,u){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var h=void 0,f=0;f<t.length&&(h=t[f],!(h.to>l&&h.from<=l));f++);if(h.to>=c)return e(n,r,i,o,a,s,u);e(n,r.slice(0,h.to-l),i,o,null,s,u),o=null,r=r.slice(h.to-l),l=h.to}}}function dt(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function pt(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,u,l,c,h,f,d=i.length,p=0,v=1,g="",m=0;;){if(m==p){u=l=c=h=s="",f=null,m=1/0;for(var y=[],_=void 0,b=0;b<r.length;++b){var w=r[b],C=w.marker;"bookmark"==C.type&&w.from==p&&C.widgetNode?y.push(C):w.from<=p&&(null==w.to||w.to>p||C.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&m>w.to&&(m=w.to,l=""),C.className&&(u+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&w.from==p&&(c+=" "+C.startStyle),C.endStyle&&w.to==m&&(_||(_=[])).push(C.endStyle,w.to),C.title&&!h&&(h=C.title),C.collapsed&&(!f||ae(f.marker,C)<0)&&(f=w)):w.from>p&&m>w.from&&(m=w.from)}if(_)for(var E=0;E<_.length;E+=2)_[E+1]==m&&(l+=" "+_[E]);if(!f||f.from==p)for(var S=0;S<y.length;++S)dt(t,0,y[S]);if(f&&(f.from||0)==p){if(dt(t,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var T=Math.min(d,m);;){if(g){var k=p+g.length;if(!f){var N=k>T?g.slice(0,T-p):g;t.addToken(t,N,a?a+u:u,c,p+N.length==m?l:"",h,s)}if(k>=T){g=g.slice(T-p),p=T;break}p=k,c=""}g=i.slice(o,o=n[v++]),a=st(n[v++],t.cm.options)}}else for(var x=1;x<n.length;x+=2)t.addToken(t,i.slice(o,o=n[x]),st(n[x+1],t.cm.options))}function vt(e,t,n){this.line=t,this.rest=de(t),this.size=this.rest?P(v(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ge(e,t)}function gt(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new vt(e.doc,N(e.doc,o),o);r=o+a.size,i.push(a)}return i}function mt(e){ys?ys.ops.push(e):e.ownsGroup=ys={ops:[e],delayedCallbacks:[]}}function yt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function _t(e,t){var n=e.ownsGroup;if(n)try{yt(n)}finally{ys=null,t(n)}}function bt(e,t){var n=Se(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);ys?r=ys.delayedCallbacks:_s?r=_s:(r=_s=[],setTimeout(wt,0));for(var o=0;o<n.length;++o)!function(e){r.push(function(){return n[e].apply(null,i)})}(o)}}function wt(){var e=_s;_s=null;for(var t=0;t<e.length;++t)e[t]()}function Ct(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?kt(e,t):"gutter"==o?xt(e,t,n,r):"class"==o?Nt(e,t):"widget"==o&&Ot(e,t,r)}t.changes=null}function Et(e){return e.node==e.text&&(e.node=r("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ya&&_a<8&&(e.node.style.zIndex=2)),e.node}function St(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=Et(t);t.background=i.insertBefore(r("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}function Tt(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):ut(e,t)}function kt(e,t){var n=t.text.className,r=Tt(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Nt(e,t)):n&&(t.text.className=n)}function Nt(e,t){St(e,t),t.line.wrapClass?Et(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function xt(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Et(t);t.gutterBackground=r("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var s=Et(t),u=t.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(u),s.insertBefore(u,t.text),t.line.gutterClass&&(u.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=u.appendChild(r("div",D(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var l=0;l<e.options.gutters.length;++l){var c=e.options.gutters[l],h=a.hasOwnProperty(c)&&a[c];h&&u.appendChild(r("div",[h],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Ot(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);Pt(e,t,n)}function It(e,t,n,r){var i=Tt(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Nt(e,t),xt(e,t,n,r),Pt(e,t,r),t.node}function Pt(e,t,n){if(At(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)At(e,t.rest[r],t,n,!1)}function At(e,t,n,i,o){if(t.widgets)for(var a=Et(n),s=0,u=t.widgets;s<u.length;++s){var l=u[s],c=r("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Rt(l,c,n,i),e.display.input.setUneditable(c),o&&l.above?a.insertBefore(c,n.gutter||n.text):a.appendChild(c),bt(l,"redraw")}}function Rt(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Dt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,r("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Lt(e,t){for(var n=Le(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Mt(e){return e.lineSpace.offsetTop}function Ft(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ut(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,r("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function jt(e){return Va-e.display.nativeBarWidth}function Wt(e){return e.display.scroller.clientWidth-jt(e)-e.display.barWidth}function Bt(e){return e.display.scroller.clientHeight-jt(e)-e.display.barHeight}function Vt(e,t,n){var r=e.options.lineWrapping,i=r&&Wt(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var u=a[s],l=a[s+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Ht(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(P(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Kt(e,t){t=he(t);var r=P(t),i=e.display.externalMeasured=new vt(e.doc,t,r);i.lineN=r;var o=i.built=ut(e,i);return i.text=o.pre,n(e.display.lineMeasure,o.pre),i}function zt(e,t,n,r){return Qt(e,Gt(e,t),n,r)}function qt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[kn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Gt(e,t){var n=P(t),r=qt(e,n);r&&!r.text?r=null:r&&r.changes&&(Ct(e,r,n,wn(e)),e.curOp.forceUpdate=!0),r||(r=Kt(e,t));var i=Ht(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Qt(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Vt(e,t.view,t.rect),t.hasHeights=!0),o=$t(e,t,n,r),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Xt(e,t,n){for(var r,i,o,a,s,u,l=0;l<e.length;l+=3)if(s=e[l],u=e[l+1],t<s?(i=0,o=1,a="left"):t<u?(i=t-s,o=i+1):(l==e.length-3||t==u&&e[l+3]>t)&&(o=u-s,i=o-1,t>=u&&(a="right")),null!=i){if(r=e[l+2],s==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)r=e[2+(l-=3)],a="left";if("right"==n&&i==u-s)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)r=e[(l+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:u}}function Yt(e,t){var n=bs;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function $t(e,t,n,r){var i,o=Xt(t.map,n,r),a=o.node,s=o.start,u=o.end,l=o.collapse;if(3==a.nodeType){for(var c=0;c<4;c++){for(;s&&E(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+u<o.coverEnd&&E(t.line.text.charAt(o.coverStart+u));)++u;if(i=ya&&_a<9&&0==s&&u==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Yt(Da(a,s,u).getClientRects(),r),i.left||i.right||0==s)break;u=s,s-=1,l="right"}ya&&_a<11&&(i=Jt(e.display.measure,i))}else{s>0&&(l=r="right");var h;i=e.options.lineWrapping&&(h=a.getClientRects()).length>1?h["right"==r?h.length-1:0]:a.getBoundingClientRect()}if(ya&&_a<9&&!s&&(!i||!i.left&&!i.right)){var f=a.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+bn(e.display),top:f.top,bottom:f.bottom}:bs}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,v=(d+p)/2,g=t.view.measure.heights,m=0;m<g.length-1&&!(v<g[m]);m++);var y=m?g[m-1]:0,_=g[m],b={left:("right"==l?i.right:i.left)-t.rect.left,right:("left"==l?i.left:i.right)-t.rect.left,top:y,bottom:_};return i.left||i.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=d,b.rbottom=p),b}function Jt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!je(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Zt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function en(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)Zt(e.display.view[n])}function tn(e){en(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function nn(){return Ca&&xa?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function rn(){return Ca&&xa?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function on(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Dt(e.widgets[n]));return t}function an(e,t,n,r,i){if(!i){var o=on(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=ye(t);if("local"==r?a+=Mt(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:rn());var u=s.left+("window"==r?0:nn());n.left+=u,n.right+=u}return n.top+=a,n.bottom+=a,n}function sn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=nn(),i-=rn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function un(e,t,n,r,i){return r||(r=N(e.doc,t.line)),an(e,r,zt(e,r,t.ch,i),n)}function ln(e,t,n,r,i,o){function a(t,a){var s=Qt(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,an(e,r,s,n)}function s(e,t,n){var r=u[t],i=1==r.level;return a(n?e-1:e,i!=n)}r=r||N(e.doc,t.line),i||(i=Gt(e,r));var u=Ee(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!u)return a("before"==c?l-1:l,"before"==c);var h=Ce(u,l,c),f=Ja,d=s(l,h,"before"==c);return null!=f&&(d.other=s(l,f,"before"!=c)),d}function cn(e,t){var n=0;t=V(e.doc,t),e.options.lineWrapping||(n=bn(e.display)*t.ch);var r=N(e.doc,t.line),i=ye(r)+Mt(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function hn(e,t,n,r,i){var o=L(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function fn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return hn(r.first,0,null,!0,-1);var i=A(r,n),o=r.first+r.size-1;if(i>o)return hn(r.first+r.size-1,N(r,o).text.length,null,!0,1);t<0&&(t=0);for(var a=N(r,i);;){var s=gn(e,a,i,t,n),u=le(a),l=u&&u.find(0,!0);if(!u||!(s.ch>l.from.ch||s.ch==l.from.ch&&s.xRel>0))return s;i=P(a=l.to.line)}}function dn(e,t,n,r){r-=on(t);var i=t.text.length,o=T(function(t){return Qt(e,n,t-1).bottom<=r},i,0);return i=T(function(t){return Qt(e,n,t).top>r},o,i),{begin:o,end:i}}function pn(e,t,n,r){return n||(n=Gt(e,t)),dn(e,t,n,an(e,t,Qt(e,n,r),"line").top)}function vn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function gn(e,t,n,r,i){i-=ye(t);var o=Gt(e,t),a=on(t),s=0,u=t.text.length,l=!0,c=Ee(t,e.doc.direction);if(c){var h=(e.options.lineWrapping?yn:mn)(e,t,n,o,c,r,i);l=1!=h.level,s=l?h.from:h.to-1,u=l?h.to:h.from-1}var f,d,p=null,v=null,g=T(function(t){var n=Qt(e,o,t);return n.top+=a,n.bottom+=a,!!vn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,v=n),!0)},s,u),m=!1;if(v){var y=r-v.left<v.right-r,_=y==l;g=p+(_?0:1),d=_?"after":"before",f=y?v.left:v.right}else{l||g!=u&&g!=s||g++,d=0==g?"after":g==t.text.length?"before":Qt(e,o,g-(l?1:0)).bottom+a<=i==l?"after":"before";var b=ln(e,L(n,g,d),"line",t,o);f=b.left,m=i<b.top||i>=b.bottom}return g=S(t.text,g,1),hn(n,g,d,m,r-f)}function mn(e,t,n,r,i,o,a){var s=T(function(s){var u=i[s],l=1!=u.level;return vn(ln(e,L(n,l?u.to:u.from,l?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),u=i[s];if(s>0){var l=1!=u.level,c=ln(e,L(n,l?u.from:u.to,l?"after":"before"),"line",t,r);vn(c,o,a,!0)&&c.top>a&&(u=i[s-1])}return u}function yn(e,t,n,r,i,o,a){var s=dn(e,t,r,a),u=s.begin,l=s.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var c=null,h=null,f=0;f<i.length;f++){var d=i[f];if(!(d.from>=l||d.to<=u)){var p=1!=d.level,v=Qt(e,r,p?Math.min(l,d.to)-1:Math.max(u,d.from)).right,g=v<o?o-v+1e9:v-o;(!c||h>g)&&(c=d,h=g)}}return c||(c=i[i.length-1]),c.from<u&&(c={from:u,to:c.to,level:c.level}),c.to>l&&(c={from:c.from,to:l,level:c.level}),c}function _n(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==vs){vs=r("pre");for(var i=0;i<49;++i)vs.appendChild(document.createTextNode("x")),vs.appendChild(r("br"));vs.appendChild(document.createTextNode("x"))}n(e.measure,vs);var o=vs.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function bn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=r("span","xxxxxxxxxx"),i=r("pre",[t]);n(e.measure,i);var o=t.getBoundingClientRect(),a=(o.right-o.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function wn(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:Cn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Cn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function En(e){var t=_n(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/bn(e.display)-3);return function(i){if(ge(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Sn(e){var t=e.doc,n=En(e);t.iter(function(e){var t=n(e);t!=e.height&&I(e,t)})}function Tn(e,t,n,r){var i=e.display;if(!n&&"true"==Le(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var u,l=fn(e,o,a);if(r&&1==l.xRel&&(u=N(e.doc,l.line).text).length==l.ch){var c=h(u,u.length,e.options.tabSize)-u.length;l=L(l.line,Math.max(0,Math.round((o-Ut(e.display).left)/bn(e.display))-c))}return l}function kn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Nn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function xn(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var u=s.empty();(u||e.options.showCursorWhenSelecting)&&On(e,s.head,i),u||Pn(e,s,o)}}return r}function On(e,t,n){var i=ln(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(r("div","\xa0","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var a=n.appendChild(r("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=i.other.left+"px",a.style.top=i.other.top+"px",a.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function In(e,t){return e.top-t.top||e.left-t.left}function Pn(e,t,n){function i(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),u.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?h-e:n)+"px;\n                             height: "+(i-t)+"px"))}function o(t,n,r){function o(n,r){return un(e,L(t,n),"div",d,r)}function a(t,n,r){var i=pn(e,d,null,t),a="ltr"==n==("after"==r)?"left":"right";return o("after"==r?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1),a)[a]}var u,l,d=N(s,t),p=d.text.length,v=Ee(d,s.direction);return we(v,n||0,null==r?p:r,function(e,t,s,d){var g="ltr"==s,m=o(e,g?"left":"right"),y=o(t-1,g?"right":"left"),_=null==n&&0==e,b=null==r&&t==p,w=0==d,C=!v||d==v.length-1;if(y.top-m.top<=3){var E=(f?_:b)&&w,S=(f?b:_)&&C,T=E?c:(g?m:y).left,k=S?h:(g?y:m).right;i(T,m.top,k-T,m.bottom)}else{var N,x,O,I;g?(N=f&&_&&w?c:m.left,x=f?h:a(e,s,"before"),O=f?c:a(t,s,"after"),I=f&&b&&C?h:y.right):(N=f?a(e,s,"before"):c,x=!f&&_&&w?h:m.right,O=!f&&b&&C?c:y.left,I=f?a(t,s,"after"):h),i(N,m.top,x-N,m.bottom),m.bottom<y.top&&i(c,m.bottom,null,y.top),i(O,y.top,I-O,y.bottom)}(!u||In(m,u)<0)&&(u=m),In(y,u)<0&&(u=y),(!l||In(m,l)<0)&&(l=m),In(y,l)<0&&(l=y)}),{start:u,end:l}}var a=e.display,s=e.doc,u=document.createDocumentFragment(),l=Ut(e.display),c=l.left,h=Math.max(a.sizerWidth,Wt(e)-a.sizer.offsetLeft)-l.right,f="ltr"==s.direction,d=t.from(),p=t.to();if(d.line==p.line)o(d.line,d.ch,p.ch);else{var v=N(s,d.line),g=N(s,p.line),m=he(v)==he(g),y=o(d.line,d.ch,m?v.text.length+1:null).end,_=o(p.line,m?0:null,p.ch).start;m&&(y.top<_.top-2?(i(y.right,y.top,null,y.bottom),i(c,_.top,_.left,_.bottom)):i(y.right,y.top,_.left-y.right,y.bottom)),y.bottom<_.top&&i(c,y.bottom,null,_.top)}n.appendChild(u)}function An(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Rn(e){e.state.focused||(e.display.input.focus(),Ln(e))}function Dn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Mn(e))},100)}function Ln(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ke(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ba&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),An(e))}function Mn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ke(e,"blur",e,t),e.state.focused=!1,Fa(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Fn(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=void 0;if(!i.hidden){if(ya&&_a<8){var a=i.node.offsetTop+i.node.offsetHeight;o=a-n,n=a}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var u=i.line.height-o;if(o<2&&(o=_n(t)),(u>.005||u<-.005)&&(I(i.line,o),Un(i.line),i.rest))for(var l=0;l<i.rest.length;l++)Un(i.rest[l])}}}function Un(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function jn(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Mt(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=A(t,r),a=A(t,i);if(n&&n.ensure){var s=n.ensure.from.line,u=n.ensure.to.line;s<o?(o=s,a=A(t,ye(N(t,s))+e.wrapper.clientHeight)):Math.min(u,t.lastLine())>=a&&(o=A(t,ye(N(t,u))-e.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function Wn(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Cn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Bn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=D(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var o=i.measure.appendChild(r("div",[r("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,s=o.offsetWidth-a;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(a,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Ar(e),!0}return!1}function Vn(e,t){if(!Ne(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!ka){var a=r("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Mt(e.display))+"px;\n                         height: "+(t.bottom-t.top+jt(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function Hn(e,t,n,r){null==r&&(r=0);var i;e.options.lineWrapping||t!=n||(t=t.ch?L(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?L(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=ln(e,t),u=n&&n!=t?ln(e,n):s;i={left:Math.min(s.left,u.left),top:Math.min(s.top,u.top)-r,right:Math.max(s.left,u.left),bottom:Math.max(s.bottom,u.bottom)+r};var l=zn(e,i),c=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=l.scrollTop&&(Jn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(er(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(a=!0)),!a)break}return i}function Kn(e,t){var n=zn(e,t);null!=n.scrollTop&&Jn(e,n.scrollTop),null!=n.scrollLeft&&er(e,n.scrollLeft)}function zn(e,t){var n=e.display,r=_n(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Bt(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Ft(n),u=t.top<r,l=t.bottom>s-r;if(t.top<i)a.scrollTop=u?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(l?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,f=Wt(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),d=t.right-t.left>f;return d&&(t.right=t.left+f),t.left<10?a.scrollLeft=0:t.left<h?a.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>f+h-3&&(a.scrollLeft=t.right+(d?0:10)-f),a}function qn(e,t){null!=t&&(Yn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Gn(e){Yn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Qn(e,t,n){null==t&&null==n||Yn(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Xn(e,t){Yn(e),e.curOp.scrollToPos=t}function Yn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;$n(e,cn(e,t.from),cn(e,t.to),t.margin)}}function $n(e,t,n,r){var i=zn(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Qn(e,i.scrollLeft,i.scrollTop)}function Jn(e,t){Math.abs(e.doc.scrollTop-t)<2||(pa||Ir(e,{top:t}),Zn(e,t,!0),pa&&Ir(e),Er(e,100))}function Zn(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function er(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Wn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function tr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Ft(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+jt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function nr(e,t){t||(t=tr(e));var n=e.display.barWidth,r=e.display.barHeight;rr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Fn(e),rr(e,tr(e)),n=e.display.barWidth,r=e.display.barHeight}function rr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function ir(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Fa(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Es[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ts(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?er(e,t):Jn(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function or(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ss},mt(e.curOp)}function ar(e){_t(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;sr(e)})}function sr(e){for(var t=e.ops,n=0;n<t.length;n++)ur(t[n]);for(var r=0;r<t.length;r++)lr(t[r]);for(var i=0;i<t.length;i++)cr(t[i]);for(var o=0;o<t.length;o++)hr(t[o]);for(var a=0;a<t.length;a++)fr(t[a])}function ur(e){var t=e.cm,n=t.display;Tr(t),e.updateMaxLine&&be(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ts(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function lr(e){e.updatedDisplay=e.mustUpdate&&xr(e.cm,e.update)}function cr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Fn(t),e.barMeasure=tr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=zt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+jt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Wt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function hr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&er(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==a();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&nr(t,e.barMeasure),e.updatedDisplay&&Rr(t,e.barMeasure),e.selectionChanged&&An(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Rn(e.cm)}function fr(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Or(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Zn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&er(t,e.scrollLeft,!0,!0),e.scrollToPos){Vn(t,Hn(t,V(r,e.scrollToPos.from),V(r,e.scrollToPos.to),e.scrollToPos.margin))}var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||ke(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&ke(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ke(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function dr(e,t){if(e.curOp)return t();or(e);try{return t()}finally{ar(e)}}function pr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);or(e);try{return t.apply(e,arguments)}finally{ar(e)}}}function vr(e){return function(){if(this.curOp)return e.apply(this,arguments);or(this);try{return e.apply(this,arguments)}finally{ar(this)}}}function gr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);or(t);try{return e.apply(this,arguments)}finally{ar(t)}}}function mr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)$a&&pe(e.doc,t)<i.viewTo&&_r(e);else if(n<=i.viewFrom)$a&&ve(e.doc,n+r)>i.viewFrom?_r(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)_r(e);else if(t<=i.viewFrom){var o=br(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):_r(e)}else if(n>=i.viewTo){var a=br(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):_r(e)}else{var s=br(e,t,t,-1),u=br(e,n,n+r,1);s&&u?(i.view=i.view.slice(0,s.index).concat(gt(e,s.lineN,u.lineN)).concat(i.view.slice(u.index)),i.viewTo+=r):_r(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function yr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[kn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==f(a,n)&&a.push(n)}}}function _r(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function br(e,t,n,r){var i,o=kn(e,t),a=e.display.view;if(!$a||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,u=0;u<o;u++)s+=a[u].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;pe(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function wr(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=gt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=gt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(kn(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(gt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,kn(e,n)))),r.viewTo=n}function Cr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Er(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,l(Sr,e))}function Sr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Ye(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?ze(t.mode,r.state):null,u=Qe(e,o,r,!0);s&&(r.state=s),o.styles=u.styles;var l=o.styleClasses,c=u.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var h=!a||a.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),f=0;!h&&f<a.length;++f)h=a[f]!=o.styles[f];h&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&$e(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Er(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&dr(e,function(){for(var t=0;t<i.length;t++)yr(e,i[t],"text")})}}function Tr(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=jt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=jt(e)+"px",t.scrollbarsClipped=!0)}function kr(e){if(e.hasFocus())return null;var t=a();if(!t||!o(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&o(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Nr(e){if(e&&e.activeElt&&e.activeElt!=a()&&(e.activeElt.focus(),e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function xr(e,n){var r=e.display,i=e.doc;if(n.editorIsHidden)return _r(e),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Cr(e))return!1;Bn(e)&&(_r(e),n.dims=wn(e));var o=i.first+i.size,a=Math.max(n.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,n.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(i.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(o,r.viewTo)),$a&&(a=pe(e.doc,a),s=ve(e.doc,s));var u=a!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;wr(e,a,s),r.viewOffset=ye(N(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var l=Cr(e);if(!u&&0==l&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=kr(e);return l>4&&(r.lineDiv.style.display="none"),Pr(e,r.updateLineNumbers,n.dims),l>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Nr(c),t(r.cursorDiv),t(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,u&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,Er(e,400)),r.updateLineNumbers=null,!0}function Or(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Wt(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ft(e.display)-Bt(e),n.top)}),t.visible=jn(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&xr(e,t);r=!1){Fn(e);var i=tr(e);Nn(e),nr(e,i),Rr(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Ir(e,t){var n=new Ts(e,t);if(xr(e,n)){Fn(e),Or(e,n);var r=tr(e);Nn(e),nr(e,r),Rr(e,r),n.finish()}}function Pr(e,n,r){function i(t){var n=t.nextSibling;return ba&&Ia&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,a=e.options.lineNumbers,s=o.lineDiv,u=s.firstChild,l=o.view,c=o.viewFrom,h=0;h<l.length;h++){var d=l[h];if(d.hidden);else if(d.node&&d.node.parentNode==s){for(;u!=d.node;)u=i(u);var p=a&&null!=n&&n<=c&&d.lineNumber;d.changes&&(f(d.changes,"gutter")>-1&&(p=!1),Ct(e,d,c,r)),p&&(t(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(D(e.options,c)))),u=d.node.nextSibling}else{var v=It(e,d,c,r);s.insertBefore(v,u)}c+=d.size}for(;u;)u=i(u)}function Ar(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Rr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+jt(e)+"px"}function Dr(e){var n=e.display.gutters,i=e.options.gutters;t(n);for(var o=0;o<i.length;++o){var a=i[o],s=n.appendChild(r("div",null,"CodeMirror-gutter "+a));"CodeMirror-linenumbers"==a&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}n.style.display=o?"":"none",Ar(e)}function Lr(e){var t=f(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Mr(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Fr(e){var t=Mr(e);return t.x*=Ns,t.y*=Ns,t}function Ur(e,t){var n=Mr(t),r=n.x,i=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(r&&s||i&&u){if(i&&Ia&&ba)e:for(var l=t.target,c=o.view;l!=a;l=l.parentNode)for(var h=0;h<c.length;h++)if(c[h].node==l){e.display.currentWheelTarget=l;break e}if(r&&!pa&&!Ea&&null!=Ns)return i&&u&&Jn(e,Math.max(0,a.scrollTop+i*Ns)),er(e,Math.max(0,a.scrollLeft+r*Ns)),(!i||i&&u)&&Pe(t),void(o.wheelStartX=null);if(i&&null!=Ns){var f=i*Ns,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;f<0?d=Math.max(0,d+f-50):p=Math.min(e.doc.height,p+f+50),Ir(e,{top:d,bottom:p})}ks<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ns=(Ns*ks+n)/(ks+1),++ks)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function jr(e,t){var n=e[t];e.sort(function(e,t){return M(e.from(),t.from())}),t=f(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(M(o.to(),i.from())>=0){var a=W(o.from(),i.from()),s=j(o.to(),i.to()),u=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new Os(u?s:a,u?a:s))}}return new xs(e,t)}function Wr(e,t){return new xs([new Os(e,t||e)],0)}function Br(e){return e.text?L(e.from.line+e.text.length-1,v(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Vr(e,t){if(M(e,t.from)<0)return e;if(M(e,t.to)<=0)return Br(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Br(t).ch-t.to.ch),L(n,r)}function Hr(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Os(Vr(i.anchor,t),Vr(i.head,t)))}return jr(n,e.sel.primIndex)}function Kr(e,t,n){return e.line==t.line?L(n.line,e.ch-t.ch+n.ch):L(n.line+(e.line-t.line),e.ch)}function zr(e,t,n){for(var r=[],i=L(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],u=Kr(s.from,i,o),l=Kr(Br(s),i,o);if(i=s.to,o=l,"around"==n){var c=e.sel.ranges[a],h=M(c.head,c.anchor)<0;r[a]=new Os(h?l:u,h?u:l)}else r[a]=new Os(u,u)}return new xs(r,e.sel.primIndex)}function qr(e){e.doc.mode=He(e.options,e.doc.modeOption),Gr(e)}function Gr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Er(e,100),e.state.modeGen++,e.curOp&&mr(e)}function Qr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==v(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Xr(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){ot(e,n,i,r),bt(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new ps(l[o],i(o),r));return n}var s=t.from,u=t.to,l=t.text,c=N(e,s.line),h=N(e,u.line),f=v(l),d=i(l.length-1),p=u.line-s.line;if(t.full)e.insert(0,a(0,l.length)),e.remove(l.length,e.size-l.length);else if(Qr(e,t)){var g=a(0,l.length-1);o(h,h.text,d),p&&e.remove(s.line,p),g.length&&e.insert(s.line,g)}else if(c==h)if(1==l.length)o(c,c.text.slice(0,s.ch)+f+c.text.slice(u.ch),d);else{var m=a(1,l.length-1);m.push(new ps(f+c.text.slice(u.ch),d,r)),o(c,c.text.slice(0,s.ch)+l[0],i(0)),e.insert(s.line+1,m)}else if(1==l.length)o(c,c.text.slice(0,s.ch)+l[0]+h.text.slice(u.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+l[0],i(0)),o(h,f+h.text.slice(u.ch),d);var y=a(1,l.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}bt(e,"change",e,t)}function Yr(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var u=o&&s.sharedHist;n&&!u||(t(s.doc,u),r(s.doc,e,u))}}}r(e,null,!0)}function $r(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Sn(e),qr(e),Jr(e),e.options.lineWrapping||be(e),e.options.mode=t.modeOption,mr(e)}function Jr(e){("rtl"==e.doc.direction?s:Fa)(e.display.lineDiv,"CodeMirror-rtl")}function Zr(e){dr(e,function(){Jr(e),mr(e)})}function ei(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ti(e,t){var n={from:U(t.from),to:Br(t),text:x(e,t.from,t.to)};return ui(e,n,t.from.line,t.to.line+1),Yr(e,function(e){return ui(e,n,t.from.line,t.to.line+1)},!0),n}function ni(e){for(;e.length;){if(!v(e).ranges)break;e.pop()}}function ri(e,t){return t?(ni(e.done),v(e.done)):e.done.length&&!v(e.done).ranges?v(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),v(e.done)):void 0}function ii(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ri(i,i.lastOp==r)))a=v(o.changes),0==M(t.from,t.to)&&0==M(t.from,a.to)?a.to=Br(t):o.changes.push(ti(e,t));else{var u=v(i.done);for(u&&u.ranges||si(e.sel,i.done),o={changes:[ti(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||ke(e,"historyAdded")}function oi(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ai(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||oi(e,o,v(i.done),t))?i.done[i.done.length-1]=t:si(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&ni(i.undone)}function si(e,t){var n=v(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ui(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function li(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function ci(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(li(n[i]));return r}function hi(e,t){var n=ci(e,t),r=Z(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue e;o.push(u)}else a&&(n[i]=a)}return n}function fi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?xs.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var u=0;u<a.length;++u){var l=a[u],c=void 0;if(s.push({from:l.from,to:l.to,text:l.text}),t)for(var h in l)(c=h.match(/^spans_(\d+)$/))&&f(t,Number(c[1]))>-1&&(v(s)[h]=l[h],delete l[h])}}}return r}function di(e,t,n,r){if(r){var i=e.anchor;if(n){var o=M(t,i)<0;o!=M(n,i)<0?(i=t,t=n):o!=M(t,n)<0&&(t=n)}return new Os(i,t)}return new Os(n||t,t)}function pi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),bi(e,new xs([di(e.sel.primary(),t,n,i)],0),r)}function vi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=di(e.sel.ranges[o],t[o],null,i);bi(e,jr(r,e.sel.primIndex),n)}function gi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,bi(e,jr(i,e.sel.primIndex),r)}function mi(e,t,n,r){bi(e,Wr(t,n),r)}function yi(e,t,n){var r={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var r=0;r<t.length;r++)n.ranges[r]=new Os(V(e,t[r].anchor),V(e,t[r].head))},origin:n&&n.origin};return ke(e,"beforeSelectionChange",e,r),e.cm&&ke(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?jr(r.ranges,r.ranges.length-1):t}function _i(e,t,n){var r=e.history.done,i=v(r);i&&i.ranges?(r[r.length-1]=t,wi(e,t,n)):bi(e,t,n)}function bi(e,t,n){wi(e,t,n),ai(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function wi(e,t,n){(Oe(e,"beforeSelectionChange")||e.cm&&Oe(e.cm,"beforeSelectionChange"))&&(t=yi(e,t,n)),Ci(e,Si(e,t,n&&n.bias||(M(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Gn(e.cm)}function Ci(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,xe(e.cm)),bt(e,"cursorActivity",e))}function Ei(e){Ci(e,Si(e,e.sel,null,!1))}function Si(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],u=ki(e,a.anchor,s&&s.anchor,n,r),l=ki(e,a.head,s&&s.head,n,r);(i||u!=a.anchor||l!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Os(u,l))}return i?jr(i,t.primIndex):t}function Ti(e,t,n,r,i){var o=N(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],u=s.marker;if((null==s.from||(u.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(ke(u,"beforeCursorEnter"),u.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!u.atomic)continue;if(n){var l=u.find(r<0?1:-1),c=void 0;if((r<0?u.inclusiveRight:u.inclusiveLeft)&&(l=Ni(e,l,-r,l&&l.line==t.line?o:null)),l&&l.line==t.line&&(c=M(l,n))&&(r<0?c<0:c>0))return Ti(e,l,t,r,i)}var h=u.find(r<0?-1:1);return(r<0?u.inclusiveLeft:u.inclusiveRight)&&(h=Ni(e,h,r,h.line==t.line?o:null)),h?Ti(e,h,t,r,i):null}}return t}function ki(e,t,n,r,i){var o=r||1,a=Ti(e,t,n,o,i)||!i&&Ti(e,t,n,o,!0)||Ti(e,t,n,-o,i)||!i&&Ti(e,t,n,-o,!0);return a||(e.cantEdit=!0,L(e.first,0))}function Ni(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?V(e,L(t.line-1)):null:n>0&&t.ch==(r||N(e,t.line)).text.length?t.line<e.first+e.size-1?L(t.line+1,0):null:new L(t.line,t.ch+n)}function xi(e){e.setSelection(L(e.firstLine(),0),L(e.lastLine()),Ka)}function Oi(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=V(e,t)),n&&(r.to=V(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),ke(e,"beforeChange",e,r),e.cm&&ke(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Ii(e,t,n){if(e.cm){if(!e.cm.curOp)return pr(e.cm,Ii)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Oe(e,"beforeChange")||e.cm&&Oe(e.cm,"beforeChange"))||(t=Oi(e,t,!0))){var r=Ya&&!n&&te(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Pi(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Pi(e,t)}}function Pi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=M(t.from,t.to)){var n=Hr(e,t);ii(e,t,n,e.cm?e.cm.curOp.id:NaN),Di(e,t,n,Z(e,t));var r=[];Yr(e,function(e,n){n||-1!=f(r,e.history)||(ji(e.history,t),r.push(e.history)),Di(e,t,null,Z(e,t))})}}function Ai(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,u="undo"==t?o.undone:o.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(i=s.pop(),!i.ranges){if(r)return void s.push(i);break}if(si(i,u),n&&!i.equals(e.sel))return void bi(e,i,{clearRedo:!1});a=i}var c=[];si(a,u),u.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var h=Oe(e,"beforeChange")||e.cm&&Oe(e.cm,"beforeChange"),d=i.changes.length-1;d>=0;--d){var p=function(n){var r=i.changes[n];if(r.origin=t,h&&!Oi(e,r,!1))return s.length=0,{};c.push(ti(e,r));var o=n?Hr(e,r):v(s);Di(e,r,o,hi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Br(r)});var a=[];Yr(e,function(e,t){t||-1!=f(a,e.history)||(ji(e.history,r),a.push(e.history)),Di(e,r,null,hi(e,r))})}(d);if(p)return p.v}}}}function Ri(e,t){if(0!=t&&(e.first+=t,e.sel=new xs(g(e.sel.ranges,function(e){return new Os(L(e.anchor.line+t,e.anchor.ch),L(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){mr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)yr(e.cm,r,"gutter")}}function Di(e,t,n,r){if(e.cm&&!e.cm.curOp)return pr(e.cm,Di)(e,t,n,r);if(t.to.line<e.first)return void Ri(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Ri(e,i),t={from:L(e.first,0),to:L(t.to.line+i,t.to.ch),text:[v(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:L(o,N(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=x(e,t.from,t.to),n||(n=Hr(e,t)),e.cm?Li(e.cm,t,r):Xr(e,t,r),wi(e,n,Ka)}}function Li(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,u=o.line;e.options.lineWrapping||(u=P(he(N(r,o.line))),r.iter(u,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&xe(e),Xr(r,t,n,En(e)),e.options.lineWrapping||(r.iter(u,o.line+t.text.length,function(e){var t=_e(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),it(r,o.line),Er(e,400);var l=t.text.length-(a.line-o.line)-1;t.full?mr(e):o.line!=a.line||1!=t.text.length||Qr(e.doc,t)?mr(e,o.line,a.line+1,l):yr(e,o.line,"text");var c=Oe(e,"changes"),h=Oe(e,"change");if(h||c){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};h&&bt(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function Mi(e,t,n,r,i){if(r||(r=n),M(r,n)<0){var o;o=[r,n],n=o[0],r=o[1]}"string"==typeof t&&(t=e.splitLines(t)),Ii(e,{from:n,to:r,text:t,origin:i})}function Fi(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Ui(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)Fi(o.ranges[s].anchor,t,n,r),Fi(o.ranges[s].head,t,n,r)}else{for(var u=0;u<o.changes.length;++u){var l=o.changes[u];if(n<l.from.line)l.from=L(l.from.line+r,l.from.ch),l.to=L(l.to.line+r,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function ji(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Ui(e.done,n,r,i),Ui(e.undone,n,r,i)}function Wi(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=N(e,B(e,t)):i=P(t),null==i?null:(r(o,i)&&e.cm&&yr(e.cm,i,n),o)}function Bi(e){var t=this;this.lines=e,this.parent=null;for(var n=0,r=0;r<e.length;++r)e[r].parent=t,n+=e[r].height;this.height=n}function Vi(e){var t=this;this.children=e;for(var n=0,r=0,i=0;i<e.length;++i){var o=e[i];n+=o.chunkSize(),r+=o.height,o.parent=t}this.size=n,this.height=r,this.parent=null}function Hi(e,t,n){ye(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&qn(e,n)}function Ki(e,t,n,r){var i=new Is(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Wi(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!ge(e,t)){var r=ye(t)<e.scrollTop;I(t,t.height+Dt(i)),r&&qn(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&bt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:P(t)),i}function zi(e,t,n,r,o){if(r&&r.shared)return qi(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return pr(e.cm,zi)(e,t,n,r,o);var a=new As(e,o),s=M(t,n);if(r&&c(r,a,!1),s>0||0==s&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=i("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(ce(e,t.line,t,n,a)||t.line!=n.line&&ce(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");q()}a.addToHistory&&ii(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var u,l=t.line,h=e.cm;if(e.iter(l,n.line+1,function(e){h&&a.collapsed&&!h.options.lineWrapping&&he(e)==h.display.maxLine&&(u=!0),a.collapsed&&l!=t.line&&I(e,0),Y(e,new G(a,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),a.collapsed&&e.iter(t.line,n.line+1,function(t){ge(e,t)&&I(t,0)}),a.clearOnEnter&&ts(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(z(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++Ps,a.atomic=!0),h){if(u&&(h.curOp.updateMaxLine=!0),a.collapsed)mr(h,t.line,n.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var f=t.line;f<=n.line;f++)yr(h,f,"text");a.atomic&&Ei(h.doc),bt(h,"markerAdded",h,a)}return a}function qi(e,t,n,r,i){r=c(r),r.shared=!1;var o=[zi(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Yr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(zi(e,V(e,t),V(e,n),r,i));for(var u=0;u<e.linked.length;++u)if(e.linked[u].isParent)return;a=v(o)}),new Rs(o,a)}function Gi(e){return e.findMarks(L(e.first,0),e.clipPos(L(e.lastLine())),function(e){return e.parent})}function Qi(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(M(o,a)){var s=zi(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Xi(e){for(var t=0;t<e.length;t++)!function(t){var n=e[t],r=[n.primary.doc];Yr(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==f(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}(t)}function Yi(e){var t=this;if(Zi(t),!Ne(t,e)&&!Lt(t.display,e)){Pe(e),ya&&(Ms=+new Date);var n=Tn(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=0;s<i;++s)!function(e,r){if(!t.options.allowDropFileTypes||-1!=f(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=pr(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++a==i){n=V(t.doc,n);var u={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Ii(t.doc,u),_i(t.doc,Wr(n,Br(u)))}}),s.readAsText(e)}}(r[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var l;if(t.state.draggingText&&!t.state.draggingText.copy&&(l=t.listSelections()),wi(t.doc,Wr(n,n)),l)for(var c=0;c<l.length;++c)Mi(t.doc,"",l[c].anchor,l[c].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function $i(e,t){if(ya&&(!e.state.draggingText||+new Date-Ms<100))return void De(t);if(!Ne(e,t)&&!Lt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Sa)){var n=r("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ea&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Ea&&n.parentNode.removeChild(n)}}function Ji(e,t){var i=Tn(e,t);if(i){var o=document.createDocumentFragment();On(e,i,o),e.display.dragCursor||(e.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function Zi(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function eo(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function to(){Fs||(no(),Fs=!0)}function no(){var e;ts(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,eo(ro)},100))}),ts(window,"blur",function(){return eo(Mn)})}function ro(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function io(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,o,a=0;a<t.length-1;a++){var s=t[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function oo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=g(n.split(" "),io),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var u=t[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var l in t)e[l]=t[l];return e}function ao(e,t,n,r){t=co(t);var i=t.call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ao(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=ao(e,t.fallthrough[o],n,r);if(a)return a}}}function so(e){var t="string"==typeof e?e:Us[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function uo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(La?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(La?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function lo(e,t){if(Ea&&34==e.keyCode&&e.char)return!1;var n=Us[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),uo(n,e,t))}function co(e){return"string"==typeof e?Vs[e]:e}function ho(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&M(o.from,v(r).to)<=0;){var a=r.pop();if(M(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}dr(e,function(){for(var t=r.length-1;t>=0;t--)Mi(e.doc,"",r[t].from,r[t].to,"+delete");Gn(e)})}function fo(e,t,n){var r=S(e.text,t+n,n);return r<0||r>e.text.length?null:r}function po(e,t,n){var r=fo(e,t.ch,n);return null==r?null:new L(t.line,r,n<0?"after":"before")}function vo(e,t,n,r,i){if(e){var o=Ee(n,t.doc.direction);if(o){var a,s=i<0?v(o):o[0],u=i<0==(1==s.level),l=u?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Gt(t,n);a=i<0?n.text.length-1:0;var h=Qt(t,c,a).top;a=T(function(e){return Qt(t,c,e).top==h},i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=fo(n,a,1))}else a=i<0?s.to:s.from;return new L(r,a,l)}}return new L(r,i<0?n.text.length:0,i<0?"before":"after")}function go(e,t,n,r){var i=Ee(t,e.doc.direction);if(!i)return po(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=Ce(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return po(t,n,r);var s,u=function(e,n){return fo(t,e instanceof L?e.ch:e,n)},l=function(n){return e.options.lineWrapping?(s=s||Gt(e,t),pn(e,t,s,n)):{begin:0,end:t.text.length}},c=l("before"==n.sticky?u(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var h=1==a.level==r<0,f=u(n,h?1:-1);if(null!=f&&(h?f<=a.to&&f<=c.end:f>=a.from&&f>=c.begin)){var d=h?"before":"after";return new L(n.line,f,d)}}var p=function(e,t,r){for(var o=function(e,t){return t?new L(n.line,u(e,1),"before"):new L(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),l=s?r.begin:u(r.end,-1);if(a.from<=l&&l<a.to)return o(l,s);if(l=s?a.from:u(a.to,-1),r.begin<=l&&l<r.end)return o(l,s)}},v=p(o+r,r,c);if(v)return v;var g=r>0?c.end:u(c.begin,-1);return null==g||r>0&&g==t.text.length||!(v=p(r>0?0:i.length-1,r,l(g)))?null:v}function mo(e,t){var n=N(e.doc,t),r=he(n);return r!=n&&(t=P(r)),vo(!0,e,r,t,1)}function yo(e,t){var n=N(e.doc,t),r=fe(n);return r!=n&&(t=P(r)),vo(!0,e,n,t,-1)}function _o(e,t){var n=mo(e,t.line),r=N(e.doc,n.line),i=Ee(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return L(n.line,a?0:o,n.sticky)}return n}function bo(e,t,n){if("string"==typeof t&&!(t=Hs[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Ha}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function wo(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=ao(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&ao(t,e.options.extraKeys,n,e)||ao(t,e.options.keyMap,n,e)}function Co(e,t,n,r){var i=e.state.keySeq;if(i){if(so(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Ks.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Eo(e,i+" "+t,n,r))return!0}return Eo(e,t,n,r)}function Eo(e,t,n,r){var i=wo(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&bt(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(Pe(n),An(e)),!!i}function So(e,t){var n=lo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?Co(e,"Shift-"+n,t,function(t){return bo(e,t,!0)})||Co(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return bo(e,t)}):Co(e,n,t,function(t){return bo(e,t)}))}function To(e,t,n){return Co(e,"'"+n+"'",t,function(t){return bo(e,t,!0)})}function ko(e){var t=this;if(t.curOp.focus=a(),!Ne(t,e)){ya&&_a<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=So(t,e);Ea&&(zs=r?n:null,!r&&88==n&&!os&&(Ia?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||No(t)}}function No(e){function t(e){18!=e.keyCode&&e.altKey||(Fa(n,"CodeMirror-crosshair"),Te(document,"keyup",t),Te(document,"mouseover",t))}var n=e.display.lineDiv;s(n,"CodeMirror-crosshair"),ts(document,"keyup",t),ts(document,"mouseover",t)}function xo(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ne(this,e)}function Oo(e){var t=this;if(!(Lt(t.display,e)||Ne(t,e)||e.ctrlKey&&!e.altKey||Ia&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(Ea&&n==zs)return zs=null,void Pe(e);if(!Ea||e.which&&!(e.which<10)||!So(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(To(t,e,i)||t.display.input.onKeyPress(e))}}}function Io(e,t){var n=+new Date;return Qs&&Qs.compare(n,e,t)?(Gs=Qs=null,"triple"):Gs&&Gs.compare(n,e,t)?(Qs=new qs(n,e,t),Gs=null,"double"):(Gs=new qs(n,e,t),Qs=null,"single")}function Po(e){var t=this,n=t.display;if(!(Ne(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Lt(n,e))return void(ba||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!Wo(t,e)){var r=Tn(t,e),i=Me(e),o=r?Io(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&Ao(t,i,r,o,e)||(1==i?r?Do(t,r,o,e):Le(e)==n.scroller&&Pe(e):2==i?(r&&pi(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(Ma?Bo(t,e):Dn(t)))}}}function Ao(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,Co(e,uo(o,i),i,function(t){if("string"==typeof t&&(t=Hs[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=Ha}finally{e.state.suppressEdits=!1}return r})}function Ro(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=Pa?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=Ia?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Ia?n.altKey:n.ctrlKey)),i}function Do(e,t,n,r){ya?setTimeout(l(Rn,e),0):e.curOp.focus=a();var i,o=Ro(e,n,r),s=e.doc.sel;e.options.dragDrop&&ns&&!e.isReadOnly()&&"single"==n&&(i=s.contains(t))>-1&&(M((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(M(i.to(),t)>0||t.xRel<0)?Lo(e,r,t,o):Fo(e,r,t,o)}function Lo(e,t,n,r){var i=e.display,o=!1,a=pr(e,function(t){ba&&(i.scroller.draggable=!1),e.state.draggingText=!1,Te(document,"mouseup",a),Te(document,"mousemove",s),Te(i.scroller,"dragstart",u),Te(i.scroller,"drop",a),o||(Pe(t),r.addNew||pi(e.doc,n,null,null,r.extend),ba||ya&&9==_a?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},u=function(){return o=!0};ba&&(i.scroller.draggable=!0),e.state.draggingText=a,a.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),ts(document,"mouseup",a),ts(document,"mousemove",s),ts(i.scroller,"dragstart",u),ts(i.scroller,"drop",a),Dn(e),setTimeout(function(){return i.input.focus()},20)}function Mo(e,t,n){if("char"==n)return new Os(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Os(L(t.line,0),V(e.doc,L(t.line+1,0)));var r=n(e,t);return new Os(r.from,r.to)}function Fo(e,t,n,r){function i(t){if(0!=M(m,t))if(m=t,"rectangle"==r.unit){for(var i=[],o=e.options.tabSize,a=h(N(l,n.line).text,n.ch,o),s=h(N(l,t.line).text,t.ch,o),u=Math.min(a,s),v=Math.max(a,s),g=Math.min(n.line,t.line),y=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=y;g++){var _=N(l,g).text,b=d(_,u,o);u==v?i.push(new Os(L(g,b),L(g,b))):_.length>b&&i.push(new Os(L(g,b),L(g,d(_,v,o))))}i.length||i.push(new Os(n,n)),bi(l,jr(p.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var w,C=c,E=Mo(e,t,r.unit),S=C.anchor;M(E.anchor,S)>0?(w=E.head,S=W(C.from(),E.anchor)):(w=E.anchor,S=j(C.to(),E.head));var T=p.ranges.slice(0);T[f]=Uo(e,new Os(V(l,S),w)),bi(l,jr(T,f),za)}}function o(t){var n=++_,s=Tn(e,t,!0,"rectangle"==r.unit);if(s)if(0!=M(s,m)){e.curOp.focus=a(),i(s);var c=jn(u,l);(s.line>=c.to||s.line<c.from)&&setTimeout(pr(e,function(){_==n&&o(t)}),150)}else{var h=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;h&&setTimeout(pr(e,function(){_==n&&(u.scroller.scrollTop+=h,o(t))}),50)}}function s(t){e.state.selectingText=!1,_=1/0,Pe(t),u.input.focus(),Te(document,"mousemove",b),Te(document,"mouseup",w),l.history.lastSelOrigin=null}var u=e.display,l=e.doc;Pe(t);var c,f,p=l.sel,v=p.ranges;if(r.addNew&&!r.extend?(f=l.sel.contains(n),c=f>-1?v[f]:new Os(n,n)):(c=l.sel.primary(),f=l.sel.primIndex),"rectangle"==r.unit)r.addNew||(c=new Os(n,n)),n=Tn(e,t,!0,!0),f=-1;else{var g=Mo(e,n,r.unit);c=r.extend?di(c,g.anchor,g.head,r.extend):g}r.addNew?-1==f?(f=v.length,bi(l,jr(v.concat([c]),f),{scroll:!1,origin:"*mouse"})):v.length>1&&v[f].empty()&&"char"==r.unit&&!r.extend?(bi(l,jr(v.slice(0,f).concat(v.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),p=l.sel):gi(l,f,c,za):(f=0,bi(l,new xs([c],0),za),p=l.sel);var m=n,y=u.wrapper.getBoundingClientRect(),_=0,b=pr(e,function(e){Me(e)?o(e):s(e)}),w=pr(e,s);e.state.selectingText=w,ts(document,"mousemove",b),ts(document,"mouseup",w)}function Uo(e,t){var n=t.anchor,r=t.head,i=N(e.doc,n.line);if(0==M(n,r)&&n.sticky==r.sticky)return t;var o=Ee(i);if(!o)return t;var a=Ce(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var u=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return t;var l;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Ce(o,r.ch,r.sticky),h=c-a||(r.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?h<0:h>0}var f=o[u+(l?-1:0)],d=l==(1==f.level),p=d?f.from:f.to,v=d?"after":"before";return n.ch==p&&n.sticky==v?t:new Os(new L(n.line,p,v),r)}function jo(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Pe(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Oe(e,n))return Re(t);o-=s.top-a.viewOffset;for(var u=0;u<e.options.gutters.length;++u){var l=a.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=i){return ke(e,n,e,A(e.doc,o),e.options.gutters[u],t),Re(t)}}}function Wo(e,t){return jo(e,t,"gutterClick",!0)}function Bo(e,t){Lt(e.display,t)||Vo(e,t)||Ne(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Vo(e,t){return!!Oe(e,"gutterContextMenu")&&jo(e,t,"gutterContextMenu",!1)}function Ho(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),tn(e)}function Ko(e){Dr(e),mr(e),Wn(e)}function zo(e,t,n){if(!t!=!(n&&n!=Xs)){var r=e.display.dragFunctions,i=t?ts:Te;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function qo(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Fa(e.display.wrapper,"CodeMirror-wrap"),be(e)),Sn(e),mr(e),tn(e),setTimeout(function(){return nr(e)},100)}function Go(e,t){var n=this;if(!(this instanceof Go))return new Go(e,t);this.options=t=t?c(t):{},c(Ys,t,!1),Lr(t);var r=t.value;"string"==typeof r&&(r=new Ls(r,t.mode,null,t.lineSeparator,t.direction)),this.doc=r;var i=new Go.inputStyles[t.inputStyle](this),o=this.display=new k(e,r,i);o.wrapper.CodeMirror=this,Dr(this),Ho(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ir(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new ja,keySeq:null,specialChars:null},t.autofocus&&!Oa&&o.input.focus(),ya&&_a<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Qo(this),to(),or(this),this.curOp.forceUpdate=!0,$r(this,r),t.autofocus&&!Oa||this.hasFocus()?setTimeout(l(Ln,this),20):Mn(this);for(var a in $s)$s.hasOwnProperty(a)&&$s[a](n,t[a],Xs);Bn(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Js.length;++s)Js[s](n);ar(this),ba&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Qo(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;ts(i.scroller,"mousedown",pr(e,Po)),ya&&_a<11?ts(i.scroller,"dblclick",pr(e,function(t){if(!Ne(e,t)){var n=Tn(e,t);if(n&&!Wo(e,t)&&!Lt(e.display,t)){Pe(t);var r=e.findWordAt(n);pi(e.doc,r.anchor,r.head)}}})):ts(i.scroller,"dblclick",function(t){return Ne(e,t)||Pe(t)}),Ma||ts(i.scroller,"contextmenu",function(t){return Bo(e,t)});var o,a={end:0};ts(i.scroller,"touchstart",function(t){if(!Ne(e,t)&&!n(t)&&!Wo(e,t)){i.input.ensurePolled(),clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),ts(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),ts(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Lt(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new Os(s,s):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(s):new Os(L(s.line,0),V(e.doc,L(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),Pe(n)}t()}),ts(i.scroller,"touchcancel",t),ts(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Jn(e,i.scroller.scrollTop),er(e,i.scroller.scrollLeft,!0),ke(e,"scroll",e))}),ts(i.scroller,"mousewheel",function(t){return Ur(e,t)}),ts(i.scroller,"DOMMouseScroll",function(t){return Ur(e,t)}),ts(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Ne(e,t)||De(t)},over:function(t){Ne(e,t)||(Ji(e,t),De(t))},start:function(t){return $i(e,t)},drop:pr(e,Yi),leave:function(t){Ne(e,t)||Zi(e)}};var s=i.input.getField();ts(s,"keyup",function(t){return xo.call(e,t)}),ts(s,"keydown",pr(e,ko)),ts(s,"keypress",pr(e,Oo)),ts(s,"focus",function(t){return Ln(e,t)}),ts(s,"blur",function(t){return Mn(e,t)})}function Xo(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Ye(e,t).state:n="prev");var a=e.options.tabSize,s=N(o,t),u=h(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((l=o.mode.indent(i,s.text.slice(c.length),s.text))==Ha||l>150)){if(!r)return;n="prev"}}else l=0,n="not";"prev"==n?l=t>o.first?h(N(o,t-1).text,null,a):0:"add"==n?l=u+e.options.indentUnit:"subtract"==n?l=u-e.options.indentUnit:"number"==typeof n&&(l=u+n),l=Math.max(0,l);var f="",d=0;if(e.options.indentWithTabs)for(var v=Math.floor(l/a);v;--v)d+=a,f+="\t";if(d<l&&(f+=p(l-d)),f!=c)return Mi(o,f,L(t,0),L(t,c.length),"+input"),s.stateAfter=null,!0;for(var g=0;g<o.sel.ranges.length;g++){var m=o.sel.ranges[g];if(m.head.line==t&&m.head.ch<c.length){var y=L(t,c.length);gi(o,g,new Os(y,y));break}}}function Yo(e){Zs=e}function $o(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=rs(t),u=null;if(a&&r.ranges.length>1)if(Zs&&Zs.text.join("\n")==t){if(r.ranges.length%Zs.text.length==0){u=[];for(var l=0;l<Zs.text.length;l++)u.push(o.splitLines(Zs.text[l]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=g(s,function(e){return[e]}));for(var c,h=r.ranges.length-1;h>=0;h--){var f=r.ranges[h],d=f.from(),p=f.to();f.empty()&&(n&&n>0?d=L(d.line,d.ch-n):e.state.overwrite&&!a?p=L(p.line,Math.min(N(o,p.line).text.length,p.ch+v(s).length)):Zs&&Zs.lineWise&&Zs.text.join("\n")==t&&(d=p=L(d.line,0))),c=e.curOp.updateInput;var m={from:d,to:p,text:u?u[h%u.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};Ii(e.doc,m),bt(e,"inputRead",e,m)}t&&!a&&Zo(e,t),Gn(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Jo(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||dr(t,function(){return $o(t,n,0,null,"paste")}),!0}function Zo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Xo(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(N(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Xo(e,i.head.line,"smart"));a&&bt(e,"electricInput",e,i.head.line)}}}function ea(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:L(i,0),head:L(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function ta(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function na(){var e=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=r("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ba?e.style.width="1000px":e.setAttribute("wrap","off"),Na&&(e.style.border="1px solid black"),ta(e),t}function ra(e,t,n,r,i){function o(){var r=t.line+n;return!(r<e.first||r>=e.first+e.size)&&(t=new L(r,t.ch,t.sticky),l=N(e,r))}function a(r){var a;if(null==(a=i?go(e.cm,l,t,n):po(l,t,n))){if(r||!o())return!1;t=vo(i,e.cm,l,t.line,n)}else t=a;return!0}var s=t,u=n,l=N(e,t.line);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var c=null,h="group"==r,f=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||a(!d);d=!1){var p=l.text.charAt(t.ch)||"\n",v=w(p,f)?"w":h&&"\n"==p?"n":!h||/\s/.test(p)?null:"p";if(!h||d||v||(v="s"),c&&c!=v){n<0&&(n=1,a(),t.sticky="after");break}if(v&&(c=v),n>0&&!a(!d))break}var g=ki(e,t,s,u,!0);return F(s,g)&&(g.hitSide=!0),g}function ia(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(s-.5*_n(e.display),3);i=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(var l;l=fn(e,a,i),l.outside;){if(n<0?i<=0:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function oa(e,t){var n=qt(e,t.line);if(!n||n.hidden)return null;var r=N(e.doc,t.line),i=Ht(n,r,t.line),o=Ee(r,e.doc.direction),a="left";if(o){a=Ce(o,t.ch)%2?"right":"left"}var s=Xt(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function aa(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function sa(e,t){return t&&(e.bad=!0),e}function ua(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function a(){c&&(l+=h,c=!1)}function s(e){e&&(a(),l+=e)}function u(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return void s(n||t.textContent.replace(/\u200b/g,""));var l,f=t.getAttribute("cm-marker");if(f){var d=e.findMarks(L(r,0),L(i+1,0),o(+f));return void(d.length&&(l=d[0].find(0))&&s(x(e.doc,l.from,l.to).join(h)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(t.nodeName);p&&a();for(var v=0;v<t.childNodes.length;v++)u(t.childNodes[v]);p&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue)}for(var l="",c=!1,h=e.doc.lineSeparator();u(t),t!=n;)t=t.nextSibling;return l}function la(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return sa(e.clipPos(L(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return ca(o,t,n)}}function ca(e,t,n){function r(t,n,r){for(var i=-1;i<(h?h.length:0);i++)for(var o=i<0?c.map:h[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var u=P(i<0?e.line:e.rest[i]),l=o[a]+r;return(r<0||s!=t)&&(l=o[a+(r?1:0)]),L(u,l)}}}var i=e.text.firstChild,a=!1;if(!t||!o(i,t))return sa(L(P(e.line),0),!0);if(t==i&&(a=!0,t=i.childNodes[n],n=0,!t)){var s=e.rest?v(e.rest):e.line;return sa(L(P(s),s.text.length),a)}var u=3==t.nodeType?t:null,l=t;for(u||1!=t.childNodes.length||3!=t.firstChild.nodeType||(u=t.firstChild,n&&(n=u.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var c=e.measure,h=c.maps,f=r(u,l,n);if(f)return sa(f,a);for(var d=l.nextSibling,p=u?u.nodeValue.length-n:0;d;d=d.nextSibling){if(f=r(d,d.firstChild,0))return sa(L(f.line,f.ch-p),a);p+=d.textContent.length}for(var g=l.previousSibling,m=n;g;g=g.previousSibling){if(f=r(g,g.firstChild,-1))return sa(L(f.line,f.ch+m),a);m+=g.textContent.length}}function ha(e,t){function n(){e.value=u.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=a();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var i;if(e.form&&(ts(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Te(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var u=Go(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return u}var fa=navigator.userAgent,da=navigator.platform,pa=/gecko\/\d/i.test(fa),va=/MSIE \d/.test(fa),ga=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fa),ma=/Edge\/(\d+)/.exec(fa),ya=va||ga||ma,_a=ya&&(va?document.documentMode||6:+(ma||ga)[1]),ba=!ma&&/WebKit\//.test(fa),wa=ba&&/Qt\/\d+\.\d+/.test(fa),Ca=!ma&&/Chrome\//.test(fa),Ea=/Opera\//.test(fa),Sa=/Apple Computer/.test(navigator.vendor),Ta=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(fa),ka=/PhantomJS/.test(fa),Na=!ma&&/AppleWebKit/.test(fa)&&/Mobile\/\w+/.test(fa),xa=/Android/.test(fa),Oa=Na||xa||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(fa),Ia=Na||/Mac/.test(da),Pa=/\bCrOS\b/.test(fa),Aa=/win/i.test(da),Ra=Ea&&fa.match(/Version\/(\d*\.\d*)/);Ra&&(Ra=Number(Ra[1])),Ra&&Ra>=15&&(Ea=!1,ba=!0);var Da,La=Ia&&(wa||Ea&&(null==Ra||Ra<12.11)),Ma=pa||ya&&_a>=9,Fa=function(t,n){var r=t.className,i=e(n).exec(r);if(i){var o=r.slice(i.index+i[0].length);t.className=r.slice(0,i.index)+(o?i[1]+o:"")}};Da=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Ua=function(e){e.select()};Na?Ua=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ya&&(Ua=function(e){try{e.select()}catch(e){}});var ja=function(){this.id=null};ja.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Wa,Ba,Va=30,Ha={toString:function(){return"CodeMirror.Pass"}},Ka={scroll:!1},za={origin:"*mouse"},qa={origin:"+move"},Ga=[""],Qa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Xa=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Ya=!1,$a=!1,Ja=null,Za=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?r.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,u=/[1n]/;return function(n,r){var l="ltr"==r?"L":"R";if(0==n.length||"ltr"==r&&!i.test(n))return!1;for(var c=n.length,h=[],f=0;f<c;++f)h.push(e(n.charCodeAt(f)));for(var d=0,p=l;d<c;++d){var g=h[d];"m"==g?h[d]=p:p=g}for(var m=0,y=l;m<c;++m){var _=h[m];"1"==_&&"r"==y?h[m]="n":a.test(_)&&(y=_,"r"==_&&(h[m]="R"))}for(var b=1,w=h[0];b<c-1;++b){var C=h[b];"+"==C&&"1"==w&&"1"==h[b+1]?h[b]="1":","!=C||w!=h[b+1]||"1"!=w&&"n"!=w||(h[b]=w),w=C}for(var E=0;E<c;++E){var S=h[E];if(","==S)h[E]="N";else if("%"==S){var T=void 0;for(T=E+1;T<c&&"%"==h[T];++T);for(var k=E&&"!"==h[E-1]||T<c&&"1"==h[T]?"1":"N",N=E;N<T;++N)h[N]=k;E=T-1}}for(var x=0,O=l;x<c;++x){var I=h[x];"L"==O&&"1"==I?h[x]="L":a.test(I)&&(O=I)}for(var P=0;P<c;++P)if(o.test(h[P])){var A=void 0;for(A=P+1;A<c&&o.test(h[A]);++A);for(var R="L"==(P?h[P-1]:l),D="L"==(A<c?h[A]:l),L=R==D?R?"L":"R":l,M=P;M<A;++M)h[M]=L;P=A-1}for(var F,U=[],j=0;j<c;)if(s.test(h[j])){var W=j;for(++j;j<c&&s.test(h[j]);++j);U.push(new t(0,W,j))}else{var B=j,V=U.length;for(++j;j<c&&"L"!=h[j];++j);for(var H=B;H<j;)if(u.test(h[H])){B<H&&U.splice(V,0,new t(1,B,H));var K=H;for(++H;H<j&&u.test(h[H]);++H);U.splice(V,0,new t(2,K,H)),B=H}else++H;B<j&&U.splice(V,0,new t(1,B,j))}return"ltr"==r&&(1==U[0].level&&(F=n.match(/^\s+/))&&(U[0].from=F[0].length,U.unshift(new t(0,0,F[0].length))),1==v(U).level&&(F=n.match(/\s+$/))&&(v(U).to-=F[0].length,U.push(new t(0,c-F[0].length,c)))),"rtl"==r?U.reverse():U}}(),es=[],ts=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||es).concat(n)}},ns=function(){if(ya&&_a<9)return!1;var e=r("div");return"draggable"in e||"dragDrop"in e}(),rs=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},is=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},os=function(){var e=r("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),as=null,ss={},us={},ls={},cs=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};cs.prototype.eol=function(){return this.pos>=this.string.length},cs.prototype.sol=function(){return this.pos==this.lineStart},cs.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},cs.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},cs.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},cs.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},cs.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},cs.prototype.skipToEnd=function(){this.pos=this.string.length},cs.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},cs.prototype.backUp=function(e){this.pos-=e},cs.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=h(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)},cs.prototype.indentation=function(){return h(this.string,null,this.tabSize)-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)},cs.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},cs.prototype.current=function(){return this.string.slice(this.start,this.pos)},cs.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},cs.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},cs.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var hs=function(e,t){this.state=e,this.lookAhead=t},fs=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};fs.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},fs.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},fs.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},fs.fromSaved=function(e,t,n){return t instanceof hs?new fs(e,ze(e.mode,t.state),n,t.lookAhead):new fs(e,ze(e.mode,t),n)},fs.prototype.save=function(e){var t=!1!==e?ze(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new hs(t,this.maxLookAhead):t};var ds=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},ps=function(e,t,n){this.text=e,re(this,t),this.height=n?n(this):1};ps.prototype.lineNo=function(){return P(this)},Ie(ps);var vs,gs={},ms={},ys=null,_s=null,bs={left:0,right:0,top:0,bottom:0},ws=function(e,t,n){this.cm=n;var i=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),ts(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),ts(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ya&&_a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ws.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},ws.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ws.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ws.prototype.zeroWidthHack=function(){var e=Ia&&!Ta?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ja,this.disableVert=new ja},ws.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},ws.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Cs=function(){};Cs.prototype.update=function(){return{bottom:0,right:0}},Cs.prototype.setScrollLeft=function(){},Cs.prototype.setScrollTop=function(){},Cs.prototype.clear=function(){};var Es={native:ws,null:Cs},Ss=0,Ts=function(e,t,n){var r=e.display;this.viewport=t,this.visible=jn(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Wt(e),this.force=n,this.dims=wn(e),this.events=[]};Ts.prototype.signal=function(e,t){Oe(e,t)&&this.events.push(arguments)},Ts.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)ke.apply(null,e.events[t])};var ks=0,Ns=null;ya?Ns=-.53:pa?Ns=15:Ca?Ns=-.7:Sa&&(Ns=-1/3);var xs=function(e,t){this.ranges=e,this.primIndex=t};xs.prototype.primary=function(){return this.ranges[this.primIndex]},xs.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],i=e.ranges[n];if(!F(r.anchor,i.anchor)||!F(r.head,i.head))return!1}return!0},xs.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new Os(U(e.ranges[n].anchor),U(e.ranges[n].head));return new xs(t,this.primIndex)},xs.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},xs.prototype.contains=function(e,t){var n=this;t||(t=e);for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(M(t,i.from())>=0&&M(e,i.to())<=0)return r}return-1};var Os=function(e,t){this.anchor=e,this.head=t};Os.prototype.from=function(){return W(this.anchor,this.head)},Os.prototype.to=function(){return j(this.anchor,this.head)},Os.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Bi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,r=e,i=e+t;r<i;++r){var o=n.lines[r];n.height-=o.height,at(o),bt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=r},iterN:function(e,t,n){for(var r=this,i=e+t;e<i;++e)if(n(r.lines[e]))return!0}},Vi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var i=n.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e),s=i.height;if(i.removeInner(e,a),n.height-=s-i.height,o==a&&(n.children.splice(r--,1),i.parent=null),0==(t-=a))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Bi))){var u=[];this.collapse(u),this.children=[new Bi(u)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var r=this;this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<=a){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,u=s;u<o.lines.length;){var l=new Bi(o.lines.slice(u,u+=25));o.height-=l.height,r.children.splice(++i,0,l),l.parent=r}o.lines=o.lines.slice(0,s),r.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Vi(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=f(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Vi(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=this,i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<a){var s=Math.min(t,a-e);if(o.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var Is=function(e,t,n){var r=this;if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);this.doc=e,this.node=t};Is.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,r=this.line,i=P(r);if(null!=i&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(r.widgets=null);var a=Dt(this);I(r,Math.max(0,r.height-a)),t&&(dr(t,function(){Hi(t,r,-a),yr(t,i,"widget")}),bt(t,"lineWidgetCleared",t,this,i))}},Is.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Dt(this)-t;i&&(I(r,r.height+i),n&&dr(n,function(){n.curOp.forceUpdate=!0,Hi(n,r,i),bt(n,"lineWidgetChanged",n,e,P(r))}))},Ie(Is);var Ps=0,As=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ps};As.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&or(t),Oe(this,"clear")){var r=this.find();r&&bt(this,"clear",r.from,r.to)}for(var i=null,o=null,a=0;a<this.lines.length;++a){var s=e.lines[a],u=Q(s.markedSpans,e);t&&!e.collapsed?yr(t,P(s),"text"):t&&(null!=u.to&&(o=P(s)),null!=u.from&&(i=P(s))),s.markedSpans=X(s.markedSpans,u),null==u.from&&e.collapsed&&!ge(e.doc,s)&&t&&I(s,_n(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=he(e.lines[l]),h=_e(c);h>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=h,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&mr(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Ei(t.doc)),t&&bt(t,"markerCleared",t,this,i,o),n&&ar(t),this.parent&&this.parent.clear()}},As.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var r,i,o=0;o<this.lines.length;++o){var a=n.lines[o],s=Q(a.markedSpans,n);if(null!=s.from&&(r=L(t?a:P(a),s.from),-1==e))return r;if(null!=s.to&&(i=L(t?a:P(a),s.to),1==e))return i}return r&&{from:r,to:i}},As.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&dr(r,function(){var i=t.line,o=P(t.line),a=qt(r,o);if(a&&(Zt(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!ge(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var u=Dt(n)-s;u&&I(i,i.height+u)}bt(r,"markerChanged",r,e)})},As.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=f(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},As.prototype.detachLine=function(e){if(this.lines.splice(f(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ie(As);var Rs=function(e,t){var n=this;this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=n};Rs.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();bt(this,"clear")}},Rs.prototype.find=function(e,t){return this.primary.find(e,t)},Ie(Rs);var Ds=0,Ls=function(e,t,n,r,i){if(!(this instanceof Ls))return new Ls(e,t,n,r,i);null==n&&(n=0),Vi.call(this,[new Bi([new ps("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=L(n,0);this.sel=Wr(o),this.history=new ei(null),this.id=++Ds,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Xr(this,{from:o,to:o,text:e}),bi(this,Wr(o),Ka)};Ls.prototype=_(Vi.prototype,{constructor:Ls,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=O(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:gr(function(e){var t=L(this.first,0),n=this.first+this.size-1;Ii(this,{from:t,to:L(n,N(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Qn(this.cm,0,0),bi(this,Wr(t),Ka)}),replaceRange:function(e,t,n,r){t=V(this,t),n=n?V(this,n):t,Mi(this,e,t,n,r)},getRange:function(e,t,n){var r=x(this,V(this,e),V(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(R(this,e))return N(this,e)},getLineNumber:function(e){return P(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=N(this,e)),he(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return V(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:gr(function(e,t,n){mi(this,V(this,"number"==typeof e?L(e,t||0):e),null,n)}),setSelection:gr(function(e,t,n){mi(this,V(this,e),V(this,t||e),n)}),extendSelection:gr(function(e,t,n){pi(this,V(this,e),t&&V(this,t),n)}),extendSelections:gr(function(e,t){vi(this,K(this,e),t)}),extendSelectionsBy:gr(function(e,t){vi(this,K(this,g(this.sel.ranges,e)),t)}),setSelections:gr(function(e,t,n){var r=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Os(V(r,e[o].anchor),V(r,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),bi(this,jr(i,t),n)}}),addSelection:gr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Os(V(this,e),V(this,t||e))),bi(this,jr(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this,r=this.sel.ranges,i=0;i<r.length;i++){var o=x(n,r[i].from(),r[i].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],r=this.sel.ranges,i=0;i<r.length;i++){var o=x(t,r[i].from(),r[i].to());!1!==e&&(o=o.join(e||t.lineSeparator())),n[i]=o}return n},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:gr(function(e,t,n){for(var r=this,i=[],o=this.sel,a=0;a<o.ranges.length;a++){var s=o.ranges[a];i[a]={from:s.from(),to:s.to(),text:r.splitLines(e[a]),origin:n}}for(var u=t&&"end"!=t&&zr(this,i,t),l=i.length-1;l>=0;l--)Ii(r,i[l]);u?_i(this,u):this.cm&&Gn(this.cm)}),undo:gr(function(){Ai(this,"undo")}),redo:gr(function(){Ai(this,"redo")}),undoSelection:gr(function(){Ai(this,"undo",!0)}),redoSelection:gr(function(){Ai(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ei(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:fi(this.history.done),undone:fi(this.history.undone)}},setHistory:function(e){var t=this.history=new ei(this.history.maxGeneration);t.done=fi(e.done.slice(0),null,!0),t.undone=fi(e.undone.slice(0),null,!0)},setGutterMarker:gr(function(e,t,n){return Wi(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&C(r)&&(e.gutterMarkers=null),!0})}),clearGutter:gr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Wi(t,n,"gutter",function(){return n.gutterMarkers[e]=null,C(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!R(this,e))return null;if(t=e,!(e=N(this,e)))return null}else if(null==(t=P(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:gr(function(t,n,r){return Wi(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[i]){if(e(r).test(t[i]))return!1;t[i]+=" "+r}else t[i]=r;return!0})}),removeLineClass:gr(function(t,n,r){return Wi(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==r)t[i]=null;else{var a=o.match(e(r));if(!a)return!1;var s=a.index+a[0].length;t[i]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:gr(function(e,t,n){return Ki(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return zi(this,V(this,e),V(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=V(this,e),zi(this,e,e,n,"bookmark")},findMarksAt:function(e){e=V(this,e);var t=[],n=N(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=V(this,e),t=V(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];null!=u.to&&i==e.line&&e.ch>=u.to||null==u.from&&i!=e.line||null!=u.from&&i==t.line&&u.from>=t.ch||n&&!n(u.marker)||r.push(u.marker.parent||u.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),V(this,L(n,t))},indexFromPos:function(e){e=V(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Ls(O(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ls(O(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Qi(r,Gi(this)),r},unlinkDoc:function(e){var t=this;if(e instanceof Go&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=t.linked[n];if(r.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),Xi(Gi(t));break}}if(e.history==this.history){var i=[e.id];Yr(e,function(e){return i.push(e.id)},!0),e.history=new ei(null),e.history.done=fi(this.history.done,i),e.history.undone=fi(this.history.undone,i)}},iterLinkedDocs:function(e){Yr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):rs(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:gr(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Zr(this.cm))})}),Ls.prototype.eachLine=Ls.prototype.iter;for(var Ms=0,Fs=!1,Us={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},js=0;js<10;js++)Us[js+48]=Us[js+96]=String(js);for(var Ws=65;Ws<=90;Ws++)Us[Ws]=String.fromCharCode(Ws);for(var Bs=1;Bs<=12;Bs++)Us[Bs+111]=Us[Bs+63235]="F"+Bs;var Vs={};Vs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vs.default=Ia?Vs.macDefault:Vs.pcDefault;var Hs={selectAll:xi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ka)},killLine:function(e){return ho(e,function(t){if(t.empty()){var n=N(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:L(t.head.line+1,0)}:{from:t.head,to:L(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return ho(e,function(t){return{from:L(t.from().line,0),to:V(e.doc,L(t.to().line+1,0))}})},delLineLeft:function(e){return ho(e,function(e){return{from:L(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(L(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(L(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return mo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return _o(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return yo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},qa)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},qa)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?_o(e,t.head):r},qa)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=h(e.getLine(o.line),o.ch,r);t.push(p(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return dr(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=N(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new L(i.line,i.ch-1)),i.ch>0)i=new L(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),L(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=N(e.doc,i.line-1).text;a&&(i=new L(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),L(i.line-1,a.length-1),i,"+transpose"))}n.push(new Os(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return dr(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Gn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Ks=new ja,zs=null,qs=function(e,t,n){this.time=e,this.pos=t,this.button=n};qs.prototype.compare=function(e,t,n){return this.time+400>e&&0==M(t,this.pos)&&n==this.button};var Gs,Qs,Xs={toString:function(){return"CodeMirror.Init"}},Ys={},$s={};Go.defaults=Ys,Go.optionHandlers=$s;var Js=[];Go.defineInitHook=function(e){return Js.push(e)};var Zs=null,eu=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ja,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};eu.prototype.init=function(e){function t(e){if(!Ne(i,e)){if(i.somethingSelected())Yo({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=ea(i);Yo({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Ka),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=Zs.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var a=na(),s=a.firstChild;i.display.lineSpace.insertBefore(a,i.display.lineSpace.firstChild),s.value=Zs.text.join("\n");var u=document.activeElement;Ua(s),setTimeout(function(){i.display.lineSpace.removeChild(a),u.focus(),u==o&&r.showPrimarySelection()},50)}}var n=this,r=this,i=r.cm,o=r.div=e.lineDiv;ta(o,i.options.spellcheck),ts(o,"paste",function(e){Ne(i,e)||Jo(e,i)||_a<=11&&setTimeout(pr(i,function(){return n.updateFromDOM()}),20)}),ts(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),ts(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),ts(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),ts(o,"touchstart",function(){return r.forceCompositionEnd()}),ts(o,"input",function(){n.composing||n.readFromDOMSoon()}),ts(o,"copy",t),ts(o,"cut",t)},eu.prototype.prepareSelection=function(){var e=xn(this.cm,!1);return e.focus=this.cm.state.focused,e},eu.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},eu.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)return void e.removeAllRanges();var o=la(t,e.anchorNode,e.anchorOffset),a=la(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=M(W(o,a),r)||0!=M(j(o,a),i)){var s=t.display.view,u=r.line>=t.display.viewFrom&&oa(t,r)||{node:s[0].measure.map[2],offset:0},l=i.line<t.display.viewTo&&oa(t,i);if(!l){var c=s[s.length-1].measure,h=c.maps?c.maps[c.maps.length-1]:c.map;l={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(!u||!l)return void e.removeAllRanges();var f,d=e.rangeCount&&e.getRangeAt(0);try{f=Da(u.node,u.offset,l.offset,l.node)}catch(e){}f&&(!pa&&t.state.focused?(e.collapse(u.node,u.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),d&&null==e.anchorNode?e.addRange(d):pa&&this.startGracePeriod()),this.rememberSelection()}},eu.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},eu.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},eu.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},eu.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},eu.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},eu.prototype.blur=function(){this.div.blur()},eu.prototype.getField=function(){return this.div},eu.prototype.supportsTouch=function(){return!0},eu.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():dr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},eu.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},eu.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(xa&&Ca&&this.cm.options.gutters.length&&aa(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=la(t,e.anchorNode,e.anchorOffset),r=la(t,e.focusNode,e.focusOffset);n&&r&&dr(t,function(){bi(t.doc,Wr(n,r),Ka),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},eu.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(0==r.ch&&r.line>e.firstLine()&&(r=L(r.line-1,N(e.doc,r.line-1).length)),i.ch==N(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=L(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,a,s;r.line==t.viewFrom||0==(o=kn(e,r.line))?(a=P(t.view[0].line),s=t.view[0].node):(a=P(t.view[o].line),s=t.view[o-1].node.nextSibling);var u,l,c=kn(e,i.line);if(c==t.view.length-1?(u=t.viewTo-1,l=t.lineDiv.lastChild):(u=P(t.view[c+1].line)-1,l=t.view[c+1].node.previousSibling),!s)return!1;for(var h=e.doc.splitLines(ua(e,s,l,a,u)),f=x(e.doc,L(a,0),L(u,N(e.doc,u).text.length));h.length>1&&f.length>1;)if(v(h)==v(f))h.pop(),f.pop(),u--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),a++}for(var d=0,p=0,g=h[0],m=f[0],y=Math.min(g.length,m.length);d<y&&g.charCodeAt(d)==m.charCodeAt(d);)++d;for(var _=v(h),b=v(f),w=Math.min(_.length-(1==h.length?d:0),b.length-(1==f.length?d:0));p<w&&_.charCodeAt(_.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==h.length&&1==f.length&&a==r.line)for(;d&&d>r.ch&&_.charCodeAt(_.length-p-1)==b.charCodeAt(b.length-p-1);)d--,p++;h[h.length-1]=_.slice(0,_.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(d).replace(/\u200b+$/,"");var C=L(a,d),E=L(u,f.length?v(f).length-p:0);return h.length>1||h[0]||M(C,E)?(Mi(e.doc,h,C,E,"+input"),!0):void 0},eu.prototype.ensurePolled=function(){this.forceCompositionEnd()},eu.prototype.reset=function(){this.forceCompositionEnd()},eu.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},eu.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},eu.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||dr(this.cm,function(){return mr(e.cm)})},eu.prototype.setUneditable=function(e){e.contentEditable="false"},eu.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||pr(this.cm,$o)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},eu.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},eu.prototype.onContextMenu=function(){},eu.prototype.resetPosition=function(){},eu.prototype.needsContentAttribute=!0;var tu=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new ja,this.hasSelection=!1,this.composing=null};tu.prototype.init=function(e){function t(e){if(!Ne(i,e)){if(i.somethingSelected())Yo({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=ea(i);Yo({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Ka):(r.prevInput="",a.value=t.text.join("\n"),Ua(a))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,r=this,i=this.cm,o=this.wrapper=na(),a=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),Na&&(a.style.width="0px"),ts(a,"input",function(){ya&&_a>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()}),ts(a,"paste",function(e){Ne(i,e)||Jo(e,i)||(i.state.pasteIncoming=!0,r.fastPoll())}),ts(a,"cut",t),ts(a,"copy",t),ts(e.scroller,"paste",function(t){Lt(e,t)||Ne(i,t)||(i.state.pasteIncoming=!0,r.focus())}),ts(e.lineSpace,"selectstart",function(t){Lt(e,t)||Pe(t)}),ts(a,"compositionstart",function(){var e=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),ts(a,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},tu.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=xn(e);if(e.options.moveInputWithCursor){var i=ln(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},tu.prototype.showSelection=function(e){var t=this.cm,r=t.display;n(r.cursorDiv,e.cursors),n(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},tu.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&Ua(this.textarea),ya&&_a>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",ya&&_a>=9&&(this.hasSelection=null))}},tu.prototype.getField=function(){return this.textarea},tu.prototype.supportsTouch=function(){return!1},tu.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Oa||a()!=this.textarea))try{this.textarea.focus()}catch(e){}},tu.prototype.blur=function(){this.textarea.blur()},tu.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},tu.prototype.receivedFocus=function(){this.slowPoll()},tu.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},tu.prototype.fastPoll=function(){function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},tu.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||is(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(ya&&_a>=9&&this.hasSelection===i||Ia&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(r.length,i.length);a<s&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return dr(t,function(){$o(t,i.slice(a),r.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},tu.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},tu.prototype.onKeyPress=function(){ya&&_a>=9&&(this.hasSelection=null),this.fastPoll()},tu.prototype.onContextMenu=function(e){function t(){if(null!=a.selectionStart){var e=i.somethingSelected(),t="\u200b"+(e?a.value:"");a.value="\u21da",a.value=t,r.prevInput=e?"":"\u200b",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=c,a.style.cssText=l,ya&&_a<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=u),null!=a.selectionStart){(!ya||ya&&_a<9)&&t();var e=0,n=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"\u200b"==r.prevInput?pr(i,xi)(i):e++<10?o.detectingSelectAll=setTimeout(n,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=Tn(i,e),u=o.scroller.scrollTop;if(s&&!Ea){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(s)&&pr(i,bi)(i.doc,Wr(s),Ka);var l=a.style.cssText,c=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var h=r.wrapper.getBoundingClientRect();a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(ya?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var f;if(ba&&(f=window.scrollY),o.input.focus(),ba&&window.scrollTo(null,f),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),ya&&_a>=9&&t(),Ma){De(e);var d=function(){Te(window,"mouseup",d),setTimeout(n,20)};ts(window,"mouseup",d)}else setTimeout(n,50)}},tu.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},tu.prototype.setUneditable=function(){},tu.prototype.needsContentAttribute=!1,function(e){function t(t,r,i,o){e.defaults[t]=r,i&&(n[t]=o?function(e,t,n){n!=Xs&&i(e,t,n)}:i)}var n=e.optionHandlers;e.defineOption=t,e.Init=Xs,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,qr(e)},!0),t("indentUnit",2,qr,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Gr(e),tn(e),mr(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(L(r,o))}r++});for(var i=n.length-1;i>=0;i--)Mi(e.doc,t,n[i],L(n[i].line,n[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Xs&&e.refresh()}),t("specialCharPlaceholder",lt,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Oa?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!Aa),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Ho(e),Ko(e)},!0),t("keyMap","default",function(e,t,n){var r=co(t),i=n!=Xs&&co(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,qo,!0),t("gutters",[],function(e){Lr(e.options),Ko(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?Cn(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return nr(e)},!0),t("scrollbarStyle","native",function(e){ir(e),nr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Lr(e.options),Ko(e)},!0),t("firstLineNumber",1,Ko,!0),t("lineNumberFormatter",function(e){return e},Ko,!0),t("showCursorWhenSelecting",!1,Nn,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(e,t){"nocursor"==t&&(Mn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,zo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Nn,!0),t("singleCursorHeightPerLine",!0,Nn,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Gr,!0),t("addModeClass",!1,Gr,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Gr,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}(Go),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&pr(this,t[e])(this,n,i),ke(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](co(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:vr(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");m(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,mr(this)}),removeOverlay:vr(function(e){for(var t=this,n=this.state.overlays,r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return n.splice(r,1),t.state.modeGen++,void mr(t)}}),indentLine:vr(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),R(this.doc,e)&&Xo(this,e,t,n)}),indentSelection:vr(function(e){for(var t=this,n=this.doc.sel.ranges,r=-1,i=0;i<n.length;i++){var o=n[i];if(o.empty())o.head.line>r&&(Xo(t,o.head.line,e,!0),r=o.head.line,i==t.doc.sel.primIndex&&Gn(t));else{var a=o.from(),s=o.to(),u=Math.max(r,a.line);r=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var l=u;l<r;++l)Xo(t,l,e);var c=t.doc.sel.ranges;0==a.ch&&n.length==c.length&&c[i].from().ch>0&&gi(t.doc,i,new Os(a,c[i].to()),Ka)}}}),getTokenAt:function(e,t){return et(this,e,t)},getLineTokens:function(e,t){return et(this,L(e),t,!0)},getTokenTypeAt:function(e){e=V(this.doc,e);var t,n=Xe(this,N(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=this,i=[];if(!n.hasOwnProperty(t))return i;var o=n[t],a=this.getModeAt(e);if("string"==typeof a[t])o[a[t]]&&i.push(o[a[t]]);else if(a[t])for(var s=0;s<a[t].length;s++){var u=o[a[t][s]];u&&i.push(u)}else a.helperType&&o[a.helperType]?i.push(o[a.helperType]):o[a.name]&&i.push(o[a.name]);for(var l=0;l<o._global.length;l++){var c=o._global[l];c.pred(a,r)&&-1==f(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(e,t){var n=this.doc;return e=B(n,null==e?n.first+n.size-1:e),Ye(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?V(this.doc,e):e?r.from():r.to(),ln(this,n,t||"page")},charCoords:function(e,t){return un(this,V(this.doc,e),t||"page")},coordsChar:function(e,t){return e=sn(this,e,t||"page"),fn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=sn(this,{top:e,left:0},t||"page").top,A(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=N(this.doc,e)}else r=e;return an(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-ye(r):0)},defaultTextHeight:function(){return _n(this.display)},defaultCharWidth:function(){return bn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=ln(this,V(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var u=Math.max(o.wrapper.clientHeight,this.doc.height),l=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(a=e.bottom),s+t.offsetWidth>l&&(s=l-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Kn(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:vr(ko),triggerOnKeyPress:vr(Oo),triggerOnKeyUp:xo,triggerOnMouseDown:vr(Po),execCommand:function(e){if(Hs.hasOwnProperty(e))return Hs[e].call(null,this)},triggerElectric:vr(function(e){Zo(this,e)}),findPosH:function(e,t,n,r){var i=this,o=1;t<0&&(o=-1,t=-t);for(var a=V(this.doc,e),s=0;s<t&&(a=ra(i.doc,a,o,n,r),!a.hitSide);++s);return a},moveH:vr(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?ra(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},qa)}),deleteH:vr(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):ho(this,function(n){var i=ra(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=this,o=1,a=r;t<0&&(o=-1,t=-t);for(var s=V(this.doc,e),u=0;u<t;++u){var l=ln(i,s,"div");if(null==a?a=l.left:l.left=a,s=ia(i,l,o,n),s.hitSide)break}return s},moveV:vr(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=ln(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var u=ia(n,s,e,t);return"page"==t&&a==r.sel.primary()&&qn(n,un(n,u,"div").top-s.top),u},qa),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=this.doc,n=N(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),s=w(a,o)?function(e){return w(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!w(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new Os(L(e.line,r),L(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Fa(this.display.cursorDiv,"CodeMirror-overwrite"),ke(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==a()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:vr(function(e,t){Qn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-jt(this)-this.display.barHeight,width:e.scrollWidth-jt(this)-this.display.barWidth,clientHeight:Bt(this),clientWidth:Wt(this)}},scrollIntoView:vr(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:L(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Xn(this,e):$n(this,e.from,e.to,e.margin)}),setSize:vr(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&en(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){yr(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,ke(this,"refresh",this)}),operation:function(e){return dr(this,e)},startOperation:function(){return or(this)},endOperation:function(){return ar(this)},refresh:vr(function(){var e=this.display.cachedTextHeight;mr(this),this.curOp.forceUpdate=!0,tn(this),Qn(this,this.doc.scrollLeft,this.doc.scrollTop),Ar(this),(null==e||Math.abs(e-_n(this.display))>.5)&&Sn(this),ke(this,"refresh",this)}),swapDoc:vr(function(e){var t=this.doc;return t.cm=null,$r(this,e),tn(this),this.display.input.reset(),Qn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,bt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ie(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(Go);var nu="iter insert remove copy getEditor constructor".split(" ");for(var ru in Ls.prototype)Ls.prototype.hasOwnProperty(ru)&&f(nu,ru)<0&&(Go.prototype[ru]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ls.prototype[ru]));return Ie(Ls),Go.inputStyles={textarea:tu,contenteditable:eu},Go.defineMode=function(e){Go.defaults.mode||"null"==e||(Go.defaults.mode=e),We.apply(this,arguments)},Go.defineMIME=Be,Go.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Go.defineMIME("text/plain","null"),Go.defineExtension=function(e,t){Go.prototype[e]=t},Go.defineDocExtension=function(e,t){Ls.prototype[e]=t},Go.fromTextArea=ha,function(e){e.off=Te,e.on=ts,e.wheelEventPixels=Fr,e.Doc=Ls,e.splitLines=rs,e.countColumn=h,e.findColumn=d,e.isWordChar=b,e.Pass=Ha,e.signal=ke,e.Line=ps,e.changeEnd=Br,e.scrollbarModel=Es,e.Pos=L,e.cmpPos=M,e.modes=ss,e.mimeModes=us,e.resolveMode=Ve,e.getMode=He,e.modeExtensions=ls,e.extendMode=Ke,e.copyState=ze,e.startState=Ge,e.innerMode=qe,e.commands=Hs,e.keyMap=Vs,e.keyName=lo,e.isModifierKey=so,e.lookupKey=ao,e.normalizeKeyMap=oo,e.StringStream=cs,e.SharedTextMarker=Rs,e.TextMarker=As,e.LineWidget=Is,e.e_preventDefault=Pe,e.e_stopPropagation=Ae,e.e_stop=De,e.addClass=s,e.contains=o,e.rmClass=Fa,e.keyNames=Us}(Go),Go.version="5.35.0",Go})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(59),o=n(145),a=n(1),s=n(146),u=n(60),l=n(28),c=n(2),h=n(170),f=n(11),d=n(0),p=n(0),v=n(71),g=function(e){function t(t,n){if(!(t instanceof l.Repo))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,h.QueryParams.DEFAULT,!1)||this}return r.__extends(t,e),t.prototype.getKey=function(){return d.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return d.validateArgCount("Reference.child",1,1,arguments.length),"number"===typeof e?e=String(e):e instanceof c.Path||(null===this.path.getFront()?f.validateRootPathString("Reference.child",1,e,!1):f.validatePathString("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){d.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){d.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){d.validateArgCount("Reference.set",1,2,arguments.length),f.validateWritablePath("Reference.set",this.path),f.validateFirebaseDataArg("Reference.set",1,e,this.path,!1),d.validateCallback("Reference.set",2,t,!0);var n=new p.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(d.validateArgCount("Reference.update",1,2,arguments.length),f.validateWritablePath("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,a.warn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}f.validateFirebaseMergeDataArg("Reference.update",1,e,this.path,!1),d.validateCallback("Reference.update",2,t,!0);var i=new p.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(d.validateArgCount("Reference.setWithPriority",2,3,arguments.length),f.validateWritablePath("Reference.setWithPriority",this.path),f.validateFirebaseDataArg("Reference.setWithPriority",1,e,this.path,!1),f.validatePriority("Reference.setWithPriority",2,t,!1),d.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new p.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return d.validateArgCount("Reference.remove",0,1,arguments.length),f.validateWritablePath("Reference.remove",this.path),d.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(d.validateArgCount("Reference.transaction",1,3,arguments.length),f.validateWritablePath("Reference.transaction",this.path),d.validateCallback("Reference.transaction",1,e,!1),d.validateCallback("Reference.transaction",2,t,!0),f.validateBoolean("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new p.Deferred;"function"===typeof t&&r.promise.catch(function(){});var i=function(e,n,i){e?r.reject(e):r.resolve(new o.TransactionResult(n,i)),"function"===typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){d.validateArgCount("Reference.setPriority",1,2,arguments.length),f.validateWritablePath("Reference.setPriority",this.path),f.validatePriority("Reference.setPriority",1,e,!1),d.validateCallback("Reference.setPriority",2,t,!0);var n=new p.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){d.validateArgCount("Reference.push",0,2,arguments.length),f.validateWritablePath("Reference.push",this.path),f.validateFirebaseDataArg("Reference.push",1,e,this.path,!0),d.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=s.nextPushId(r),o=this.child(i),a=this.child(i);return n=null!=e?o.set(e,t).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"===typeof t&&n.catch(function(){}),o},t.prototype.onDisconnect=function(){return f.validateWritablePath("Reference.onDisconnect",this.path),new i.OnDisconnect(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(u.Query);t.Reference=g,u.Query.__referenceConstructor=g,v.SyncPoint.__referenceConstructor=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(11),o=n(2),a=n(4),s=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return r.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return r.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return r.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return r.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){r.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),i.validatePathString("DataSnapshot.child",1,t,!1);var n=new o.Path(t),s=this.ref_.child(n);return new e(this.node_.getChild(n),s,a.PRIORITY_INDEX)},e.prototype.hasChild=function(e){r.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),i.validatePathString("DataSnapshot.hasChild",1,e,!1);var t=new o.Path(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return r.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;return r.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),r.validateCallback("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return t(new e(i,n.ref_.child(r),a.PRIORITY_INDEX))})},e.prototype.hasChildren=function(){return r.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return r.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return r.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}();t.DataSnapshot=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(27),o=n(2),a=n(1),s=n(0),u=function(){return r||(r=new i.SortedMap(a.stringCompare)),r},l=function(){function e(e,t){void 0===t&&(t=u()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return s.forEach(t,function(e,t){n=n.set(new o.Path(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:o.Path.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);if(null!=i){return{path:new o.Path(n).child(i.path),value:i.value}}return null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=this.children.get(r)||e.Empty,o=i.set(t.popFront(),n),a=this.children.insert(r,o);return new e(this.value,a)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=this.children.get(r)||e.Empty,o=i.setTree(t.popFront(),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new e(this.value,a)},e.prototype.fold=function(e){return this.fold_(o.Path.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(e.child(r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,o.Path.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,o.Path.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(o.Path.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e.Empty=new e(null),e}();t.ImmutableTree=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(16),o=n(5),a=n(4),s=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,o,a,s){r.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var u=e.getImmediateChild(t);return u.getChild(o).equals(n.getChild(o))&&u.isEmpty()==n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(i.Change.childRemovedChange(t,u)):r.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?s.trackChildChange(i.Change.childAddedChange(t,n)):s.trackChildChange(i.Change.childChangedChange(t,n,u))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(a.PRIORITY_INDEX,function(e,r){t.hasChild(e)||n.trackChildChange(i.Change.childRemovedChange(e,r))}),t.isLeafNode()||t.forEachChild(a.PRIORITY_INDEX,function(t,r){if(e.hasChild(t)){var o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(i.Change.childChangedChange(t,r,o))}else n.trackChildChange(i.Change.childAddedChange(t,r))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?o.ChildrenNode.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();t.IndexedFilter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(162),i=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new r.StatsCollection),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}();t.StatsManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(28),o=n(1),a=n(57),s=n(11);n(172);var u,l=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return u||(u=new e),u},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options.databaseURL;void 0===n&&o.fatal("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=a.parseRepoInfo(n),i=r.repoInfo;return s.validateUrl("Invalid Firebase Database URL",1,r),r.path.isEmpty()||o.fatal("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,e).database},e.prototype.deleteRepo=function(e){var t=r.safeGet(this.repos_,e.app.name);t&&r.safeGet(t,e.repoInfo_.toURLString())===e||o.fatal("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=r.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var a=r.safeGet(n,e.toURLString());return a&&o.fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new i.Repo(e,this.useRestClient_,t),n[e.toURLString()]=a,a},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}();t.RepoManager=l},function(e,t,n){"use strict";function r(e){var t=new Uint8Array(e);return window.btoa(String.fromCharCode.apply(null,t))}t.a=function(e){return r(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}},function(e,t,n){"use strict";var r=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),i={userVisibleOnly:!0,applicationServerKey:r};t.a={DEFAULT_PUBLIC_VAPID_KEY:r,SUBSCRIPTION_DETAILS:i,ENDPOINT:"https://fcm.googleapis.com"}},function(e,t,n){"use strict";function r(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw h.g(r,i,e,n.length);for(var o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(t){throw t instanceof Error?h.f(o,e,t.message):h.f(o,e,t)}}function i(e,t){return function(n){e(n),t(n)}}function o(e,t){function n(e){if(!d.j(e))throw"Expected string."}var r;return r=e?i(n,e):n,new p(r,t)}function a(){function e(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||d.e()&&e instanceof Blob))throw"Expected Blob or File."}return new p(e)}function s(e){return new p(f.c,e)}function u(){function e(e){if(!(d.h(e)&&e>=0))throw"Expected a number 0 or greater."}return new p(e)}function l(e,t){function n(t){if(!(null===t||d.a(t)&&t instanceof Object))throw"Expected an Object.";void 0!==e&&null!==e&&e(t)}return new p(n,t)}function c(e){function t(e){if(null!==e&&!d.b(e))throw"Expected a Function."}return new p(t,e)}t.g=r,t.e=o,t.f=a,t.b=s,t.c=u,t.a=l,t.d=c;var h=n(8),f=n(45),d=n(7),p=function(){function e(e,t){var n=this;this.validator=function(t){n.optional&&!d.c(t)||e(t)},this.optional=!!t}return e}()},function(e,t,n){"use strict";function r(e,t){return t}function i(e){return!p.j(e)||e.length<2?e:(e=e,d.b(e))}function o(){function e(e,t){return i(t)}function t(e,t){return p.a(t)?+t:t}function n(e,t){if(!(p.j(t)&&t.length>0))return[];var n=encodeURIComponent;return t.split(",").map(function(t){var r=e.bucket,i=e.fullPath,o="/b/"+n(r)+"/o/"+n(i);return v.a(o)+v.c({alt:"media",token:t})})}if(m)return m;var r=[];r.push(new g("bucket")),r.push(new g("generation")),r.push(new g("metageneration")),r.push(new g("name","fullPath",!0));var o=new g("name");o.xform=e,r.push(o);var a=new g("size");return a.xform=t,r.push(a),r.push(new g("timeCreated")),r.push(new g("updated")),r.push(new g("md5Hash",null,!0)),r.push(new g("cacheControl",null,!0)),r.push(new g("contentDisposition",null,!0)),r.push(new g("contentEncoding",null,!0)),r.push(new g("contentLanguage",null,!0)),r.push(new g("contentType",null,!0)),r.push(new g("metadata","customMetadata",!0)),r.push(new g("downloadTokens","downloadURLs",!1,n)),m=r}function a(e,t){function n(){var n=e.bucket,r=e.fullPath,i=new f.a(n,r);return t.makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function s(e,t,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,t[s.server])}return a(r,e),r}function u(e,t,n){var r=h.a(t);return null===r?null:s(e,r,n)}function l(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function c(e){if(!e||!p.i(e))throw"Expected Metadata object.";for(var t in e){var n=e[t];if("customMetadata"===t){if(!p.i(n))throw"Expected object for 'customMetadata' mapping."}else if(p.g(n))throw"Mapping for '"+t+"' cannot be an object."}}t.b=o,t.a=u,t.d=l,t.c=c;var h=n(189),f=n(31),d=n(88),p=n(7),v=n(46),g=function(){function e(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||r}return e}(),m=null},function(e,t,n){"use strict";function r(e){return s.f+s.a+e}function i(e){return s.g+s.a+e}function o(e){return s.f+s.b+e}function a(e){var t=encodeURIComponent,n="?";return u.b(e,function(e,r){var i=t(e)+"="+t(r);n=n+i+"&"}),n=n.slice(0,-1)}t.b=r,t.a=i,t.d=o,t.c=a;var s=n(30),u=n(17)},function(e,t,n){"use strict";function r(e,t){return-1!==e.indexOf(t)}function i(e){return Array.prototype.slice.call(e)}function o(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}t.b=r,t.a=i,t.c=o},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return m=e,y}}function o(e,t){try{return e(t)}catch(e){return m=e,y}}function a(e,t,n){try{e(t,n)}catch(e){return m=e,y}}function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==r&&v(e,this)}function u(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),l(e,new p(t,n,a))})}function l(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);c(e,t)}function c(e,t){g(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?h(t.promise,e._18):f(t.promise,e._18));var r=o(n,e._18);r===y?f(t.promise,m):h(t.promise,r)})}function h(e,t){if(t===e)return f(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=i(t);if(n===y)return f(e,m);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void d(e);if("function"===typeof n)return void v(n.bind(t),e)}e._83=1,e._18=t,d(e)}function f(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),d(e)}function d(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function p(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function v(e,t){var n=!1,r=a(e,function(e){n||(n=!0,h(t,e))},function(e){n||(n=!0,f(t,e))});n||r!==y||(n=!0,f(t,m))}var g=n(95),m=null,y={};e.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return l(this,new p(e,t,n)),n}},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){v&&d&&(v=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!v){var e=i(a);v=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,v=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,h,f=e.exports={};!function(){try{c="function"===typeof setTimeout?setTimeout:n}catch(e){c=n}try{h="function"===typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var d,p=[],v=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35);t.assert=function(e,n){if(!e)throw t.assertionError(n)},t.assertionError=function(e){return new Error("Firebase Database ("+r.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=e[n++],a=e[n++],s=e[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{var o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")};t.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,d=63&l;u||(d=64,a||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):i(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length,s=a?n[e.charAt(i)]:0;++i;var u=i<e.length,l=u?n[e.charAt(i)]:64;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==l||null==h)throw Error();var f=o<<2|s>>4;if(r.push(f),64!=l){var d=s<<4&240|l>>2;if(r.push(d),64!=h){var p=l<<6&192|h;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},t.base64Encode=function(e){var n=r(e);return t.base64.encodeByteArray(n,!0)},t.base64Decode=function(e){try{return t.base64.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}},function(e,t,n){"use strict";function r(e){return JSON.parse(e)}function i(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.jsonEval=r,t.stringify=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.forEach=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},t.extend=function(e,n){return t.forEach(n,function(t,n){e[t]=n}),e},t.clone=function(e){return t.extend({},e)},t.isNonNullObject=function(e){return"object"===typeof e&&null!==e},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.getCount=function(e){var t=0;for(var n in e)t++;return t},t.map=function(e,t,n){var r={};for(var i in e)r[i]=t.call(n,e[i],i,e);return r},t.findKey=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},t.findValue=function(e,n,r){var i=t.findKey(e,n,r);return i&&e[i]},t.getAnyKey=function(e){for(var t in e)return t},t.getValues=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},t.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(1),o=n(57),a=n(2),s=n(36),u=n(28),l=n(41),c=n(0),h=n(11),f=function(){function e(e){this.repo_=e,e instanceof u.Repo||i.fatal("Don't call new Database() directly - please use firebase.database()."),this.root_=new s.Reference(e,a.Path.Empty),this.INTERNAL=new d(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),c.validateArgCount("database.ref",0,1,arguments.length),e instanceof s.Reference?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),c.validateArgCount(t,1,1,arguments.length);var n=o.parseRepoInfo(e);h.validateUrl(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&i.fatal(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&i.fatal("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){c.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){c.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}();t.Database=f;var d=function(){function e(e){this.database=e}return e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return this.database.checkDeleted_("delete"),l.RepoManager.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},e}();t.DatabaseInternals=d},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s});var r,i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,a=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},s=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.ERROR].concat(e))},e}()},function(e,t,n){"use strict";function r(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}function i(e){var t={};e.startsWith("?")&&(e=e.substring(1));for(var n=0,r=e.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):s.warn("Invalid query segment '"+i+"' in query '"+e+"'")}}return t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(58),s=n(1);t.parseRepoInfo=function(e){var n=t.parseURL(e),r=n.subdomain;"firebase"===n.domain&&s.fatal(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!=r||"localhost"===n.domain||s.fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||s.warnIfPageIsSecure();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new a.RepoInfo(n.host,n.secure,r,i),path:new o.Path(n.pathString)}},t.parseURL=function(e){var t="",n="",o="",a="",s=!0,u="https",l=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(a=r(e.substring(h,f)));var d=i(e.substring(Math.min(e.length,f)));c=t.indexOf(":"),c>=0?(s="https"===u||"wss"===u,l=parseInt(t.substring(c+1),10)):c=e.length;var p=t.split(".");3===p.length?(n=p[1],o=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,c).toLowerCase()&&(n="localhost"),""===o&&"ns"in d&&(o=d.ns)}return{host:t,port:l,domain:n,subdomain:o,secure:s,scheme:u,pathString:a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(0),o=n(23),a=n(24),s=function(){function e(e,t,n,r,i){void 0===i&&(i=""),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=o.PersistentStorage.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&o.PersistentStorage.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){r.assert("string"===typeof e,"typeof type must == string"),r.assert("object"===typeof t,"typeof params must == object");var n;if(e===a.WEBSOCKET)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==a.LONG_POLLING)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var o=[];return i.forEach(t,function(e,t){o.push(e+"="+t)}),n+o.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();t.RepoInfo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(11),o=n(1),a=n(0),s=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){r.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),r.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){r.validateArgCount("OnDisconnect.remove",0,1,arguments.length),i.validateWritablePath("OnDisconnect.remove",this.path_),r.validateCallback("OnDisconnect.remove",1,e,!0);var t=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){r.validateArgCount("OnDisconnect.set",1,2,arguments.length),i.validateWritablePath("OnDisconnect.set",this.path_),i.validateFirebaseDataArg("OnDisconnect.set",1,e,this.path_,!1),r.validateCallback("OnDisconnect.set",2,t,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){r.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),i.validateWritablePath("OnDisconnect.setWithPriority",this.path_),i.validateFirebaseDataArg("OnDisconnect.setWithPriority",1,e,this.path_,!1),i.validatePriority("OnDisconnect.setWithPriority",2,t,!1),r.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var o=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,o.wrapCallback(n)),o.promise},e.prototype.update=function(e,t){if(r.validateArgCount("OnDisconnect.update",1,2,arguments.length),i.validateWritablePath("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},s=0;s<e.length;++s)n[""+s]=e[s];e=n,o.warn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}i.validateFirebaseMergeDataArg("OnDisconnect.update",1,e,this.path_,!1),r.validateCallback("OnDisconnect.update",2,t,!0);var u=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,u.wrapCallback(t)),u.promise},e}();t.OnDisconnect=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(18),a=n(4),s=n(62),u=n(66),l=n(1),c=n(2),h=n(11),f=n(0),d=n(147),p=n(0),v=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return i.assert(r,"Reference.ts has not been loaded"),r},set:function(e){r=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===o.KEY_INDEX){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",c="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=l.MIN_NAME)throw new Error(r);if("string"!==typeof t)throw new Error(c)}if(e.hasEnd()){if(e.getIndexEndName()!=l.MAX_NAME)throw new Error(r);if("string"!==typeof n)throw new Error(c)}}else if(e.getIndex()===a.PRIORITY_INDEX){if(null!=t&&!h.isValidPriority(t)||null!=n&&!h.isValidPriority(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(i.assert(e.getIndex()instanceof u.PathIndex||e.getIndex()===s.VALUE_INDEX,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return f.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){f.validateArgCount("Query.on",2,4,arguments.length),h.validateEventType("Query.on",1,t,!1),f.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[t]=n,this.onChildEvent(a,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new d.ValueEventRegistration(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new d.ChildEventRegistration(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){f.validateArgCount("Query.off",0,3,arguments.length),h.validateEventType("Query.off",1,e,!0),f.validateCallback("Query.off",2,t,!0),f.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var o=t||null;r=new d.ValueEventRegistration(o,null,n||null)}else e&&(t&&(i={},i[e]=t),r=new d.ChildEventRegistration(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;f.validateArgCount("Query.once",1,4,arguments.length),h.validateEventType("Query.once",1,t,!1),f.validateCallback("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new p.Deferred;u.promise.catch(function(){});var l=function(e){s&&(s=!1,o.off(t,l),n&&n.bind(a.context)(e),u.resolve(e))};return this.on(t,l,function(e){o.off(t,l),a.cancel&&a.cancel.bind(a.context)(e),u.reject(e)}),u.promise},e.prototype.limitToFirst=function(t){if(f.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(f.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(f.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');h.validatePathString("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new c.Path(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new u.PathIndex(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){f.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(o.KEY_INDEX);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){f.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(a.PRIORITY_INDEX);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){f.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(s.VALUE_INDEX);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),f.validateArgCount("Query.startAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.startAt",1,t,this.path,!0),h.validateKey("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),f.validateArgCount("Query.endAt",0,2,arguments.length),h.validateFirebaseDataArg("Query.endAt",1,t,this.path,!0),h.validateKey("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(f.validateArgCount("Query.equalTo",1,2,arguments.length),h.validateFirebaseDataArg("Query.equalTo",1,e,this.path,!1),h.validateKey("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return f.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return f.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=l.ObjectToUniqueKey(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(f.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===t.repo,r=this.path.equals(t.path),i=this.queryIdentifier()===t.queryIdentifier();return n&&r&&i},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,f.validateCallback(e,3,r.cancel,!0),r.context=n,f.validateContextObject(e,4,r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(f.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}();t.Query=v},function(e,t,n){"use strict";function r(e){i=e}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(0),a=n(1),s=n(0);t.setMaxNode=r,t.priorityHashText=function(e){return"number"===typeof e?"number:"+a.doubleToIEEE754String(e):"string:"+e},t.validatePriorityNode=function(e){if(e.isLeafNode()){var t=e.val();o.assert("string"===typeof t||"number"===typeof t||"object"===typeof t&&s.contains(t,".sv"),"Priority must be a string or number.")}else o.assert(e===i||e.isEmpty(),"priority of unexpected type.");o.assert(e===i||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(25),o=n(6),a=n(1),s=n(19),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?a.nameCompare(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return o.NamedNode.MIN},t.prototype.maxPost=function(){return o.NamedNode.MAX},t.prototype.makePost=function(e,t){var n=s.nodeFromJSON(e);return new o.NamedNode(t,n)},t.prototype.toString=function(){return".value"},t}(i.Index);t.ValueIndex=u,t.VALUE_INDEX=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(64),a=n(0),s=n(6),u=n(4),l=n(18),c={},h=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return i.assert(c&&u.PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),r=r||new e({".priority":c},{".priority":u.PRIORITY_INDEX})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=a.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===c?null:t},e.prototype.hasIndex=function(e){return a.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){i.assert(t!==l.KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],u=!1,h=n.getIterator(s.NamedNode.Wrap),f=h.getNext();f;)u=u||t.isDefinedOn(f.node),r.push(f),f=h.getNext();var d;d=u?o.buildChildSet(r,t.getCompare()):c;var p=t.toString(),v=a.clone(this.indexSet_);v[p]=t;var g=a.clone(this.indexes_);return g[p]=d,new e(g,v)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(a.map(this.indexes_,function(e,u){var l=a.safeGet(r.indexSet_,u);if(i.assert(l,"Missing index implementation for "+u),e===c){if(l.isDefinedOn(t.node)){for(var h=[],f=n.getIterator(s.NamedNode.Wrap),d=f.getNext();d;)d.name!=t.name&&h.push(d),d=f.getNext();return h.push(t),o.buildChildSet(h,l.getCompare())}return c}var p=n.get(t.name),v=e;return p&&(v=v.remove(new s.NamedNode(t.name,p))),v.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(a.map(this.indexes_,function(e){if(e===c)return e;var r=n.get(t.name);return r?e.remove(new s.NamedNode(t.name,r)):e}),this.indexSet_)},e}();t.IndexMap=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),i=n(27),o=Math.log(2),a=function(){function e(e){this.count=function(e){return parseInt(Math.log(e)/o,10)}(e+1),this.current_=this.count-1;var t=function(e){return parseInt(Array(e+1).join("1"),2)}(this.count);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}();t.buildChildSet=function(e,t,n,o){e.sort(t);var s=function(t,i){var o,a,u=i-t;if(0==u)return null;if(1==u)return o=e[t],a=n?n(o):o,new r.LLRBNode(a,o.node,r.LLRBNode.BLACK,null,null);var l=parseInt(u/2,10)+t,c=s(t,l),h=s(l+1,i);return o=e[l],a=n?n(o):o,new r.LLRBNode(a,o.node,r.LLRBNode.BLACK,c,h)},u=new a(e.length),l=function(t){for(var i=null,o=null,a=e.length,u=function(t,i){var o=a-t,u=a;a-=t;var c=s(o+1,u),h=e[o],f=n?n(h):h;l(new r.LLRBNode(f,h.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(o=e,i=e)},c=0;c<t.count;++c){var h=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));h?u(f,r.LLRBNode.BLACK):(u(f,r.LLRBNode.BLACK),u(f,r.LLRBNode.RED))}return o}(u);return new i.SortedMap(o||t,l)}},function(e,t,n){"use strict";function r(e,t){return o.nameCompare(e.name,t.name)}function i(e,t){return o.nameCompare(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.NAME_ONLY_COMPARATOR=r,t.NAME_COMPARATOR=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(0),o=n(1),a=n(25),s=n(5),u=n(6),l=n(19),c=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,i.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return r.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?o.nameCompare(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=l.nodeFromJSON(e),r=s.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,n);return new u.NamedNode(t,r)},t.prototype.maxPost=function(){var e=s.ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,s.MAX_NODE);return new u.NamedNode(o.MAX_NAME,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(a.Index);t.PathIndex=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(68),a=n(26),s=n(19),u=n(4);t.generateWithValues=function(e){return e=e||{},e.timestamp=e.timestamp||(new Date).getTime(),e},t.resolveDeferredValue=function(e,t){return e&&"object"===typeof e?(r.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},t.resolveDeferredValueTree=function(e,n){var r=new o.SparseSnapshotTree;return e.forEachTree(new i.Path(""),function(e,i){r.remember(e,t.resolveDeferredValueSnapshot(i,n))}),r},t.resolveDeferredValueSnapshot=function(e,n){var r,i=e.getPriority().val(),o=t.resolveDeferredValue(i,n);if(e.isLeafNode()){var l=e,c=t.resolveDeferredValue(l.getValue(),n);return c!==l.getValue()||o!==l.getPriority().val()?new a.LeafNode(c,s.nodeFromJSON(o)):e}var h=e;return r=h,o!==h.getPriority().val()&&(r=r.updatePriority(new a.LeafNode(o))),h.forEachChild(u.PRIORITY_INDEX,function(e,i){var o=t.resolveDeferredValueSnapshot(i,n);o!==i&&(r=r.updateImmediateChild(e,o))}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(4),o=n(69),a=function(){function e(){this.value_=null,this.children_=null}return e.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(e.isEmpty()||null==this.children_)return null;var t=e.getFront();if(e=e.popFront(),this.children_.contains(t)){return this.children_.get(t).find(e)}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(t,n);else{null==this.children_&&(this.children_=new o.CountedSet);var r=t.getFront();this.children_.contains(r)||this.children_.add(r,new e);var i=this.children_.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(i.PRIORITY_INDEX,function(e,t){n.remember(new r.Path(e),t)}),this.forget(e)}if(null!==this.children_){var o=e.getFront();if(e=e.popFront(),this.children_.contains(o)){this.children_.get(o).forget(e)&&this.children_.remove(o)}return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},e.prototype.forEachTree=function(e,t){null!==this.value_?t(e,this.value_):this.forEachChild(function(n,i){var o=new r.Path(e.toString()+"/"+n);i.forEachTree(o,t)})},e.prototype.forEachChild=function(e){null!==this.children_&&this.children_.each(function(t,n){e(t,n)})},e}();t.SparseSnapshotTree=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){this.set={}}return e.prototype.add=function(e,t){this.set[e]=null===t||t},e.prototype.contains=function(e){return r.contains(this.set,e)},e.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},e.prototype.remove=function(e){delete this.set[e]},e.prototype.clear=function(){this.set={}},e.prototype.isEmpty=function(){return r.isEmpty(this.set)},e.prototype.count=function(){return r.getCount(this.set)},e.prototype.each=function(e){r.forEach(this.set,function(t,n){return e(t,n)})},e.prototype.keys=function(){var e=[];return r.forEach(this.set,function(t){e.push(t)}),e},e}();t.CountedSet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(2),o=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=r.OperationType.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,i.Path.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}();t.Overwrite=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(29),o=n(5),a=n(0),s=n(0),u=n(72),l=n(153),c=function(){function e(){this.views_={}}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return a.assert(r,"Reference.ts has not been loaded"),r},set:function(e){a.assert(!r,"__referenceConstructor has already been defined"),r=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return s.isEmpty(this.views_)},e.prototype.applyOperation=function(e,t,n){var r=e.source.queryId;if(null!==r){var i=s.safeGet(this.views_,r);return a.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(e,t,n)}var o=[];return s.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(e,t,n))}),o},e.prototype.addEventRegistration=function(e,t,n,r,a){var c=e.queryIdentifier(),h=s.safeGet(this.views_,c);if(!h){var f=n.calcCompleteEventCache(a?r:null),d=!1;f?d=!0:r instanceof o.ChildrenNode?(f=n.calcCompleteEventChildren(r),d=!1):(f=o.ChildrenNode.EMPTY_NODE,d=!1);var p=new u.ViewCache(new i.CacheNode(f,d,!1),new i.CacheNode(r,a,!1));h=new l.View(e,p),this.views_[c]=h}return h.addEventRegistration(t),h.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i=t.queryIdentifier(),o=[],a=[],u=this.hasCompleteView();if("default"===i){var l=this;s.forEach(this.views_,function(e,t){a=a.concat(t.removeEventRegistration(n,r)),t.isEmpty()&&(delete l.views_[e],t.getQuery().getQueryParams().loadsAllData()||o.push(t.getQuery()))})}else{var c=s.safeGet(this.views_,i);c&&(a=a.concat(c.removeEventRegistration(n,r)),c.isEmpty()&&(delete this.views_[i],c.getQuery().getQueryParams().loadsAllData()||o.push(c.getQuery())))}return u&&!this.hasCompleteView()&&o.push(new e.__referenceConstructor(t.repo,t.path)),{removed:o,events:a}},e.prototype.getQueryViews=function(){var e=this;return Object.keys(this.views_).map(function(t){return e.views_[t]}).filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})},e.prototype.getCompleteServerCache=function(e){var t=null;return s.forEach(this.views_,function(n,r){t=t||r.getCompleteServerCache(e)}),t},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return s.safeGet(this.views_,t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){return s.findValue(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()})||null},e}();t.SyncPoint=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(29),o=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new i.CacheNode(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new i.CacheNode(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1),new i.CacheNode(r.ChildrenNode.EMPTY_NODE,!1,!1)),e}();t.ViewCache=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=r.clone(e);return this.last_&&r.forEach(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}();t.StatsListener=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(10),o=n(0),a=n(0),s=n(0),u=n(1),l=n(2),c=n(165),h=n(166),f=n(0),d=n(76),p=n(0),v=n(0),g=n(79),m=1e3,y=3e5,_=function(e){function t(n,r,i,o,a,s){var l=e.call(this)||this;if(l.repoInfo_=n,l.onDataUpdate_=r,l.onConnectStatus_=i,l.onServerInfoUpdate_=o,l.authTokenProvider_=a,l.authOverride_=s,l.id=t.nextPersistentConnectionId_++,l.log_=u.logWrapper("p:"+l.id+":"),l.interruptReasons_={},l.listens_={},l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=m,l.maxReconnectDelay_=y,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,s&&!v.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),c.VisibilityMonitor.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&h.OnlineMonitor.getInstance().on("online",l.onOnline_,l),l}return r.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(a.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&o.contains(e,"w")){var n=o.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();u.warn("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||f.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=f.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+a.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):u.error("Unrecognized action received from server: "+a.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=m,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=m,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>3e4&&(this.reconnectDelay_=m),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,r())},f=function(e){s.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)};this.realtime_={close:h,sendRequest:f};var v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(v).then(function(t){l?u.log("getToken() completed but was canceled"):(u.log("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,c=new d.Connection(i,o.repoInfo_,e,n,r,function(e){u.warn(e+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(e){o.log_("Failed to get token: "+e),l||(p.CONSTANTS.NODE_ADMIN&&u.warn(e),h())})}},t.prototype.interrupt=function(e){u.log("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){u.log("Resuming connection for reason: "+e),delete this.interruptReasons_[e],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=m,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return u.ObjectToUniqueKey(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new l.Path(e).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][t],delete this.listens_[r][t],0===o.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},t.prototype.onAuthRevoked_=function(e,t){u.log("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||++this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e=this;this.tryAuth(),o.forEach(this.listens_,function(t,n){o.forEach(n,function(t,n){e.sendListen_(n)})});for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";p.CONSTANTS.NODE_ADMIN?t="admin_node":p.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+i.default.SDK_VERSION.replace(/\./g,"-")]=1,v.isMobileCordova()?e["framework.cordova"]=1:v.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=h.OnlineMonitor.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(g.ServerActions);t.PersistentConnection=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.allowedEvents_=e,this.listeners_={},r.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=this.listeners_[e].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){r.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}();t.EventEmitter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(23),o=n(24),a=n(167),s=function(){function e(e,t,n,i,o,s,u){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=r.logWrapper("c:"+this.id+":"),this.transportManager_=new a.TransportManager(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,i)},Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=r.setTimeoutNonBlocking(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=r.requireKey("t",e),n=r.requireKey("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=r.requireKey("t",e),n=r.requireKey("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||--this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy())},e.prototype.onControl_=function(e){var t=r.requireKey("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?r.error("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):r.error("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(i),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),o.PROTOCOL_VERSION!==n&&r.warn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),r.setTimeoutNonBlocking(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):r.setTimeoutNonBlocking(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(i.PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();t.Connection=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(69),o=n(40),a=n(168),s=n(24),u=n(0),l=n(0);t.FIREBASE_LONGPOLL_START_PARAM="start",t.FIREBASE_LONGPOLL_CLOSE_COMMAND="close",t.FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",t.FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",t.FIREBASE_LONGPOLL_ID_PARAM="id",t.FIREBASE_LONGPOLL_PW_PARAM="pw",t.FIREBASE_LONGPOLL_SERIAL_PARAM="ser",t.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",t.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",t.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",t.FIREBASE_LONGPOLL_DATA_PARAM="d",t.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM="disconn",t.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe";var c=function(){function e(e,t,n,i){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=r.logWrapper(e),this.stats_=o.StatsManager.getCollection(t),this.urlFn=function(e){return t.connectionURL(s.LONG_POLLING,e)}}return e.prototype.open=function(e,n){var i=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new a.PacketReceiver(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){i.log_("Timed out trying to connect."),i.onClosed_(),i.connectTimeoutTimer_=null},Math.floor(3e4)),r.executeWhenDOMReady(function(){if(!i.isClosed_){i.scriptTagHolder=new h(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],o=e[1],a=e[2];e[3],e[4];if(i.incrementIncomingBytes_(e),i.scriptTagHolder)if(i.connectTimeoutTimer_&&(clearTimeout(i.connectTimeoutTimer_),i.connectTimeoutTimer_=null),i.everConnected_=!0,r==t.FIREBASE_LONGPOLL_START_PARAM)i.id=o,i.password=a;else{if(r!==t.FIREBASE_LONGPOLL_CLOSE_COMMAND)throw new Error("Unrecognized command received: "+r);o?(i.scriptTagHolder.sendNewPolls=!1,i.myPacketOrderer.closeAfter(o,function(){i.onClosed_()})):i.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],r=e[1];i.incrementIncomingBytes_(e),i.myPacketOrderer.handleResponse(n,r)},function(){i.onClosed_()},i.urlFn);var e={};e[t.FIREBASE_LONGPOLL_START_PARAM]="t",e[t.FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(1e8*Math.random()),i.scriptTagHolder.uniqueCallbackIdentifier&&(e[t.FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=i.scriptTagHolder.uniqueCallbackIdentifier),e[s.VERSION_PARAM]=s.PROTOCOL_VERSION,i.transportSessionId&&(e[s.TRANSPORT_SESSION_PARAM]=i.transportSessionId),i.lastSessionId&&(e[s.LAST_SESSION_PARAM]=i.lastSessionId),!l.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(s.FORGE_DOMAIN)&&(e[s.REFERER_PARAM]=s.FORGE_REF);var n=i.urlFn(e);i.log_("Connecting via long-poll to "+n),i.scriptTagHolder.addTag(n,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!r.isChromeExtensionContentScript()&&!r.isWindowsStoreApp()&&!l.isNodeSdk()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=u.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=u.base64Encode(t),i=r.splitStringBySize(n,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,n){if(!l.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var r={};r[t.FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",r[t.FIREBASE_LONGPOLL_ID_PARAM]=e,r[t.FIREBASE_LONGPOLL_PW_PARAM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=u.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}();t.BrowserPollConnection=c;var h=function(){function e(n,o,a,s){if(this.onDisconnect=a,this.urlFn=s,this.outstandingRequests=new i.CountedSet,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,l.isNodeSdk())this.commandCB=n,this.onMessageCB=o;else{this.uniqueCallbackIdentifier=r.LUIDGenerator(),window[t.FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=n,window[t.FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=o,this.myIFrame=e.createIFrame_();var u="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){u='<script>document.domain="'+document.domain+'";<\/script>'}var c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(e){r.log("frame writing exception"),e.stack&&r.log(e.stack),r.log(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||r.log("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var n=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==n.myIFrame&&(document.body.removeChild(n.myIFrame),n.myIFrame=null)},Math.floor(0))),l.isNodeSdk()&&this.myID){var r={};r[t.FIREBASE_LONGPOLL_DISCONN_FRAME_PARAM]="t",r[t.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,r[t.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW;var i=this.urlFn(r);e.nodeRestRequest(i)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[t.FIREBASE_LONGPOLL_ID_PARAM]=this.myID,e[t.FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,e[t.FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+r.length<=1870))break;var o=this.pendingSegs.shift();r=r+"&"+t.FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+i+"="+o.seg+"&"+t.FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+i+"="+o.ts+"&"+t.FIREBASE_LONGPOLL_DATA_PARAM+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t,1);var r=function(){n.outstandingRequests.remove(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3)),o=function(){clearTimeout(i),r()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;l.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var e=i.readyState;e&&"loaded"!==e&&"complete"!==e||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=function(){r.log("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(e){}},Math.floor(1))},e}();t.FirebaseIFrameScriptHolder=h},function(e,t,n){"use strict";(function(e){function r(e){d=e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=n(0),a=n(1),s=n(40),u=n(24),l=n(0),c=n(23),h=n(0),f=n(0),d=null;"undefined"!==typeof MozWebSocket?d=MozWebSocket:"undefined"!==typeof WebSocket&&(d=WebSocket),t.setWebSocketImpl=r;var p=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=a.logWrapper(this.connId),this.stats_=s.StatsManager.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(e,t,n){var r={};return r[u.VERSION_PARAM]=u.PROTOCOL_VERSION,!f.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(u.FORGE_DOMAIN)&&(r[u.REFERER_PARAM]=u.FORGE_REF),t&&(r[u.TRANSPORT_SESSION_PARAM]=t),n&&(r[u.LAST_SESSION_PARAM]=n),e.connectionURL(u.WEBSOCKET,r)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,c.PersistentStorage.set("previous_websocket_failure",!0);try{if(f.isNodeSdk()){var o=l.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/"+u.PROTOCOL_VERSION+"/"+i.default.SDK_VERSION+"/"+e.platform+"/"+o}},s=Object({NODE_ENV:"production",PUBLIC_URL:"/secret-note",REACT_APP_FbId:"555915144780906",REACT_APP_apiKey:"AIzaSyDr08-1aKWCyQf-zBRVil5KXheM518cJNM",REACT_APP_authDomain:"note-secret.firebaseapp.com",REACT_APP_databaseURL:"https=//note-secret.firebaseio.com",REACT_APP_projectId:"note-secret",REACT_APP_storageBucket:"note-secret.appspot.com",REACT_APP_messagingSenderId:"1011525305039"}),h=0==this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;h&&(a.proxy={origin:h}),this.mySock=new d(this.connURL,[],a)}else this.mySock=new d(this.connURL)}catch(e){this.log_("Error instantiating WebSocket.");var p=e.message||e.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==d&&!t.forceDisallow_},t.previouslyFailed=function(){return c.PersistentStorage.isInMemoryStorage||!0===c.PersistentStorage.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){c.PersistentStorage.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=h.jsonEval(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(o.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=h.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=a.splitStringBySize(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();t.WebSocketConnection=p}).call(t,n(50))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}();t.ServerActions=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),i=n(4),o=n(6),a=n(5),s=function(){function e(t){this.indexedFilter_=new r.IndexedFilter(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,s){return this.matches(new o.NamedNode(t,n))||(n=a.ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=a.ChildrenNode.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(a.ChildrenNode.EMPTY_NODE);var s=this;return t.forEachChild(i.PRIORITY_INDEX,function(e,t){s.matches(new o.NamedNode(e,t))||(r=r.updateImmediateChild(e,a.ChildrenNode.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}();t.RangedFilter=s},function(e,t,n){"use strict";var r=n(0),i=(n.n(r),n(13)),o=n(179),a=n(181),s=n(84),u=n(83),l=n(42),c="messagingSenderId",h=function(){function e(e){var t=this;if(this.errorFactory_=new r.ErrorFactory("messaging","Messaging",i.a.map),!e.options[c]||"string"!==typeof e.options[c])throw this.errorFactory_.create(i.a.codes.BAD_SENDER_ID);this.messagingSenderId_=e.options[c],this.tokenDetailsModel_=new o.a,this.vapidDetailsModel_=new a.a,this.iidModel_=new u.a,this.app=e,this.INTERNAL={},this.INTERNAL.delete=function(){return t.delete()}}return e.prototype.getToken=function(){var e=this,t=this.getNotificationPermission_();if(t!==s.a.granted)return t===s.a.denied?Promise.reject(this.errorFactory_.create(i.a.codes.NOTIFICATIONS_BLOCKED)):Promise.resolve(null);var n;return this.getSWRegistration_().then(function(t){return n=t,e.tokenDetailsModel_.getTokenDetailsFromSWScope(n.scope)}).then(function(t){return t?e.manageExistingToken(t,n):e.getNewToken(n)})},e.prototype.manageExistingToken=function(e,t){var n=this;return this.isTokenStillValid(e).then(function(r){if(r){return Date.now()<e.createTime+6048e5?e.fcmToken:n.updateToken(e,t)}return n.deleteToken(e.fcmToken).then(function(){return n.getNewToken(t)})})},e.prototype.isTokenStillValid=function(e){return this.getPublicVapidKey_().then(function(t){return Object(l.a)(t)===e.vapidKey})},e.prototype.updateToken=function(e,t){var n,r,i,o=this;return this.getPublicVapidKey_().then(function(e){return n=e,o.getPushSubscription_(t,n)}).then(function(t){return i=t,o.iidModel_.updateToken(o.messagingSenderId_,e.fcmToken,e.fcmPushSet,i,n)}).catch(function(t){return o.deleteToken(e.fcmToken).then(function(){throw t})}).then(function(a){r=a;var s={swScope:t.scope,vapidKey:n,subscription:i,fcmSenderId:o.messagingSenderId_,fcmToken:r,fcmPushSet:e.fcmPushSet};return o.tokenDetailsModel_.saveTokenDetails(s)}).then(function(){return o.vapidDetailsModel_.saveVapidDetails(t.scope,n)}).then(function(){return r})},e.prototype.getNewToken=function(e){var t,n,r,i=this;return this.getPublicVapidKey_().then(function(n){return t=n,i.getPushSubscription_(e,t)}).then(function(e){return n=e,i.iidModel_.getToken(i.messagingSenderId_,n,t)}).then(function(o){r=o;var a={swScope:e.scope,vapidKey:t,subscription:n,fcmSenderId:i.messagingSenderId_,fcmToken:r.token,fcmPushSet:r.pushSet};return i.tokenDetailsModel_.saveTokenDetails(a)}).then(function(){return i.vapidDetailsModel_.saveVapidDetails(e.scope,t)}).then(function(){return r.token})},e.prototype.deleteToken=function(e){var t=this;return this.tokenDetailsModel_.deleteToken(e).then(function(e){return t.iidModel_.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet)}).then(function(){return t.getSWRegistration_().then(function(e){if(e)return e.pushManager.getSubscription()}).then(function(e){if(e)return e.unsubscribe()})})},e.prototype.getSWRegistration_=function(){throw this.errorFactory_.create(i.a.codes.SHOULD_BE_INHERITED)},e.prototype.getPublicVapidKey_=function(){throw this.errorFactory_.create(i.a.codes.SHOULD_BE_INHERITED)},e.prototype.requestPermission=function(){throw this.errorFactory_.create(i.a.codes.AVAILABLE_IN_WINDOW)},e.prototype.getPushSubscription_=function(e,t){throw this.errorFactory_.create(i.a.codes.AVAILABLE_IN_WINDOW)},e.prototype.useServiceWorker=function(e){throw this.errorFactory_.create(i.a.codes.AVAILABLE_IN_WINDOW)},e.prototype.usePublicVapidKey=function(e){throw this.errorFactory_.create(i.a.codes.AVAILABLE_IN_WINDOW)},e.prototype.onMessage=function(e,t,n){throw this.errorFactory_.create(i.a.codes.AVAILABLE_IN_WINDOW)},e.prototype.onTokenRefresh=function(e,t,n){throw this.errorFactory_.create(i.a.codes.AVAILABLE_IN_WINDOW)},e.prototype.setBackgroundMessageHandler=function(e){throw this.errorFactory_.create(i.a.codes.AVAILABLE_IN_SW)},e.prototype.delete=function(){return Promise.all([this.tokenDetailsModel_.closeDatabase(),this.vapidDetailsModel_.closeDatabase()])},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel_},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel_},e.prototype.getIIDModel=function(){return this.iidModel_},e}();t.a=h},function(e,t,n){"use strict";var r=n(0),i=(n.n(r),n(13)),o=function(){function e(e,t){this.errorFactory_=new r.ErrorFactory("messaging","Messaging",i.a.map),this.DB_NAME_=e,this.dbVersion_=t,this.openDbPromise_=null,this.TRANSACTION_READ_WRITE="readwrite"}return e.prototype.openDatabase=function(){var e=this;return this.openDbPromise_?this.openDbPromise_:(this.openDbPromise_=new Promise(function(t,n){var r=indexedDB.open(e.DB_NAME_,e.dbVersion_);r.onerror=function(e){n(e.target.error)},r.onsuccess=function(e){t(e.target.result)},r.onupgradeneeded=function(t){try{var r=t.target.result;e.onDBUpgrade(r,t)}catch(e){r.close(),n(e)}}}),this.openDbPromise_)},e.prototype.closeDatabase=function(){var e=this;return Promise.resolve().then(function(){if(e.openDbPromise_)return e.openDbPromise_.then(function(t){t.close(),e.openDbPromise_=null})})},e.prototype.onDBUpgrade=function(e,t){throw this.errorFactory_.create(i.a.codes.SHOULD_BE_INHERITED)},e}();t.a=o},function(e,t,n){"use strict";var r=n(0),i=(n.n(r),n(13)),o=n(42),a=n(43),s=function(){function e(){this.errorFactory_=new r.ErrorFactory("messaging","Messaging",i.a.map)}return e.prototype.getToken=function(e,t,n){var r=this,s=Object(o.a)(t.getKey("p256dh")),u=Object(o.a)(t.getKey("auth")),l="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+s+"&encryption_auth="+u;if(n!==a.a.DEFAULT_PUBLIC_VAPID_KEY){l+="&application_pub_key="+Object(o.a)(n)}var c=new Headers;c.append("Content-Type","application/x-www-form-urlencoded");var h={method:"POST",headers:c,body:l};return fetch(a.a.ENDPOINT+"/fcm/connect/subscribe",h).then(function(e){return e.json()}).catch(function(){throw r.errorFactory_.create(i.a.codes.TOKEN_SUBSCRIBE_FAILED)}).then(function(e){var t=e;if(t.error){var n=t.error.message;throw r.errorFactory_.create(i.a.codes.TOKEN_SUBSCRIBE_FAILED,{message:n})}if(!t.token)throw r.errorFactory_.create(i.a.codes.TOKEN_SUBSCRIBE_NO_TOKEN);if(!t.pushSet)throw r.errorFactory_.create(i.a.codes.TOKEN_SUBSCRIBE_NO_PUSH_SET);return{token:t.token,pushSet:t.pushSet}})},e.prototype.updateToken=function(e,t,n,r,s){var u=this,l=Object(o.a)(r.getKey("p256dh")),c=Object(o.a)(r.getKey("auth")),h="push_set="+n+"&token="+t+"&authorized_entity="+e+"&endpoint="+r.endpoint+"&encryption_key="+l+"&encryption_auth="+c;if(s!==a.a.DEFAULT_PUBLIC_VAPID_KEY){h+="&application_pub_key="+Object(o.a)(s)}var f=new Headers;f.append("Content-Type","application/x-www-form-urlencoded");var d,p={method:"POST",headers:f,body:h};return fetch(a.a.ENDPOINT+"/fcm/connect/subscribe",p).then(function(e){return d=e,e.json()}).catch(function(){throw u.errorFactory_.create(i.a.codes.TOKEN_UPDATE_FAILED)}).then(function(e){if(!d.ok){var t=e.error.message;throw u.errorFactory_.create(i.a.codes.TOKEN_UPDATE_FAILED,{message:t})}if(!e.token)throw u.errorFactory_.create(i.a.codes.TOKEN_UPDATE_NO_TOKEN);return e.token})},e.prototype.deleteToken=function(e,t,n){var r=this,o="authorized_entity="+e+"&token="+t+"&pushSet="+n,s=new Headers;s.append("Content-Type","application/x-www-form-urlencoded");var u={method:"POST",headers:s,body:o};return fetch(a.a.ENDPOINT+"/fcm/connect/unsubscribe",u).then(function(e){if(!e.ok)return e.json().then(function(e){if(e.error){var t=e.error.message;throw r.errorFactory_.create(i.a.codes.TOKEN_UNSUBSCRIBE_FAILED,{message:t})}},function(e){throw r.errorFactory_.create(i.a.codes.TOKEN_UNSUBSCRIBE_FAILED)})})},e}();t.a=s},function(e,t,n){"use strict";t.a={granted:"granted",default:"default",denied:"denied"}},function(e,t,n){"use strict";var r={TYPE_OF_MSG:"firebase-messaging-msg-type",DATA:"firebase-messaging-msg-data"},i={PUSH_MSG_RECEIVED:"push-msg-received",NOTIFICATION_CLICKED:"notification-clicked"},o=function(e,t){return n={},n[r.TYPE_OF_MSG]=e,n[r.DATA]=t,n;var n};t.a={PARAMS:r,TYPES_OF_MSG:i,createNewMsg:o}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r;!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(44),i=n(89),o=n(8),a=n(31),s=n(45),u=n(17),l=n(88),c=n(90),h=n(20),f=n(7),d=n(192),p=function(){function e(e,t){this.authWrapper=e,t instanceof a.a?this.location=t:this.location=a.a.makeFromUrl(t)}return e.prototype.toString=function(){return r.g("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return s.b()},e.prototype.child=function(e){r.g("child",[r.e()],arguments);var t=l.a(this.location.path,e),n=new a.a(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=l.c(this.location.path);if(null===e)return null;var t=new a.a(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new a.a(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return l.b(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),r.g("put",[r.f(),r.b(!0)],arguments),this.throwIfRoot_("put"),new d.a(this,this.authWrapper,this.location,this.mappings(),new i.a(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=h.a.RAW),r.g("putString",[r.e(),r.e(h.c,!0),r.b(!0)],arguments),this.throwIfRoot_("putString");var o=h.b(t,e),a=u.a(n);return!f.a(a.contentType)&&f.a(o.contentType)&&(a.contentType=o.contentType),new d.a(this,this.authWrapper,this.location,this.mappings(),new i.a(o.data,!0),a)},e.prototype.delete=function(){r.g("delete",[],arguments),this.throwIfRoot_("delete");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=c.d(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.getMetadata=function(){r.g("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=c.e(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.updateMetadata=function(e){r.g("updateMetadata",[r.b()],arguments),this.throwIfRoot_("updateMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(n){var r=c.i(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()})},e.prototype.getDownloadURL=function(){return r.g("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.getMetadata().then(function(e){var t=e.downloadURLs[0];if(f.a(t))return t;throw o.l()})},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw o.j(e)},e}()},function(e,t,n){"use strict";function r(e){if(0==e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}function i(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}function o(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}t.c=r,t.a=i,t.b=o},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(190),i=n(20),o=n(7),a=function(){function e(e,t){var n=0,r="";o.d(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(o.d(this.data_)){var i=this.data_,a=r.b(i,t,n);return null===a?null:new e(a)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(o.e()){var a=t.map(function(t){return t instanceof e?t.data_:t});return new e(r.a.apply(null,a))}var s=t.map(function(e){return o.j(e)?i.b(i.a.RAW,e).data:e.data_}),u=0;s.forEach(function(e){u+=e.byteLength});var l=new Uint8Array(u),c=0;return s.forEach(function(e){for(var t=0;t<e.length;t++)l[c++]=e[t]}),new e(l,!0)},e.prototype.uploadData=function(){return this.data_},e}()},function(e,t,n){"use strict";function r(e){if(!e)throw _.s()}function i(e,t){function n(n,i){var o=b.a(e,i,t);return r(null!==o),o}return n}function o(e){function t(t,n){var r;return r=401===t.getStatus()?_.q():402===t.getStatus()?_.n(e.bucket):403===t.getStatus()?_.r(e.path):n,r.setServerResponseProp(n.serverResponseProp()),r}return t}function a(e){function t(t,r){var i=n(t,r);return 404===t.getStatus()&&(i=_.m(e.path)),i.setServerResponseProp(r.serverResponseProp()),i}var n=o(e);return t}function s(e,t,n){var r=t.fullServerUrl(),o=S.b(r),s=e.maxOperationRetryTime(),u=new C.a(o,"GET",i(e,n),s);return u.errorHandler=a(t),u}function u(e,t,n,r){var o=t.fullServerUrl(),s=S.b(o),u=b.d(n,r),l={"Content-Type":"application/json; charset=utf-8"},c=e.maxOperationRetryTime(),h=new C.a(s,"PATCH",i(e,r),c);return h.headers=l,h.body=u,h.errorHandler=a(t),h}function l(e,t){function n(e,t){}var r=t.fullServerUrl(),i=S.b(r),o=e.maxOperationRetryTime(),s=new C.a(i,"DELETE",n,o);return s.successCodes=[200,204],s.errorHandler=a(t),s}function c(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function h(e,t,n){var r=w.a(n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=c(null,t)),r}function f(e,t,n,r,a){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},l=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();u["Content-Type"]="multipart/related; boundary="+l;var c=h(t,r,a),f=b.d(c,n),d="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+f+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",p="\r\n--"+l+"--",v=y.a.getBlob(d,r,p);if(null===v)throw _.d();var g={name:c.fullPath},m=S.d(s),w=e.maxUploadRetryTime(),E=new C.a(m,"POST",i(e,n),w);return E.urlParams=g,E.headers=u,E.body=v.uploadData(),E.errorHandler=o(t),E}function d(e,t){var n;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){r(!1)}var i=t||["active"];return r(m.b(i,n)),n}function p(e,t,n,i,a){function s(e,t){d(e);var n;try{n=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){r(!1)}return r(E.j(n)),n}var u=t.bucketOnlyServerUrl(),l=h(t,i,a),c={name:l.fullPath},f=S.d(u),p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},v=b.d(l,n),g=e.maxUploadRetryTime(),m=new C.a(f,"POST",s,g);return m.urlParams=c,m.headers=p,m.body=v,m.errorHandler=o(t),m}function v(e,t,n,i){function a(e,t){var n,o=d(e,["active","final"]);try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){r(!1)}var a=parseInt(n,10);return r(!isNaN(a)),new T(a,i.size(),"final"===o)}var s={"X-Goog-Upload-Command":"query"},u=e.maxUploadRetryTime(),l=new C.a(n,"POST",a,u);return l.headers=s,l.errorHandler=o(t),l}function g(e,t,n,r,a,s,u,l){function c(e,n){var o,a=d(e,["active","final"]),u=h.current+p,l=r.size();return o="final"===a?i(t,s)(e,n):null,new T(u,l,"final"===a,o)}var h=new T(0,0);if(u?(h.current=u.current,h.total=u.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw _.p();var f=h.total-h.current,p=f;a>0&&(p=Math.min(p,a));var v=h.current,g=v+p,m=p===f?"upload, finalize":"upload",y={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":h.current},b=r.slice(v,g);if(null===b)throw _.d();var w=t.maxUploadRetryTime(),E=new C.a(n,"POST",c,w);return E.headers=y,E.body=b.uploadData(),E.progressCallback=l||null,E.errorHandler=o(e),E}t.e=s,t.i=u,t.d=l,t.g=f,n.d(t,"a",function(){return T}),t.c=p,t.f=v,n.d(t,"h",function(){return k}),t.b=g;var m=n(47),y=n(89),_=n(8),b=n(45),w=n(17),C=n(191),E=n(7),S=n(46),T=function(){function e(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}return e}(),k=262144},function(e,t,n){"use strict";(function(e){function r(e){return e.replace(w,"-$1").toLowerCase()}function i(e){return E(e).replace(S,"-ms-")}function o(e){return"function"===typeof e&&"string"===typeof e.styledComponentId}function a(e){return"string"===typeof e}function s(e){return e.displayName||e.name||"Component"}function u(e){return e.replace(Ie,"-").replace(Pe,"")}function l(e){for(var t,n=0|e.length,r=0|n,i=0;n>=4;)t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24,t=1540483477*(65535&t)+((1540483477*(t>>>16)&65535)<<16),t^=t>>>24,t=1540483477*(65535&t)+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^t,n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r^=255&e.charCodeAt(i),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)}return r^=r>>>13,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}var c=n(203),h=n.n(c),f=n(205),d=n.n(f),p=n(206),v=n.n(p),g=n(9),m=n.n(g),y=n(207),_=n.n(y),b=n(211),w=(n.n(b),/([A-Z])/g),C=r,E=C,S=/^ms-/,T=i,k=function e(t,n){var r=Object.keys(t).filter(function(e){var n=t[e];return void 0!==n&&null!==n&&!1!==n&&""!==n}).map(function(n){return h()(t[n])?e(t[n],n):T(n)+": "+t[n]+";"}).join(" ");return n?n+" {\n  "+r+"\n}":r},N=function e(t,n){return t.reduce(function(t,r){return void 0===r||null===r||!1===r||""===r?t:Array.isArray(r)?[].concat(t,e(r,n)):r.hasOwnProperty("styledComponentId")?[].concat(t,["."+r.styledComponentId]):"function"===typeof r?n?t.concat.apply(t,e([r(n)],n)):t.concat(r):t.concat(h()(r)?k(r):r.toString())},[])},x=new d.a({global:!1,cascade:!1,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),O=new d.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),I=[],P=function(e){if(-2===e){var t=I;return I=[],t}},A=v()(function(e){I.push(e)});O.use([A,P]),x.use([A,P]);var R=function(e,t,n){var r=e.join("").replace(/^\s*\/\/.*$/gm,""),i=t&&n?n+" "+t+" { "+r+" }":r;return O(n||!t?"":t,i)},D=function(e){return x("",e)},L=function(e){return String.fromCharCode(e+(e>25?39:97))},M=function(e){var t="",n=void 0;for(n=e;n>52;n=Math.floor(n/52))t=L(n%52)+t;return L(n%52)+t},F=function(e,t){return t.reduce(function(t,n,r){return t.concat(n,e[r+1])},[e[0]])},U=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(F(e,n))},j="data-styled-components",W="__styled-components-stylesheet__",B="undefined"!==typeof window,V=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,H=function(e){var t=""+(e||""),n=[];return t.replace(V,function(e,t,r){return n.push({componentId:t,matchIndex:r}),e}),n.map(function(e,r){var i=e.componentId,o=e.matchIndex,a=n[r+1];return{componentId:i,cssFromDOM:a?t.slice(o,a.matchIndex):t.slice(o)}})},K=function(){return n.nc},z=function(e){var t=!1;return function(){t||(t=!0,e())}},q=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},G=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Y=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},$=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},J=function(e,t,n){if(n){(e[t]||(e[t]=Object.create(null)))[n]=!0}},Z=function(e,t){e[t]=Object.create(null)},ee=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},te=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},ne=function(e){var t=Object.create(null);for(var n in e)t[n]=Q({},e[n]);return t},re=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,n=0;n<t;n+=1){var r=document.styleSheets[n];if(r.ownerNode===e)return r}throw new Error},ie=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(e){return!1}return!0},oe=function(e,t,n){for(var r=t-n,i=t;i>=r;i-=1)e.deleteRule(i)},ae=function(){throw new Error("")},se=function(e){return"\n/* sc-component-id: "+e+" */\n"},ue=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},le=function(e,t,n){var r=document.createElement("style");r.setAttribute(j,"");var i=K();if(i&&r.setAttribute("nonce",i),r.appendChild(document.createTextNode("")),e&&!t)e.appendChild(r);else{if(!t||!e||!t.parentNode)throw new Error("");t.parentNode.insertBefore(r,n?t:t.nextSibling)}return r},ce=function(e,t){return function(n){var r=K();return"<style "+[r&&'nonce="'+r+'"',j+'="'+te(t)+'"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},he=function(e,t){return function(){var n,r=(n={},n[j]=te(t),n),i=K();return i&&(r.nonce=i),m.a.createElement("style",Q({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},fe=function(e){return function(){return Object.keys(e)}},de=function(e,t){var n=Object.create(null),r=Object.create(null),i=[],o=void 0!==t,a=!1,s=function(e){var t=r[e];if(void 0!==t)return t;var o=r[e]=i.length;return i.push(0),Z(n,e),o},u=function(r,u,l){for(var c=s(r),h=re(e),f=ue(i,c),d=0,p=[],v=u.length,g=0;g<v;g+=1){var m=u[g],y=o;y&&-1!==m.indexOf("@import")?p.push(m):ie(h,m,f+d)&&(y=!1,d+=1)}o&&p.length>0&&(a=!0,t().insertRules(r+"-import",p)),i[c]+=d,J(n,r,l)},l=function(s){var u=r[s];if(void 0!==u){var l=i[u],c=re(e),h=ue(i,u);oe(c,h,l),i[u]=0,Z(n,s),o&&a&&t().removeRules(s+"-import")}},c=function(){var t=re(e),n=t.cssRules,i="",o=0;for(var a in r){i+=se(a);for(var s=r[a]+o;o<s;o+=1)i+=n[o].cssText}return i};return{styleTag:e,getIds:fe(r),hasNameForId:ee(n),insertMarker:s,insertRules:u,removeRules:l,css:c,toHTML:ce(c,n),toElement:he(c,n),clone:ae}},pe=function(){var e=Object.create(null),t=Object.create(null),n=function(e){var n=t[e];return void 0!==n?n:t[e]=[""]},r=function(t,r,i){n(t)[0]+=r.join(" "),J(e,t,i)},i=function(n){var r=t[n];void 0!==r&&(r[0]="",Z(e,n))},o=function(){var e="";for(var n in t){var r=t[n][0];r&&(e+=se(n)+r)}return e},a={styleTag:null,getIds:fe(t),hasNameForId:ee(e),insertMarker:n,insertRules:r,removeRules:i,css:o,toHTML:ce(o,e),toElement:he(o,e),clone:function(){return Q({},a,{names:ne(e),markers:Q({},t)})}};return a},ve=function(e,t,n,r,i){if(B&&!n){var o=le(e,t,r);return de(o,i)}return pe()},ge=function(e,t,n,r,i){var o=z(function(){for(var r=0;r<n.length;r+=1){var i=n[r],o=i.componentId,a=i.cssFromDOM,s=D(a);e.insertRules(o,s)}for(var u=0;u<t.length;u+=1){var l=t[u];l.parentNode&&l.parentNode.removeChild(l)}});return i&&o(),Q({},e,{insertMarker:function(t){return o(),e.insertMarker(t)},insertRules:function(t,n,r){return o(),e.insertRules(t,n,r)}})},me=void 0;me=B?1e3:-1;var ye,_e=0,be=void 0,we=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];q(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=ve(t.target,n?n.styleTag:null,t.forceServer,!0)},this.id=_e+=1,this.sealed=!1,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!B||this.forceServer)return this;var e=[],t=[],n=[],r=!1,i=document.querySelectorAll("style["+j+"]"),o=i.length;if(0===o)return this;for(var a=0;a<o;a+=1){var s=i[a];r=!!s.getAttribute("data-styled-streamed")||r;for(var u=(s.getAttribute(j)||"").trim().split(/\s+/),l=u.length,c=0;c<l;c+=1){var h=u[c];this.rehydratedNames[h]=!0,t.push(h)}n=n.concat(H(s.textContent)),e.push(s)}var f=n.length;if(0===f)return this;var d=this.makeTag(null),p=ge(d,e,n,0,r);this.capacity=Math.max(1,me-f),this.tags.push(p);for(var v=0;v<f;v+=1)this.tagMap[n[v].componentId]=p;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];be=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map(function(e){for(var n=e.getIds(),r=e.clone(),i=0;i<n.length;i+=1)t.tagMap[n[i]]=r;return r}),t.rehydratedNames=Q({},this.rehydratedNames),t.deferred=Q({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.sealed=!0},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return ve(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!this.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=me,this.sealed=!1,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,i=0;i<r.length;i+=1)r[i].inject(e,t,n);var o=t,a=this.deferred[e];void 0!==a&&(o=a.concat(o),delete this.deferred[e]),this.getTagForId(e).insertRules(e,o,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,delete this.deferred[e]}},e.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map(function(t,n){var r="sc-"+e+"-"+n;return Object(g.cloneElement)(t.toElement(),{key:r})})},G(e,null,[{key:"master",get:function(){return be||(be=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),Ce=function(e){function t(){return q(this,t),$(this,e.apply(this,arguments))}return X(t,e),t.prototype.getChildContext=function(){var e;return e={},e[W]=this.sheetInstance,e},t.prototype.componentWillMount=function(){if(this.props.sheet)this.sheetInstance=this.props.sheet;else{if(!this.props.target)throw new Error("");this.sheetInstance=new we(this.props.target)}},t.prototype.render=function(){return m.a.Children.only(this.props.children)},t}(g.Component);Ce.childContextTypes=(ye={},ye[W]=_.a.oneOfType([_.a.instanceOf(we),_.a.instanceOf(Te)]).isRequired,ye);var Ee,Se,Te=function(){function e(){q(this,e),this.instance=we.master.clone(),this.closed=!1}return e.prototype.collectStyles=function(e){if(this.closed)throw new Error("");return m.a.createElement(Ce,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.closed||(this.closed=!0),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.closed||(this.closed=!0),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new Error("")},e}(),ke=/^((?:s(?:uppressContentEditableWarn|croll|pac)|(?:shape|image|text)Render|(?:letter|word)Spac|vHang|hang)ing|(?:on(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur)Captur|alignmentBaselin|(?:limitingConeAng|xlink(?:(?:Arcr|R)o|Tit)|s(?:urfaceSca|ty|ca)|unselectab|baseProfi|fontSty|(?:focus|dragg)ab|multip|profi|tit)l|d(?:ominantBaselin|efaultValu)|a(?:uto(?:Capitaliz|Revers|Sav)|dditiv)|(?:(?:formNoValid|xlinkActu|noValid|accumul|rot)a|autoComple|decelera)t|(?:(?:attribute|item)T|datat)yp|(?:attribute|glyph)Nam|playsInlin|(?:formE|e)ncTyp|(?:writing|input|edge)Mod|(?:xlinkTy|itemSco|keyTy|slo)p|(?:amplitu|mo)d|(?:xmlSpa|non)c|fillRul|(?:dateTi|na)m|r(?:esourc|ol)|xmlBas|wmod)e|(?:glyphOrientationHorizont|loc)al|(?:externalResourcesRequir|select|revers|mut)ed|c(?:o(?:lorInterpolationFilter|ord)s|o(?:lor(?:Interpolation)?|nt(?:rols|ent))|(?:ontentS(?:cript|tyle)Typ|o(?:ntentEditab|lorProfi)l|l(?:assNam|ipRul)|a(?:lcMod|ptur)|it)e|olorRendering|l(?:ipPathUnits|assID)|(?:ontrolsLis|apHeigh)t|h(?:eckedLink|a(?:llenge|rSet)|ildren|ecked)|ell(?:Spac|Padd)ing|o(?:ntextMenu|ls)|(?:rossOrigi|olSpa)n|lip(?:Path)?|ursor|[xy])|glyphOrientationVertical|d(?:angerouslySetInnerHTML|efaultChecked|ownload|isabled|isplay|[xy])|(?:s(?:trikethroughThickn|eaml)es|(?:und|ov)erlineThicknes|r(?:equiredExtension|adiu)|(?:requiredFeatur|tableValu|stitchTil|numOctav|filterR)e|key(?:(?:Splin|Tim)e|Param)|autoFocu|header|bia)s|(?:(?:st(?:rikethroughPosi|dDevia)|(?:und|ov)erlinePosi|(?:textDecor|elev)a|orienta)tio|(?:strokeLinejo|orig)i|formActio|zoomAndPa|onFocusI|directio|(?:vers|act)io|rowSpa|begi|ico)n|o(?:n(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur)|rient)|p(?:reserveA(?:spectRatio|lpha)|ointsAt[X-Z]|anose1)|(?:patternContent|ma(?:sk(?:Content)?|rker)|primitive|gradient|pattern|filter)Units|(?:gradientT|patternT|t)ransform|(?:(?:allowTranspar|baseFrequ)enc|re(?:ferrerPolic|adOnl)|(?:(?:st(?:roke|op)O|floodO|fillO|o)pac|integr|secur)it|visibilit|fontFamil|accessKe|propert|summar)y|(?:strokeMiterlimi|(?:specularConsta|repeatCou|fontVaria)n|(?:(?:specularE|e)xpon|renderingInt|asc)en|d(?:iffuseConsta|esce)n|(?:fontSizeAdju|lengthAdju|manife)s|baselineShif|vectorEffec|(?:(?:mar(?:ker|gin)|x)H|accentH|fontW)eigh|a(?:utoCorrec|bou)|markerStar|onFocusOu|intercep|restar|forma|inlis|heigh|lis)t|(?:(?:st(?:rokeDasho|artO)|o)ffs|acceptChars|formTarg|viewTarg|srcS)et|(?:(?:enableBackgrou|markerE)n|s(?:p(?:readMetho|ee)|ee)|formMetho|m(?:arkerMi|etho)|preloa|kin)d|k(?:ernel(?:UnitLength|Matrix)|[1-4])|(?:[xy]ChannelSelect|lightingCol|textAnch|floodCol|stopCol|operat|htmlF)or|(?:allowFullScre|hidd)en|strokeDasharray|systemLanguage|(?:strokeLineca|itemPro|useMa|wra|loo)p|v(?:Mathematical|ert(?:Origin[XY]|AdvY)|alues|ocab)|(?:pointerEve|keyPoi)nts|unicodeRange|(?:(?:allowReord|placehold|frameBord|paintOrd|post|ord)e|repeatDu|d(?:efe|u))r|mathematical|(?:vI|i)deographic|h(?:oriz(?:Origin|Adv)X|ttpEquiv)|u(?:nicodeBidi|[12])|(?:fontStretc|hig)h|(?:(?:mar(?:ker|gin)W|strokeW)id|azimu)th|vAlphabetic|mediaGroup|spellCheck|(?:unitsPerE|optimu|fro)m|r(?:adioGroup|e(?:sults|f[XY]|l)|ows|[xy])|(?:xmlnsXl|valueL)ink|a(?:rabicForm|l(?:phabetic|t)|sync)|pathLength|(?:text|m(?:in|ax))Length|innerHTML|xlinkShow|(?:xlinkHr|glyphR)ef|r(?:e(?:quired|sult|f))?|o(?:verflow|pen)|(?:tabInde|(?:sand|b)bo|viewBo)x|(?:(?:href|xml|src)La|kerni)ng|f(?:o(?:ntSize|rm)|il(?:ter|l))|autoPlay|unicode|p(?:attern|oints)|t(?:arget[XY]|o)|i(?:temRef|n2|s)|divisor|d(?:efault|ata|ir)?|srcDoc|s(?:coped|te(?:m[hv]|p)|pan)|(?:width|size)s|(?:stri|la)ng|prefix|itemID|s(?:t(?:roke|art)|hape|cope|rc)|a(?:ccept|s)|t(?:arget|ype)|typeof|width|value|x(?:mlns)?|label|m(?:edia|a(?:sk|x)|in)|size|href|k(?:ey)?|end|low|x[12]|i[dn]|y[12]|g[12]|by|f[xy]|[yz])$/,Ne=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),xe=function(e){return ke.test(e)||Ne(e.toLowerCase())},Oe=function(e,t,n){var r=n&&e.theme===n.theme;return e.theme&&!r?e.theme:t},Ie=/[[\].#*$><+~=|^:(),"'`-]+/g,Pe=/(^-|-$)/g,Ae=function(e){function t(e){a=e;for(var t in i){var n=i[t];void 0!==n&&n(a)}}function n(e){var t=o;return i[t]=e,o+=1,e(a),t}function r(e){i[e]=void 0}var i={},o=0,a=e;return{publish:t,subscribe:n,unsubscribe:r}},Re="__styled-components__",De=Re+"next__",Le=_.a.shape({getTheme:_.a.func,subscribe:_.a.func,unsubscribe:_.a.func}),Me=function(e){return"function"===typeof e},Fe=function(e){function t(){q(this,t);var n=$(this,e.call(this));return n.unsubscribeToOuterId=-1,n.getTheme=n.getTheme.bind(n),n}return X(t,e),t.prototype.componentWillMount=function(){var e=this,t=this.context[De];void 0!==t&&(this.unsubscribeToOuterId=t.subscribe(function(t){e.outerTheme=t,void 0!==e.broadcast&&e.publish(e.props.theme)})),this.broadcast=Ae(this.getTheme())},t.prototype.getChildContext=function(){var e,t=this;return Q({},this.context,(e={},e[De]={getTheme:this.getTheme,subscribe:this.broadcast.subscribe,unsubscribe:this.broadcast.unsubscribe},e[Re]=function(e){var n=t.broadcast.subscribe(e);return function(){return t.broadcast.unsubscribe(n)}},e))},t.prototype.componentWillReceiveProps=function(e){this.props.theme!==e.theme&&this.publish(e.theme)},t.prototype.componentWillUnmount=function(){-1!==this.unsubscribeToOuterId&&this.context[De].unsubscribe(this.unsubscribeToOuterId)},t.prototype.getTheme=function(e){var t=e||this.props.theme;if(Me(t)){return t(this.outerTheme)}if(!h()(t))throw new Error("");return Q({},this.outerTheme,t)},t.prototype.publish=function(e){this.broadcast.publish(this.getTheme(e))},t.prototype.render=function(){return this.props.children?m.a.Children.only(this.props.children):null},t}(g.Component);Fe.childContextTypes=(Ee={},Ee[Re]=_.a.func,Ee[De]=Le,Ee),Fe.contextTypes=(Se={},Se[De]=Le,Se);var Ue={},je=B,We=function e(t,n){for(var r=0;r<t.length;r+=1){var i=t[r];if(Array.isArray(i)&&!e(i))return!1;if("function"===typeof i&&!o(i))return!1}if(void 0!==n)for(var a in n){var s=n[a];if("function"===typeof s)return!1}return!0},Be="undefined"!==typeof e&&e.hot&&!1,Ve=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],He=function(e){return e.replace(/\s|\\n/g,"")},Ke=function(e,t,n){var r=function(t){return e(l(t))};return function(){function e(t,n,r){if(q(this,e),this.rules=t,this.isStatic=!Be&&We(t,n),this.componentId=r,!we.master.hasId(r)){var i=[];we.master.deferredInject(r,i)}}return e.prototype.generateAndInjectStyles=function(e,i){var o=this.isStatic,a=this.componentId,s=this.lastClassName;if(je&&o&&void 0!==s)return s;var u=t(this.rules,e),l=r(this.componentId+u.join(""));if(!i.hasNameForId(a,l)){var c=n(u,"."+l);i.inject(this.componentId,c,l)}return this.lastClassName=l,l},e.generateName=function(e){return r(e)},e}()}(M,N,R),ze=function(e){return function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!==typeof r&&"function"!==typeof r)throw new Error("");var o=function(){return n(r,i,e.apply(void 0,arguments))};return o.withConfig=function(e){return t(n,r,Q({},i,e))},o.attrs=function(e){return t(n,r,Q({},i,{attrs:Q({},i.attrs||{},e)}))},o}}(U),qe=function(e,t){var n={},r=function(t,r){var i="string"!==typeof t?"sc":u(t),o=void 0;if(t)o=i+"-"+e.generateName(i);else{var a=(n[i]||0)+1;n[i]=a,o=i+"-"+e.generateName(i+a)}return void 0!==r?r+"-"+o:o},i=function(e){function t(){var n,r,i;q(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=$(this,e.call.apply(e,[this].concat(a))),r.attrs={},r.state={theme:null,generatedClassName:""},r.unsubscribeId=-1,i=n,$(r,i)}return X(t,e),t.prototype.unsubscribeFromContext=function(){-1!==this.unsubscribeId&&this.context[De].unsubscribe(this.unsubscribeId)},t.prototype.buildExecutionContext=function(e,t){var n=this.constructor.attrs,r=Q({},t,{theme:e});return void 0===n?r:(this.attrs=Object.keys(n).reduce(function(e,t){var i=n[t];return e[t]="function"===typeof i?i(r):i,e},{}),Q({},r,this.attrs))},t.prototype.generateAndInjectStyles=function(e,t){var n=this.constructor,r=n.attrs,i=n.componentStyle,o=(n.warnTooManyClasses,this.context[W]||we.master);if(i.isStatic&&void 0===r)return i.generateAndInjectStyles(Ue,o);var a=this.buildExecutionContext(e,t),s=i.generateAndInjectStyles(a,o);return s},t.prototype.componentWillMount=function(){var e=this,t=this.constructor.componentStyle,n=this.context[De];if(t.isStatic){var r=this.generateAndInjectStyles(Ue,this.props);this.setState({generatedClassName:r})}else if(void 0!==n){var i=n.subscribe;this.unsubscribeId=i(function(t){var n=Oe(e.props,t,e.constructor.defaultProps),r=e.generateAndInjectStyles(n,e.props);e.setState({theme:n,generatedClassName:r})})}else{var o=this.props.theme||{},a=this.generateAndInjectStyles(o,this.props);this.setState({theme:o,generatedClassName:a})}},t.prototype.componentWillReceiveProps=function(e){var t=this;this.constructor.componentStyle.isStatic||this.setState(function(n){var r=Oe(e,n.theme,t.constructor.defaultProps);return{theme:r,generatedClassName:t.generateAndInjectStyles(r,e)}})},t.prototype.componentWillUnmount=function(){this.unsubscribeFromContext()},t.prototype.render=function(){var e=this,t=this.props.innerRef,n=this.state.generatedClassName,r=this.constructor,i=r.styledComponentId,s=r.target,u=a(s),l=[this.props.className,i,this.attrs.className,n].filter(Boolean).join(" "),c=Q({},this.attrs,{className:l});o(s)?c.innerRef=t:c.ref=t;var h=Object.keys(this.props).reduce(function(t,n){return"innerRef"===n||"className"===n||u&&!xe(n)||(t[n]=e.props[n]),t},c);return Object(g.createElement)(s,h)},t}(g.Component);return function n(o,l,c){var h,f=l.displayName,d=void 0===f?a(o)?"styled."+o:"Styled("+s(o)+")":f,p=l.componentId,v=void 0===p?r(l.displayName,l.parentComponentId):p,g=l.ParentComponent,m=void 0===g?i:g,y=l.rules,b=l.attrs,w=l.displayName&&l.componentId?u(l.displayName)+"-"+l.componentId:v,C=new e(void 0===y?c:y.concat(c),b,w),E=function(e){function r(){return q(this,r),$(this,e.apply(this,arguments))}return X(r,e),r.withComponent=function(e){var t=l.componentId,i=Y(l,["componentId"]),o=t&&t+"-"+(a(e)?e:u(s(e))),h=Q({},i,{componentId:o,ParentComponent:r});return n(e,h,c)},G(r,null,[{key:"extend",get:function(){var e=l.rules,i=l.componentId,a=Y(l,["rules","componentId"]),s=void 0===e?c:e.concat(c),u=Q({},a,{rules:s,parentComponentId:i,ParentComponent:r});return t(n,o,u)}}]),r}(m);return E.contextTypes=(h={},h[Re]=_.a.func,h[De]=Le,h[W]=_.a.oneOfType([_.a.instanceOf(we),_.a.instanceOf(Te)]),h),E.displayName=d,E.styledComponentId=w,E.attrs=b,E.componentStyle=C,E.target=o,E}}(Ke,ze),Ge=(function(e,t,n){}(M,R,U),function(e,t){}(R,U),function(e,t){var n=function(n){return t(e,n)};return Ve.forEach(function(e){n[e]=n(e)}),n}(qe,ze));t.a=Ge}).call(t,n(202)(e))},function(e,t,n){n(93),e.exports=n(98)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(94).enable(),window.Promise=n(96)),n(97),Object.assign=n(32)},function(e,t,n){"use strict";function r(){l=!1,s._47=null,s._71=null}function i(e){function t(t){(e.allRejections||a(h[t].error,e.whitelist||u))&&(h[t].displayId=c++,e.onUnhandled?(h[t].logged=!0,e.onUnhandled(h[t].displayId,h[t].error)):(h[t].logged=!0,o(h[t].displayId,h[t].error)))}function n(t){h[t].logged&&(e.onHandled?e.onHandled(h[t].displayId,h[t].error):h[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+h[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+h[t].displayId+".")))}e=e||{},l&&r(),l=!0;var i=0,c=0,h={};s._47=function(e){2===e._83&&h[e._56]&&(h[e._56].logged?n(e._56):clearTimeout(h[e._56].timeout),delete h[e._56])},s._71=function(e,n){0===e._75&&(e._56=i++,h[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),a(n,u)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=n(48),u=[ReferenceError,TypeError,RangeError],l=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";(function(t){function n(e){a.length||(o(),s=!0),a[a.length]=e}function r(){for(;u<a.length;){var e=u;if(u+=1,a[e].call(),u>l){for(var t=0,n=a.length-u;t<n;t++)a[t]=a[t+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,a=[],s=!1,u=0,l=1024,c="undefined"!==typeof t?t:self,h=c.MutationObserver||c.WebKitMutationObserver;o="function"===typeof h?function(e){var t=1,n=new h(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(t,n(15))},function(e,t,n){"use strict";function r(e){var t=new i(i._44);return t._83=1,t._18=e,t}var i=n(48);e.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),l=r(0),c=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(!0===e)return o;if(!1===e)return a;if(0===e)return l;if(""===e)return c;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"===typeof u){return void new i(u.bind(s)).then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!==typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&_(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!b(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(e){return e&&DataView.prototype.isPrototypeOf(e)},b=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},h.call(d.prototype),h.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];g.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=d,e.Response=g,e.fetch=function(e,t){return new Promise(function(n,r){var i=new d(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new g(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n.n(r),o=n(100),a=n.n(o),s=n(110),u=(n.n(s),n(111)),l=n(219);a.a.render(i.a.createElement(u.a,null),document.getElementById("root")),Object(l.a)()},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||x}function o(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||x}function a(){}function s(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||x}function u(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,r)&&!R.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:C,type:e,key:o,ref:a,props:i,_owner:P.current}}function l(e){return"object"===typeof e&&null!==e&&e.$$typeof===C}function c(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function h(e,t,n,r){if(L.length){var i=L.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function f(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function d(e,t,n,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case C:case E:case S:case T:a=!0}}if(a)return n(i,e,""===t?"."+p(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=t+p(o,s);a+=d(o,u,n,i)}else if(null===e||"undefined"===typeof e?u=null:(u=N&&e[N]||e["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=t+p(o,s++),a+=d(o,u,n,i);else"object"===o&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function p(e,t){return"object"===typeof e&&null!==e&&null!=e.key?c(e.key):t.toString(36)}function v(e,t){e.func.call(e.context,t,e.count++)}function g(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?m(e,r,n,b.thatReturnsArgument):null!=e&&(l(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+n,e={$$typeof:C,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function m(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(D,"$&/")+"/"),t=h(t,o,r,i),null==e||d(e,"",g,t),f(t)}var y=n(32),_=n(49),b=n(22),w="function"===typeof Symbol&&Symbol.for,C=w?Symbol.for("react.element"):60103,E=w?Symbol.for("react.call"):60104,S=w?Symbol.for("react.return"):60105,T=w?Symbol.for("react.portal"):60106,k=w?Symbol.for("react.fragment"):60107,N="function"===typeof Symbol&&Symbol.iterator,x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=i.prototype;var O=o.prototype=new a;O.constructor=o,y(O,i.prototype),O.isPureReactComponent=!0;var I=s.prototype=new a;I.constructor=s,y(I,i.prototype),I.unstable_isAsyncReactComponent=!0,I.render=function(){return this.props.children};var P={current:null},A=Object.prototype.hasOwnProperty,R={key:!0,ref:!0,__self:!0,__source:!0},D=/\/+/g,L=[],M={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return m(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=h(null,null,t,n),null==e||d(e,"",v,t),f(t)},count:function(e){return null==e?0:d(e,"",b.thatReturnsNull,null)},toArray:function(e){var t=[];return m(e,t,null,b.thatReturnsArgument),t},only:function(e){return l(e)||r("143"),e}},Component:i,PureComponent:o,unstable_AsyncComponent:s,Fragment:k,createElement:u,cloneElement:function(e,t,n){var r=y({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=P.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)A.call(t,u)&&!R.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:C,type:e.type,key:i,ref:o,props:r,_owner:a}},createFactory:function(e){var t=u.bind(null,e);return t.type=e,t},isValidElement:l,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:P,assign:y}},F=Object.freeze({default:M}),U=F&&M||F;e.exports=U.default?U.default:U},function(e,t,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(101)},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t){return(e&t)===t}function o(e,t){if(On.hasOwnProperty(e)||2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return On.hasOwnProperty(e)?e=!0:(t=a(e))?e=t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:(e=e.toLowerCase().slice(0,5),e="data-"===e||"aria-"===e),e;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function a(e){return Pn.hasOwnProperty(e)?Pn[e]:null}function s(e){return e[1].toUpperCase()}function u(e,t,n,r,i,o,a,s,u){Kn._hasCaughtError=!1,Kn._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){Kn._caughtError=e,Kn._hasCaughtError=!0}}function l(){if(Kn._hasRethrowError){var e=Kn._rethrowError;throw Kn._rethrowError=null,Kn._hasRethrowError=!1,e}}function c(){if(zn)for(var e in qn){var t=qn[e],n=zn.indexOf(e);if(-1<n||r("96",e),!Gn[n]){t.extractEvents||r("97",e),Gn[n]=t,n=t.eventTypes;for(var i in n){var o=void 0,a=n[i],s=t,u=i;Qn.hasOwnProperty(u)&&r("99",u),Qn[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&h(l[o],s,u);o=!0}else a.registrationName?(h(a.registrationName,s,u),o=!0):o=!1;o||r("98",i,e)}}}}function h(e,t,n){Xn[e]&&r("100",e),Xn[e]=t,Yn[e]=t.eventTypes[n].dependencies}function f(e){zn&&r("101"),zn=Array.prototype.slice.call(e),c()}function d(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];qn.hasOwnProperty(t)&&qn[t]===i||(qn[t]&&r("102",t),qn[t]=i,n=!0)}n&&c()}function p(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=er(r),Kn.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function v(e,t){return null==t&&r("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function g(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function m(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)p(e,t,n[i],r[i]);else n&&p(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function y(e){return m(e,!0)}function _(e){return m(e,!1)}function b(e,t){var n=e.stateNode;if(!n)return null;var i=Jn(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&r("231",t,typeof n),n)}function w(e,t,n,r){for(var i,o=0;o<Gn.length;o++){var a=Gn[o];a&&(a=a.extractEvents(e,t,n,r))&&(i=v(i,a))}return i}function C(e){e&&(tr=v(tr,e))}function E(e){var t=tr;tr=null,t&&(e?g(t,y):g(t,_),tr&&r("95"),Kn.rethrowCaughtError())}function S(e){if(e[or])return e[or];for(var t=[];!e[or];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var n=void 0,r=e[or];if(5===r.tag||6===r.tag)return r;for(;e&&(r=e[or]);e=t.pop())n=r;return n}function T(e){if(5===e.tag||6===e.tag)return e.stateNode;r("33")}function k(e){return e[ar]||null}function N(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function x(e,t,n){for(var r=[];e;)r.push(e),e=N(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function O(e,t,n){(t=b(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=v(n._dispatchListeners,t),n._dispatchInstances=v(n._dispatchInstances,e))}function I(e){e&&e.dispatchConfig.phasedRegistrationNames&&x(e._targetInst,O,e)}function P(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?N(t):null,x(t,O,e)}}function A(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=b(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=v(n._dispatchListeners,t),n._dispatchInstances=v(n._dispatchInstances,e))}function R(e){e&&e.dispatchConfig.registrationName&&A(e._targetInst,null,e)}function D(e){g(e,I)}function L(e,t,n,r){if(n&&r)e:{for(var i=n,o=r,a=0,s=i;s;s=N(s))a++;s=0;for(var u=o;u;u=N(u))s++;for(;0<a-s;)i=N(i),a--;for(;0<s-a;)o=N(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=N(i),o=N(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=N(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=N(r);for(r=0;r<i.length;r++)A(i[r],"bubbled",e);for(e=n.length;0<e--;)A(n[e],"captured",t)}function M(){return!lr&&bn.canUseDOM&&(lr="textContent"in document.documentElement?"textContent":"innerText"),lr}function F(){if(cr._fallbackText)return cr._fallbackText;var e,t,n=cr._startText,r=n.length,i=U(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return cr._fallbackText=i.slice(e,1<t?1-t:void 0),cr._fallbackText}function U(){return"value"in cr._root?cr._root.value:cr._root[M()]}function j(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Cn.thatReturnsTrue:Cn.thatReturnsFalse,this.isPropagationStopped=Cn.thatReturnsFalse,this}function W(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function B(e){e instanceof this||r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function V(e){e.eventPool=[],e.getPooled=W,e.release=B}function H(e,t,n,r){return j.call(this,e,t,n,r)}function K(e,t,n,r){return j.call(this,e,t,n,r)}function z(e,t){switch(e){case"topKeyUp":return-1!==dr.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function q(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}function G(e,t){switch(e){case"topCompositionEnd":return q(t);case"topKeyPress":return 32!==t.which?null:(Er=!0,wr);case"topTextInput":return e=t.data,e===wr&&Er?null:e;default:return null}}function Q(e,t){if(Sr)return"topCompositionEnd"===e||!pr&&z(e,t)?(e=F(),cr._root=null,cr._startText=null,cr._fallbackText=null,Sr=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return br?null:t.data;default:return null}}function X(e){if(e=Zn(e)){kr&&"function"===typeof kr.restoreControlledState||r("194");var t=Jn(e.stateNode);kr.restoreControlledState(e.stateNode,e.type,t)}}function Y(e){Nr?xr?xr.push(e):xr=[e]:Nr=e}function $(){if(Nr){var e=Nr,t=xr;if(xr=Nr=null,X(e),t)for(e=0;e<t.length;e++)X(t[e])}}function J(e,t){return e(t)}function Z(e,t){if(Pr)return J(e,t);Pr=!0;try{return J(e,t)}finally{Pr=!1,$()}}function ee(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ar[e.type]:"textarea"===t}function te(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ne(e,t){if(!bn.canUseDOM||t&&!("addEventListener"in document))return!1;t="on"+e;var n=t in document;return n||(n=document.createElement("div"),n.setAttribute(t,"return;"),n="function"===typeof n[t]),!n&&yr&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function re(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ie(e){var t=re(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"===typeof n.get&&"function"===typeof n.set)return Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function oe(e){e._valueTracker||(e._valueTracker=ie(e))}function ae(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=re(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function se(e,t,n){return e=j.getPooled(Rr.change,e,t,n),e.type="change",Y(n),D(e),e}function ue(e){C(e),E(!1)}function le(e){if(ae(T(e)))return e}function ce(e,t){if("topChange"===e)return t}function he(){Dr&&(Dr.detachEvent("onpropertychange",fe),Lr=Dr=null)}function fe(e){"value"===e.propertyName&&le(Lr)&&(e=se(Lr,e,te(e)),Z(ue,e))}function de(e,t,n){"topFocus"===e?(he(),Dr=t,Lr=n,Dr.attachEvent("onpropertychange",fe)):"topBlur"===e&&he()}function pe(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return le(Lr)}function ve(e,t){if("topClick"===e)return le(t)}function ge(e,t){if("topInput"===e||"topChange"===e)return le(t)}function me(e,t,n,r){return j.call(this,e,t,n,r)}function ye(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ur[e])&&!!t[e]}function _e(){return ye}function be(e,t,n,r){return j.call(this,e,t,n,r)}function we(e){return e=e.type,"string"===typeof e?e:"function"===typeof e?e.displayName||e.name:null}function Ce(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!==(2&t.effectTag))return 1}return 3===t.tag?2:3}function Ee(e){return!!(e=e._reactInternalFiber)&&2===Ce(e)}function Se(e){2!==Ce(e)&&r("188")}function Te(e){var t=e.alternate;if(!t)return t=Ce(e),3===t&&r("188"),1===t?null:e;for(var n=e,i=t;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return Se(o),e;if(s===i)return Se(o),t;s=s.sibling}r("188")}if(n.return!==i.return)n=o,i=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}s||r("189")}}n.alternate!==i&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?e:t}function ke(e){if(!(e=Te(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ne(e){if(!(e=Te(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function xe(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=S(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],Kr(e.topLevelType,t,e.nativeEvent,te(e.nativeEvent))}function Oe(e){Hr=!!e}function Ie(e,t,n){return n?En.listen(n,t,Ae.bind(null,e)):null}function Pe(e,t,n){return n?En.capture(n,t,Ae.bind(null,e)):null}function Ae(e,t){if(Hr){var n=te(t);if(n=S(n),null===n||"number"!==typeof n.tag||2===Ce(n)||(n=null),Vr.length){var r=Vr.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Z(xe,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Vr.length&&Vr.push(e)}}}function Re(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function De(e){if(Gr[e])return Gr[e];if(!qr[e])return e;var t,n=qr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Qr)return Gr[e]=n[t];return""}function Le(e){return Object.prototype.hasOwnProperty.call(e,Jr)||(e[Jr]=$r++,Yr[e[Jr]]={}),Yr[e[Jr]]}function Me(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fe(e,t){var n=Me(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Me(n)}}function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function je(e,t){if(ii||null==ti||ti!==Sn())return null;var n=ti;return"selectionStart"in n&&Ue(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ri&&Tn(ri,n)?null:(ri=n,e=j.getPooled(ei.select,ni,e,t),e.type="select",e.target=ti,D(e),e)}function We(e,t,n,r){return j.call(this,e,t,n,r)}function Be(e,t,n,r){return j.call(this,e,t,n,r)}function Ve(e,t,n,r){return j.call(this,e,t,n,r)}function He(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=e||13===e?e:0}function Ke(e,t,n,r){return j.call(this,e,t,n,r)}function ze(e,t,n,r){return j.call(this,e,t,n,r)}function qe(e,t,n,r){return j.call(this,e,t,n,r)}function Ge(e,t,n,r){return j.call(this,e,t,n,r)}function Qe(e,t,n,r){return j.call(this,e,t,n,r)}function Xe(e){0>fi||(e.current=hi[fi],hi[fi]=null,fi--)}function Ye(e,t){fi++,hi[fi]=e.current,e.current=t}function $e(e){return Ze(e)?vi:di.current}function Je(e,t){var n=e.type.contextTypes;if(!n)return xn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ze(e){return 2===e.tag&&null!=e.type.childContextTypes}function et(e){Ze(e)&&(Xe(pi,e),Xe(di,e))}function tt(e,t,n){null!=di.cursor&&r("168"),Ye(di,t,e),Ye(pi,n,e)}function nt(e,t){var n=e.stateNode,i=e.type.childContextTypes;if("function"!==typeof n.getChildContext)return t;n=n.getChildContext();for(var o in n)o in i||r("108",we(e)||"Unknown",o);return wn({},t,n)}function rt(e){if(!Ze(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||xn,vi=di.current,Ye(di,t,e),Ye(pi,pi.current,e),!0}function it(e,t){var n=e.stateNode;if(n||r("169"),t){var i=nt(e,vi);n.__reactInternalMemoizedMergedChildContext=i,Xe(pi,e),Xe(di,e),Ye(di,i,e)}else Xe(pi,e);Ye(pi,t,e)}function ot(e,t,n){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function at(e,t,n){var r=e.alternate;return null===r?(r=new ot(e.tag,e.key,e.internalContextTag),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.pendingProps=t,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function st(e,t,n){var i=void 0,o=e.type,a=e.key;return"function"===typeof o?(i=o.prototype&&o.prototype.isReactComponent?new ot(2,a,t):new ot(0,a,t),i.type=o,i.pendingProps=e.props):"string"===typeof o?(i=new ot(5,a,t),i.type=o,i.pendingProps=e.props):"object"===typeof o&&null!==o&&"number"===typeof o.tag?(i=o,i.pendingProps=e.props):r("130",null==o?o:typeof o,""),i.expirationTime=n,i}function ut(e,t,n,r){return t=new ot(10,r,t),t.pendingProps=e,t.expirationTime=n,t}function lt(e,t,n){return t=new ot(6,null,t),t.pendingProps=e,t.expirationTime=n,t}function ct(e,t,n){return t=new ot(7,e.key,t),t.type=e.handler,t.pendingProps=e,t.expirationTime=n,t}function ht(e,t,n){return e=new ot(9,null,t),e.expirationTime=n,e}function ft(e,t,n){return t=new ot(4,e.key,t),t.pendingProps=e.children||[],t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dt(e){return function(t){try{return e(t)}catch(e){}}}function pt(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);gi=dt(function(e){return t.onCommitFiberRoot(n,e)}),mi=dt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}function vt(e){"function"===typeof gi&&gi(e)}function gt(e){"function"===typeof mi&&mi(e)}function mt(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function yt(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}function _t(e,t){var n=e.alternate,r=e.updateQueue;null===r&&(r=e.updateQueue=mt(null)),null!==n?null===(e=n.updateQueue)&&(e=n.updateQueue=mt(null)):e=null,e=e!==r?e:null,null===e?yt(r,t):null===r.last||null===e.last?(yt(r,t),yt(e,t)):(yt(r,t),e.last=t)}function bt(e,t,n,r){return e=e.partialState,"function"===typeof e?e.call(t,n,r):e}function wt(e,t,n,r,i,o){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var a=!0,s=n.first,u=!1;null!==s;){var l=s.expirationTime;if(l>o){var c=n.expirationTime;(0===c||c>l)&&(n.expirationTime=l),u||(u=!0,n.baseState=e)}else u||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(e=bt(s,r,e,i),a=!0):(l=bt(s,r,e,i))&&(e=a?wn({},e,l):wn(e,l),a=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(l=n.callbackList,null===l&&(l=n.callbackList=[]),l.push(s));s=s.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||(t.updateQueue=null),u||(n.baseState=e),e}function Ct(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var i=n[e],o=i.callback;i.callback=null,"function"!==typeof o&&r("191",o),o.call(t)}}function Et(e,t,n,i){function o(e,t){t.updater=a,e.stateNode=t,t._reactInternalFiber=e}var a={isMounted:Ee,enqueueSetState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var o=t(n);_t(n,{expirationTime:o,partialState:r,callback:i,isReplace:!1,isForced:!1,nextCallback:null,next:null}),e(n,o)},enqueueReplaceState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var o=t(n);_t(n,{expirationTime:o,partialState:r,callback:i,isReplace:!0,isForced:!1,nextCallback:null,next:null}),e(n,o)},enqueueForceUpdate:function(n,r){n=n._reactInternalFiber,r=void 0===r?null:r;var i=t(n);_t(n,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,nextCallback:null,next:null}),e(n,i)}};return{adoptClassInstance:o,constructClassInstance:function(e,t){var n=e.type,r=$e(e),i=2===e.tag&&null!=e.type.contextTypes,a=i?Je(e,r):xn;return t=new n(t,a),o(e,t),i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t},mountClassInstance:function(e,t){var n=e.alternate,i=e.stateNode,o=i.state||null,s=e.pendingProps;s||r("158");var u=$e(e);i.props=s,i.state=e.memoizedState=o,i.refs=xn,i.context=Je(e,u),null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=1),"function"===typeof i.componentWillMount&&(o=i.state,i.componentWillMount(),o!==i.state&&a.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(i.state=wt(n,e,o,i,s,t))),"function"===typeof i.componentDidMount&&(e.effectTag|=4)},updateClassInstance:function(e,t,o){var s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var u=t.memoizedProps,l=t.pendingProps;l||null==(l=u)&&r("159");var c=s.context,h=$e(t);if(h=Je(t,h),"function"!==typeof s.componentWillReceiveProps||u===l&&c===h||(c=s.state,s.componentWillReceiveProps(l,h),s.state!==c&&a.enqueueReplaceState(s,s.state,null)),c=t.memoizedState,o=null!==t.updateQueue?wt(e,t,t.updateQueue,s,l,o):c,!(u!==l||c!==o||pi.current||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"!==typeof s.componentDidUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),!1;var f=l;if(null===u||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)f=!0;else{var d=t.stateNode,p=t.type;f="function"===typeof d.shouldComponentUpdate?d.shouldComponentUpdate(f,o,h):!p.prototype||!p.prototype.isPureReactComponent||(!Tn(u,f)||!Tn(c,o))}return f?("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(l,o,h),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4)):("function"!==typeof s.componentDidUpdate||u===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),n(t,l),i(t,o)),s.props=l,s.state=o,s.context=h,f}}}function St(e){return null===e||"undefined"===typeof e?null:(e=Si&&e[Si]||e["@@iterator"],"function"===typeof e?e:null)}function Tt(e,t){var n=t.ref;if(null!==n&&"function"!==typeof n){if(t._owner){t=t._owner;var i=void 0;t&&(2!==t.tag&&r("110"),i=t.stateNode),i||r("147",n);var o=""+n;return null!==e&&null!==e.ref&&e.ref._stringRef===o?e.ref:(e=function(e){var t=i.refs===xn?i.refs={}:i.refs;null===e?delete t[o]:t[o]=e},e._stringRef=o,e)}"string"!==typeof n&&r("148"),t._owner||r("149",n)}return n}function kt(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Nt(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return e=at(e,t,n),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=lt(n,e.internalContextTag,r),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function l(e,t,n,r){return null!==t&&t.type===n.type?(r=o(t,n.props,r),r.ref=Tt(t,n),r.return=e,r):(r=st(n,e.internalContextTag,r),r.ref=Tt(t,n),r.return=e,r)}function c(e,t,n,r){return null===t||7!==t.tag?(t=ct(n,e.internalContextTag,r),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function h(e,t,n,r){return null===t||9!==t.tag?(t=ht(n,e.internalContextTag,r),t.type=n.value,t.return=e,t):(t=o(t,null,r),t.type=n.value,t.return=e,t)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=ft(n,e.internalContextTag,r),t.return=e,t):(t=o(t,n.children||[],r),t.return=e,t)}function d(e,t,n,r,i){return null===t||10!==t.tag?(t=ut(n,e.internalContextTag,r,i),t.return=e,t):(t=o(t,n,r),t.return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return t=lt(""+t,e.internalContextTag,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _i:return t.type===Ei?(t=ut(t.props.children,e.internalContextTag,n,t.key),t.return=e,t):(n=st(t,e.internalContextTag,n),n.ref=Tt(null,t),n.return=e,n);case bi:return t=ct(t,e.internalContextTag,n),t.return=e,t;case wi:return n=ht(t,e.internalContextTag,n),n.type=t.value,n.return=e,n;case Ci:return t=ft(t,e.internalContextTag,n),t.return=e,t}if(Ti(t)||St(t))return t=ut(t,e.internalContextTag,n,null),t.return=e,t;kt(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _i:return n.key===i?n.type===Ei?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case bi:return n.key===i?c(e,t,n,r):null;case wi:return null===i?h(e,t,n,r):null;case Ci:return n.key===i?f(e,t,n,r):null}if(Ti(n)||St(n))return null!==i?null:d(e,t,n,r,null);kt(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _i:return e=e.get(null===r.key?n:r.key)||null,r.type===Ei?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case bi:return e=e.get(null===r.key?n:r.key)||null,c(t,e,r,i);case wi:return e=e.get(n)||null,h(t,e,r,i);case Ci:return e=e.get(null===r.key?n:r.key)||null,f(t,e,r,i)}if(Ti(r)||St(r))return e=e.get(n)||null,d(t,e,r,i,null);kt(t,r)}return null}function m(r,o,s,u){for(var l=null,c=null,h=o,f=o=0,d=null;null!==h&&f<s.length;f++){h.index>f?(d=h,h=null):d=h.sibling;var m=v(r,h,s[f],u);if(null===m){null===h&&(h=d);break}e&&h&&null===m.alternate&&t(r,h),o=a(m,o,f),null===c?l=m:c.sibling=m,c=m,h=d}if(f===s.length)return n(r,h),l;if(null===h){for(;f<s.length;f++)(h=p(r,s[f],u))&&(o=a(h,o,f),null===c?l=h:c.sibling=h,c=h);return l}for(h=i(r,h);f<s.length;f++)(d=g(h,r,f,s[f],u))&&(e&&null!==d.alternate&&h.delete(null===d.key?f:d.key),o=a(d,o,f),null===c?l=d:c.sibling=d,c=d);return e&&h.forEach(function(e){return t(r,e)}),l}function y(o,s,u,l){var c=St(u);"function"!==typeof c&&r("150"),null==(u=c.call(u))&&r("151");for(var h=c=null,f=s,d=s=0,m=null,y=u.next();null!==f&&!y.done;d++,y=u.next()){f.index>d?(m=f,f=null):m=f.sibling;var _=v(o,f,y.value,l);if(null===_){f||(f=m);break}e&&f&&null===_.alternate&&t(o,f),s=a(_,s,d),null===h?c=_:h.sibling=_,h=_,f=m}if(y.done)return n(o,f),c;if(null===f){for(;!y.done;d++,y=u.next())null!==(y=p(o,y.value,l))&&(s=a(y,s,d),null===h?c=y:h.sibling=y,h=y);return c}for(f=i(o,f);!y.done;d++,y=u.next())null!==(y=g(f,o,d,y.value,l))&&(e&&null!==y.alternate&&f.delete(null===y.key?d:y.key),s=a(y,s,d),null===h?c=y:h.sibling=y,h=y);return e&&f.forEach(function(e){return t(o,e)}),c}return function(e,i,a,u){"object"===typeof a&&null!==a&&a.type===Ei&&null===a.key&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _i:e:{var c=a.key;for(l=i;null!==l;){if(l.key===c){if(10===l.tag?a.type===Ei:l.type===a.type){n(e,l.sibling),i=o(l,a.type===Ei?a.props.children:a.props,u),i.ref=Tt(l,a),i.return=e,e=i;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===Ei?(i=ut(a.props.children,e.internalContextTag,u,a.key),i.return=e,e=i):(u=st(a,e.internalContextTag,u),u.ref=Tt(i,a),u.return=e,e=u)}return s(e);case bi:e:{for(l=a.key;null!==i;){if(i.key===l){if(7===i.tag){n(e,i.sibling),i=o(i,a,u),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=ct(a,e.internalContextTag,u),i.return=e,e=i}return s(e);case wi:e:{if(null!==i){if(9===i.tag){n(e,i.sibling),i=o(i,null,u),i.type=a.value,i.return=e,e=i;break e}n(e,i)}i=ht(a,e.internalContextTag,u),i.type=a.value,i.return=e,e=i}return s(e);case Ci:e:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),i=o(i,a.children||[],u),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=ft(a,e.internalContextTag,u),i.return=e,e=i}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),i=o(i,a,u)):(n(e,i),i=lt(a,e.internalContextTag,u)),i.return=e,e=i,s(e);if(Ti(a))return m(e,i,a,u);if(St(a))return y(e,i,a,u);if(l&&kt(e,a),"undefined"===typeof a)switch(e.tag){case 2:case 1:u=e.type,r("152",u.displayName||u.name||"Component")}return n(e,i)}}function xt(e,t,n,i,o){function a(e,t,n){var r=t.expirationTime;t.child=null===e?Ni(t,null,n,r):ki(t,e.child,n,r)}function s(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=128)}function u(e,t,n,r){if(s(e,t),!n)return r&&it(t,!1),c(e,t);n=t.stateNode,Br.current=t;var i=n.render();return t.effectTag|=1,a(e,t,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&it(t,!0),t.child}function l(e){var t=e.stateNode;t.pendingContext?tt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tt(e,t.context,!1),g(e,t.containerInfo)}function c(e,t){if(null!==e&&t.child!==e.child&&r("153"),null!==t.child){e=t.child;var n=at(e,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=at(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function h(e,t){switch(t.tag){case 3:l(t);break;case 2:rt(t);break;case 4:g(t,t.stateNode.containerInfo)}return null}var f=e.shouldSetTextContent,d=e.useSyncScheduling,p=e.shouldDeprioritizeSubtree,v=t.pushHostContext,g=t.pushHostContainer,m=n.enterHydrationState,y=n.resetHydrationState,_=n.tryToClaimNextHydratableInstance;e=Et(i,o,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var b=e.adoptClassInstance,w=e.constructClassInstance,C=e.mountClassInstance,E=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n)return h(e,t);switch(t.tag){case 0:null!==e&&r("155");var i=t.type,o=t.pendingProps,S=$e(t);return S=Je(t,S),i=i(o,S),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render?(t.tag=2,o=rt(t),b(t,i),C(t,n),t=u(e,t,!0,o)):(t.tag=1,a(e,t,i),t.memoizedProps=o,t=t.child),t;case 1:e:{if(o=t.type,n=t.pendingProps,i=t.memoizedProps,pi.current)null===n&&(n=i);else if(null===n||i===n){t=c(e,t);break e}i=$e(t),i=Je(t,i),o=o(n,i),t.effectTag|=1,a(e,t,o),t.memoizedProps=n,t=t.child}return t;case 2:return o=rt(t),i=void 0,null===e?t.stateNode?r("153"):(w(t,t.pendingProps),C(t,n),i=!0):i=E(e,t,n),u(e,t,i,o);case 3:return l(t),o=t.updateQueue,null!==o?(i=t.memoizedState,o=wt(e,t,o,null,null,n),i===o?(y(),t=c(e,t)):(i=o.element,S=t.stateNode,(null===e||null===e.child)&&S.hydrate&&m(t)?(t.effectTag|=2,t.child=Ni(t,null,i,n)):(y(),a(e,t,i)),t.memoizedState=o,t=t.child)):(y(),t=c(e,t)),t;case 5:v(t),null===e&&_(t),o=t.type;var T=t.memoizedProps;return i=t.pendingProps,null===i&&null===(i=T)&&r("154"),S=null!==e?e.memoizedProps:null,pi.current||null!==i&&T!==i?(T=i.children,f(o,i)?T=null:S&&f(o,S)&&(t.effectTag|=16),s(e,t),2147483647!==n&&!d&&p(o,i)?(t.expirationTime=2147483647,t=null):(a(e,t,T),t.memoizedProps=i,t=t.child)):t=c(e,t),t;case 6:return null===e&&_(t),e=t.pendingProps,null===e&&(e=t.memoizedProps),t.memoizedProps=e,null;case 8:t.tag=7;case 7:return o=t.pendingProps,pi.current?null===o&&null===(o=e&&e.memoizedProps)&&r("154"):null!==o&&t.memoizedProps!==o||(o=t.memoizedProps),i=o.children,t.stateNode=null===e?Ni(t,t.stateNode,i,n):ki(t,t.stateNode,i,n),t.memoizedProps=o,t.stateNode;case 9:return null;case 4:e:{if(g(t,t.stateNode.containerInfo),o=t.pendingProps,pi.current)null===o&&null==(o=e&&e.memoizedProps)&&r("154");else if(null===o||t.memoizedProps===o){t=c(e,t);break e}null===e?t.child=ki(t,null,o,n):a(e,t,o),t.memoizedProps=o,t=t.child}return t;case 10:e:{if(n=t.pendingProps,pi.current)null===n&&(n=t.memoizedProps);else if(null===n||t.memoizedProps===n){t=c(e,t);break e}a(e,t,n),t.memoizedProps=n,t=t.child}return t;default:r("156")}},beginFailedWork:function(e,t,n){switch(t.tag){case 2:rt(t);break;case 3:l(t);break;default:r("157")}return t.effectTag|=64,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),0===t.expirationTime||t.expirationTime>n?h(e,t):(t.firstEffect=null,t.lastEffect=null,t.child=null===e?Ni(t,null,null,n):ki(t,e.child,null,n),2===t.tag&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function Ot(e,t,n){function i(e){e.effectTag|=4}var o=e.createInstance,a=e.createTextInstance,s=e.appendInitialChild,u=e.finalizeInitialChildren,l=e.prepareUpdate,c=e.persistence,h=t.getRootHostContainer,f=t.popHostContext,d=t.getHostContext,p=t.popHostContainer,v=n.prepareToHydrateHostInstance,g=n.prepareToHydrateHostTextInstance,m=n.popHydrationState,y=void 0,_=void 0,b=void 0;return e.mutation?(y=function(){},_=function(e,t,n){(t.updateQueue=n)&&i(t)},b=function(e,t,n,r){n!==r&&i(t)}):r(c?"235":"236"),{completeWork:function(e,t,n){var c=t.pendingProps;switch(null===c?c=t.memoizedProps:2147483647===t.expirationTime&&2147483647!==n||(t.pendingProps=null),t.tag){case 1:return null;case 2:return et(t),null;case 3:return p(t),Xe(pi,t),Xe(di,t),c=t.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==e&&null!==e.child||(m(t),t.effectTag&=-3),y(t),null;case 5:f(t),n=h();var w=t.type;if(null!==e&&null!=t.stateNode){var C=e.memoizedProps,E=t.stateNode,S=d();E=l(E,w,C,c,n,S),_(e,t,E,w,C,c,n),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!c)return null===t.stateNode&&r("166"),null;if(e=d(),m(t))v(t,n,e)&&i(t);else{e=o(w,c,n,e,t);e:for(C=t.child;null!==C;){if(5===C.tag||6===C.tag)s(e,C.stateNode);else if(4!==C.tag&&null!==C.child){C.child.return=C,C=C.child;continue}if(C===t)break;for(;null===C.sibling;){if(null===C.return||C.return===t)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}u(e,w,c,n)&&i(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)b(e,t,e.memoizedProps,c);else{if("string"!==typeof c)return null===t.stateNode&&r("166"),null;e=h(),n=d(),m(t)?g(t)&&i(t):t.stateNode=a(c,e,n,t)}return null;case 7:(c=t.memoizedProps)||r("165"),t.tag=8,w=[];e:for((C=t.stateNode)&&(C.return=t);null!==C;){if(5===C.tag||6===C.tag||4===C.tag)r("247");else if(9===C.tag)w.push(C.type);else if(null!==C.child){C.child.return=C,C=C.child;continue}for(;null===C.sibling;){if(null===C.return||C.return===t)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}return C=c.handler,c=C(c.props,w),t.child=ki(t,null!==e?e.child:null,c,n),t.child;case 8:return t.tag=7,null;case 9:case 10:return null;case 4:return p(t),y(t),null;case 0:r("167");default:r("156")}}}}function It(e,t){function n(e){var n=e.ref;if(null!==n)try{n(null)}catch(n){t(e,n)}}function i(e){switch("function"===typeof gt&&gt(e),e.tag){case 2:n(e);var r=e.stateNode;if("function"===typeof r.componentWillUnmount)try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(n){t(e,n)}break;case 5:n(e);break;case 7:o(e.stateNode);break;case 4:l&&s(e)}}function o(e){for(var t=e;;)if(i(t),null===t.child||l&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function a(e){return 5===e.tag||3===e.tag||4===e.tag}function s(e){for(var t=e,n=!1,a=void 0,s=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&r("160"),n.tag){case 5:a=n.stateNode,s=!1;break e;case 3:case 4:a=n.stateNode.containerInfo,s=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)o(t),s?_(a,t.stateNode):y(a,t.stateNode);else if(4===t.tag?a=t.stateNode.containerInfo:i(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var u=e.getPublicInstance,l=e.mutation;e=e.persistence,l||r(e?"235":"236");var c=l.commitMount,h=l.commitUpdate,f=l.resetTextContent,d=l.commitTextUpdate,p=l.appendChild,v=l.appendChildToContainer,g=l.insertBefore,m=l.insertInContainerBefore,y=l.removeChild,_=l.removeChildFromContainer;return{commitResetTextContent:function(e){f(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(a(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:case 4:t=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(f(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||a(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)n?i?m(t,o.stateNode,n):g(t,o.stateNode,n):i?v(t,o.stateNode):p(t,o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},commitDeletion:function(e){s(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&h(n,a,o,e,i,t)}break;case 6:null===t.stateNode&&r("162"),n=t.memoizedProps,d(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:r("163")}},commitLifeCycles:function(e,t){switch(t.tag){case 2:var n=t.stateNode;if(4&t.effectTag)if(null===e)n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount();else{var i=e.memoizedProps;e=e.memoizedState,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(i,e)}t=t.updateQueue,null!==t&&Ct(t,n);break;case 3:n=t.updateQueue,null!==n&&Ct(n,null!==t.child?t.child.stateNode:null);break;case 5:n=t.stateNode,null===e&&4&t.effectTag&&c(n,t.type,t.memoizedProps,t);break;case 6:case 4:break;default:r("163")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:t(u(n));break;default:t(n)}}},commitDetachRef:function(e){null!==(e=e.ref)&&e(null)}}}function Pt(e){function t(e){return e===xi&&r("174"),e}var n=e.getChildHostContext,i=e.getRootHostContext,o={current:xi},a={current:xi},s={current:xi};return{getHostContext:function(){return t(o.current)},getRootHostContainer:function(){return t(s.current)},popHostContainer:function(e){Xe(o,e),Xe(a,e),Xe(s,e)},popHostContext:function(e){a.current===e&&(Xe(o,e),Xe(a,e))},pushHostContainer:function(e,t){Ye(s,t,e),t=i(t),Ye(a,e,e),Ye(o,t,e)},pushHostContext:function(e){var r=t(s.current),i=t(o.current);r=n(i,e.type,r),i!==r&&(Ye(a,e,e),Ye(o,r,e))},resetHostContainer:function(){o.current=xi,s.current=xi}}}function At(e){function t(e,t){var n=new ot(5,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case 5:return null!==(t=a(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=s(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function i(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;f=e}var o=e.shouldSetTextContent;if(!(e=e.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var a=e.canHydrateInstance,s=e.canHydrateTextInstance,u=e.getNextHydratableSibling,l=e.getFirstHydratableChild,c=e.hydrateInstance,h=e.hydrateTextInstance,f=null,d=null,p=!1;return{enterHydrationState:function(e){return d=l(e.stateNode.containerInfo),f=e,p=!0},resetHydrationState:function(){d=f=null,p=!1},tryToClaimNextHydratableInstance:function(e){if(p){var r=d;if(r){if(!n(e,r)){if(!(r=u(r))||!n(e,r))return e.effectTag|=2,p=!1,void(f=e);t(f,d)}f=e,d=l(r)}else e.effectTag|=2,p=!1,f=e}},prepareToHydrateHostInstance:function(e,t,n){return t=c(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return h(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==f)return!1;if(!p)return i(e),p=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!o(n,e.memoizedProps))for(n=d;n;)t(e,n),n=u(n);return i(e),d=f?u(e.stateNode):null,!0}}}function Rt(e){function t(e){oe=X=!0;var t=e.stateNode;if(t.current===e&&r("177"),t.isReadyForCommit=!1,Br.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var n=e.firstEffect}else n=e;else n=e.firstEffect;for(K(),Z=n;null!==Z;){var i=!1,o=void 0;try{for(;null!==Z;){var a=Z.effectTag;if(16&a&&R(Z),128&a){var s=Z.alternate;null!==s&&j(s)}switch(-242&a){case 2:D(Z),Z.effectTag&=-3;break;case 6:D(Z),Z.effectTag&=-3,M(Z.alternate,Z);break;case 4:M(Z.alternate,Z);break;case 8:ae=!0,L(Z),ae=!1}Z=Z.nextEffect}}catch(e){i=!0,o=e}i&&(null===Z&&r("178"),u(Z,o),null!==Z&&(Z=Z.nextEffect))}for(z(),t.current=e,Z=n;null!==Z;){n=!1,i=void 0;try{for(;null!==Z;){var l=Z.effectTag;if(36&l&&F(Z.alternate,Z),128&l&&U(Z),64&l)switch(o=Z,a=void 0,null!==ee&&(a=ee.get(o),ee.delete(o),null==a&&null!==o.alternate&&(o=o.alternate,a=ee.get(o),ee.delete(o))),null==a&&r("184"),o.tag){case 2:o.stateNode.componentDidCatch(a.error,{componentStack:a.componentStack});break;case 3:null===re&&(re=a.error);break;default:r("157")}var c=Z.nextEffect;Z.nextEffect=null,Z=c}}catch(e){n=!0,i=e}n&&(null===Z&&r("178"),u(Z,i),null!==Z&&(Z=Z.nextEffect))}return X=oe=!1,"function"===typeof vt&&vt(e.stateNode),ne&&(ne.forEach(v),ne=null),null!==re&&(e=re,re=null,E(e)),t=t.current.expirationTime,0===t&&(te=ee=null),t}function n(e){for(;;){var t=A(e.alternate,e,J),n=e.return,r=e.sibling,i=e;if(2147483647===J||2147483647!==i.expirationTime){if(2!==i.tag&&3!==i.tag)var o=0;else o=i.updateQueue,o=null===o?0:o.expirationTime;for(var a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){e.stateNode.isReadyForCommit=!0;break}e=n}return null}function i(e){var t=I(e.alternate,e,J);return null===t&&(t=n(e)),Br.current=null,t}function o(e){var t=P(e.alternate,e,J);return null===t&&(t=n(e)),Br.current=null,t}function a(e){if(null!==ee){if(!(0===J||J>e))if(J<=G)for(;null!==Y;)Y=l(Y)?o(Y):i(Y);else for(;null!==Y&&!C();)Y=l(Y)?o(Y):i(Y)}else if(!(0===J||J>e))if(J<=G)for(;null!==Y;)Y=i(Y);else for(;null!==Y&&!C();)Y=i(Y)}function s(e,t){if(X&&r("243"),X=!0,e.isReadyForCommit=!1,e!==$||t!==J||null===Y){for(;-1<fi;)hi[fi]=null,fi--;vi=xn,di.current=xn,pi.current=!1,x(),$=e,J=t,Y=at($.current,null,t)}var n=!1,i=null;try{a(t)}catch(e){n=!0,i=e}for(;n;){if(ie){re=i;break}var s=Y;if(null===s)ie=!0;else{var l=u(s,i);if(null===l&&r("183"),!ie){try{for(n=l,i=t,l=n;null!==s;){switch(s.tag){case 2:et(s);break;case 5:N(s);break;case 3:k(s);break;case 4:k(s)}if(s===l||s.alternate===l)break;s=s.return}Y=o(n),a(i)}catch(e){n=!0,i=e;continue}break}}}return t=re,ie=X=!1,re=null,null!==t&&E(t),e.isReadyForCommit?e.current.alternate:null}function u(e,t){var n=Br.current=null,r=!1,i=!1,o=null;if(3===e.tag)n=e,c(e)&&(ie=!0);else for(var a=e.return;null!==a&&null===n;){if(2===a.tag?"function"===typeof a.stateNode.componentDidCatch&&(r=!0,o=we(a),n=a,i=!0):3===a.tag&&(n=a),c(a)){if(ae||null!==ne&&(ne.has(a)||null!==a.alternate&&ne.has(a.alternate)))return null;n=null,i=!1}a=a.return}if(null!==n){null===te&&(te=new Set),te.add(n);var s="";a=e;do{e:switch(a.tag){case 0:case 1:case 2:case 5:var u=a._debugOwner,l=a._debugSource,h=we(a),f=null;u&&(f=we(u)),u=l,h="\n    in "+(h||"Unknown")+(u?" (at "+u.fileName.replace(/^.*[\\\/]/,"")+":"+u.lineNumber+")":f?" (created by "+f+")":"");break e;default:h=""}s+=h,a=a.return}while(a);a=s,e=we(e),null===ee&&(ee=new Map),t={componentName:e,componentStack:a,error:t,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:o,willRetry:i},ee.set(n,t);try{var d=t.error;d&&d.suppressReactErrorLogging||console.error(d)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}return oe?(null===ne&&(ne=new Set),ne.add(n)):v(n),n}return null===re&&(re=t),null}function l(e){return null!==ee&&(ee.has(e)||null!==e.alternate&&ee.has(e.alternate))}function c(e){return null!==te&&(te.has(e)||null!==e.alternate&&te.has(e.alternate))}function h(){return 20*(1+((g()+100)/20|0))}function f(e){return 0!==Q?Q:X?oe?1:J:!H||1&e.internalContextTag?h():1}function d(e,t){return p(e,t,!1)}function p(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!X&&n===$&&t<J&&(Y=$=null,J=0);var i=n,o=t;if(Ce>be&&r("185"),null===i.nextScheduledRoot)i.remainingExpirationTime=o,null===ue?(se=ue=i,i.nextScheduledRoot=i):(ue=ue.nextScheduledRoot=i,ue.nextScheduledRoot=se);else{var a=i.remainingExpirationTime;(0===a||o<a)&&(i.remainingExpirationTime=o)}he||(ye?_e&&(fe=i,de=1,w(fe,de)):1===o?b(1,null):m(o)),!X&&n===$&&t<J&&(Y=$=null,J=0)}e=e.return}}function v(e){p(e,1,!0)}function g(){return G=2+((W()-q)/10|0)}function m(e){if(0!==le){if(e>le)return;V(ce)}var t=W()-q;le=e,ce=B(_,{timeout:10*(e-2)-t})}function y(){var e=0,t=null;if(null!==ue)for(var n=ue,i=se;null!==i;){var o=i.remainingExpirationTime;if(0===o){if((null===n||null===ue)&&r("244"),i===i.nextScheduledRoot){se=ue=i.nextScheduledRoot=null;break}if(i===se)se=o=i.nextScheduledRoot,ue.nextScheduledRoot=o,i.nextScheduledRoot=null;else{if(i===ue){ue=n,ue.nextScheduledRoot=se,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,t=i),i===ue)break;n=i,i=i.nextScheduledRoot}}n=fe,null!==n&&n===t?Ce++:Ce=0,fe=t,de=e}function _(e){b(0,e)}function b(e,t){for(me=t,y();null!==fe&&0!==de&&(0===e||de<=e)&&!pe;)w(fe,de),y();if(null!==me&&(le=0,ce=-1),0!==de&&m(de),me=null,pe=!1,Ce=0,ve)throw e=ge,ge=null,ve=!1,e}function w(e,n){if(he&&r("245"),he=!0,n<=g()){var i=e.finishedWork;null!==i?(e.finishedWork=null,e.remainingExpirationTime=t(i)):(e.finishedWork=null,null!==(i=s(e,n))&&(e.remainingExpirationTime=t(i)))}else i=e.finishedWork,null!==i?(e.finishedWork=null,e.remainingExpirationTime=t(i)):(e.finishedWork=null,null!==(i=s(e,n))&&(C()?e.finishedWork=i:e.remainingExpirationTime=t(i)));he=!1}function C(){return!(null===me||me.timeRemaining()>Ee)&&(pe=!0)}function E(e){null===fe&&r("246"),fe.remainingExpirationTime=0,ve||(ve=!0,ge=e)}var S=Pt(e),T=At(e),k=S.popHostContainer,N=S.popHostContext,x=S.resetHostContainer,O=xt(e,S,T,d,f),I=O.beginWork,P=O.beginFailedWork,A=Ot(e,S,T).completeWork;S=It(e,u);var R=S.commitResetTextContent,D=S.commitPlacement,L=S.commitDeletion,M=S.commitWork,F=S.commitLifeCycles,U=S.commitAttachRef,j=S.commitDetachRef,W=e.now,B=e.scheduleDeferredCallback,V=e.cancelDeferredCallback,H=e.useSyncScheduling,K=e.prepareForCommit,z=e.resetAfterCommit,q=W(),G=2,Q=0,X=!1,Y=null,$=null,J=0,Z=null,ee=null,te=null,ne=null,re=null,ie=!1,oe=!1,ae=!1,se=null,ue=null,le=0,ce=-1,he=!1,fe=null,de=0,pe=!1,ve=!1,ge=null,me=null,ye=!1,_e=!1,be=1e3,Ce=0,Ee=1;return{computeAsyncExpiration:h,computeExpirationForFiber:f,scheduleWork:d,batchedUpdates:function(e,t){var n=ye;ye=!0;try{return e(t)}finally{(ye=n)||he||b(1,null)}},unbatchedUpdates:function(e){if(ye&&!_e){_e=!0;try{return e()}finally{_e=!1}}return e()},flushSync:function(e){var t=ye;ye=!0;try{e:{var n=Q;Q=1;try{var i=e();break e}finally{Q=n}i=void 0}return i}finally{ye=t,he&&r("187"),b(1,null)}},deferredUpdates:function(e){var t=Q;Q=h();try{return e()}finally{Q=t}}}}function Dt(e){function t(e){return e=ke(e),null===e?null:e.stateNode}var n=e.getPublicInstance;e=Rt(e);var i=e.computeAsyncExpiration,o=e.computeExpirationForFiber,a=e.scheduleWork;return{createContainer:function(e,t){var n=new ot(3,null,0);return e={current:n,containerInfo:e,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:t,nextScheduledRoot:null},n.stateNode=e},updateContainer:function(e,t,n,s){var u=t.current;if(n){n=n._reactInternalFiber;var l;e:{for(2===Ce(n)&&2===n.tag||r("170"),l=n;3!==l.tag;){if(Ze(l)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}(l=l.return)||r("171")}l=l.stateNode.context}n=Ze(n)?nt(n,l):l}else n=xn;null===t.context?t.context=n:t.pendingContext=n,t=s,t=void 0===t?null:t,s=null!=e&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent?i():o(u),_t(u,{expirationTime:s,partialState:{element:e},callback:t,isReplace:!1,isForced:!1,nextCallback:null,next:null}),a(u,s)},batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,flushSync:e.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return n(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:t,findHostInstanceWithNoPortals:function(e){return e=Ne(e),null===e?null:e.stateNode},injectIntoDevTools:function(e){var n=e.findFiberByHostInstance;return pt(wn({},e,{findHostInstanceByFiber:function(e){return t(e)},findFiberByHostInstance:function(e){return n?n(e):null}}))}}}function Lt(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ci,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Mt(e){return!!Qi.hasOwnProperty(e)||!Gi.hasOwnProperty(e)&&(qi.test(e)?Qi[e]=!0:(Gi[e]=!0,!1))}function Ft(e,t,n){var r=a(t);if(r&&o(t,n)){var i=r.mutationMethod;i?i(e,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?jt(e,t):r.mustUseProperty?e[r.propertyName]=n:(t=r.attributeName,(i=r.attributeNamespace)?e.setAttributeNS(i,t,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(t,""):e.setAttribute(t,""+n))}else Ut(e,t,o(t,n)?n:null)}function Ut(e,t,n){Mt(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))}function jt(e,t){var n=a(t);n?(t=n.mutationMethod)?t(e,void 0):n.mustUseProperty?e[n.propertyName]=!n.hasBooleanValue&&"":e.removeAttribute(n.attributeName):e.removeAttribute(t)}function Wt(e,t){var n=t.value,r=t.checked;return wn({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked})}function Bt(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Vt(e,t){null!=(t=t.checked)&&Ft(e,"checked",t)}function Ht(e,t){Vt(e,t);var n=t.value;null!=n?0===n&&""===e.value?e.value="0":"number"===t.type?(t=parseFloat(e.value)||0,(n!=t||n==t&&e.value!=n)&&(e.value=""+n)):e.value!==""+n&&(e.value=""+n):(null==t.value&&null!=t.defaultValue&&e.defaultValue!==""+t.defaultValue&&(e.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked))}function Kt(e,t){switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":e.value="",e.value=e.defaultValue;break;default:e.value=e.value}t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function zt(e){var t="";return _n.Children.forEach(e,function(e){null==e||"string"!==typeof e&&"number"!==typeof e||(t+=e)}),t}function qt(e,t){return e=wn({children:void 0},t),(t=zt(t.children))&&(e.children=t),e}function Gt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Qt(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function Xt(e,t){return null!=t.dangerouslySetInnerHTML&&r("91"),wn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yt(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n&&r("92"),Array.isArray(t)&&(1>=t.length||r("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function $t(e,t){var n=t.value;null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Jt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Zt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function nn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"===typeof o||""===o?"":r||"number"!==typeof o||0===o||Ji.hasOwnProperty(i)&&Ji[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function rn(e,t,n){t&&(eo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&r("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&r("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||r("61")),null!=t.style&&"object"!==typeof t.style&&r("62",n()))}function on(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function an(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=Le(e);t=Yn[t];for(var r=0;r<t.length;r++){var i=t[r];n.hasOwnProperty(i)&&n[i]||("topScroll"===i?Pe("topScroll","scroll",e):"topFocus"===i||"topBlur"===i?(Pe("topFocus","focus",e),Pe("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(ne("cancel",!0)&&Pe("topCancel","cancel",e),n.topCancel=!0):"topClose"===i?(ne("close",!0)&&Pe("topClose","close",e),n.topClose=!0):Xr.hasOwnProperty(i)&&Ie(i,Xr[i],e),n[i]=!0)}}function sn(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===to&&(r=Zt(e)),r===to?"script"===e?(e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"===typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function un(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function ln(e,t,n,r){var i=on(t,n);switch(t){case"iframe":case"object":Ie("topLoad","load",e);var o=n;break;case"video":case"audio":for(o in ro)ro.hasOwnProperty(o)&&Ie(o,ro[o],e);o=n;break;case"source":Ie("topError","error",e),o=n;break;case"img":case"image":Ie("topError","error",e),Ie("topLoad","load",e),o=n;break;case"form":Ie("topReset","reset",e),Ie("topSubmit","submit",e),o=n;break;case"details":Ie("topToggle","toggle",e),o=n;break;case"input":Bt(e,n),o=Wt(e,n),Ie("topInvalid","invalid",e),an(r,"onChange");break;case"option":o=qt(e,n);break;case"select":Qt(e,n),o=wn({},n,{value:void 0}),Ie("topInvalid","invalid",e),an(r,"onChange");break;case"textarea":Yt(e,n),o=Xt(e,n),Ie("topInvalid","invalid",e),an(r,"onChange");break;default:o=n}rn(t,o,no);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];"style"===a?nn(e,u,no):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&$i(e,u):"children"===a?"string"===typeof u?("textarea"!==t||""!==u)&&tn(e,u):"number"===typeof u&&tn(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Xn.hasOwnProperty(a)?null!=u&&an(r,a):i?Ut(e,a,u):null!=u&&Ft(e,a,u))}switch(t){case"input":oe(e),Kt(e,n);break;case"textarea":oe(e),Jt(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,t=n.value,null!=t?Gt(e,!!n.multiple,t,!1):null!=n.defaultValue&&Gt(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Cn)}}function cn(e,t,n,r,i){var o=null;switch(t){case"input":n=Wt(e,n),r=Wt(e,r),o=[];break;case"option":n=qt(e,n),r=qt(e,r),o=[];break;case"select":n=wn({},n,{value:void 0}),r=wn({},r,{value:void 0}),o=[];break;case"textarea":n=Xt(e,n),r=Xt(e,r),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=Cn)}rn(t,r,no);var a,s;e=null;for(a in n)if(!r.hasOwnProperty(a)&&n.hasOwnProperty(a)&&null!=n[a])if("style"===a)for(s in t=n[a])t.hasOwnProperty(s)&&(e||(e={}),e[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Xn.hasOwnProperty(a)?o||(o=[]):(o=o||[]).push(a,null));for(a in r){var u=r[a];if(t=null!=n?n[a]:void 0,r.hasOwnProperty(a)&&u!==t&&(null!=u||null!=t))if("style"===a)if(t){for(s in t)!t.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in u)u.hasOwnProperty(s)&&t[s]!==u[s]&&(e||(e={}),e[s]=u[s])}else e||(o||(o=[]),o.push(a,e)),e=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,t=t?t.__html:void 0,null!=u&&t!==u&&(o=o||[]).push(a,""+u)):"children"===a?t===u||"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(Xn.hasOwnProperty(a)?(null!=u&&an(i,a),o||t===u||(o=[])):(o=o||[]).push(a,u))}return e&&(o=o||[]).push("style",e),o}function hn(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&Vt(e,i),on(n,r),r=on(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?nn(e,s,no):"dangerouslySetInnerHTML"===a?$i(e,s):"children"===a?tn(e,s):r?null!=s?Ut(e,a,s):e.removeAttribute(a):null!=s?Ft(e,a,s):jt(e,a)}switch(n){case"input":Ht(e,i);break;case"textarea":$t(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,n=i.value,null!=n?Gt(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Gt(e,!!i.multiple,i.defaultValue,!0):Gt(e,!!i.multiple,i.multiple?[]:"",!1))}}function fn(e,t,n,r,i){switch(t){case"iframe":case"object":Ie("topLoad","load",e);break;case"video":case"audio":for(var o in ro)ro.hasOwnProperty(o)&&Ie(o,ro[o],e);break;case"source":Ie("topError","error",e);break;case"img":case"image":Ie("topError","error",e),Ie("topLoad","load",e);break;case"form":Ie("topReset","reset",e),Ie("topSubmit","submit",e);break;case"details":Ie("topToggle","toggle",e);break;case"input":Bt(e,n),Ie("topInvalid","invalid",e),an(i,"onChange");break;case"select":Qt(e,n),Ie("topInvalid","invalid",e),an(i,"onChange");break;case"textarea":Yt(e,n),Ie("topInvalid","invalid",e),an(i,"onChange")}rn(t,n,no),r=null;for(var a in n)n.hasOwnProperty(a)&&(o=n[a],"children"===a?"string"===typeof o?e.textContent!==o&&(r=["children",o]):"number"===typeof o&&e.textContent!==""+o&&(r=["children",""+o]):Xn.hasOwnProperty(a)&&null!=o&&an(i,a));switch(t){case"input":oe(e),Kt(e,n);break;case"textarea":oe(e),Jt(e,n);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(e.onclick=Cn)}return r}function dn(e,t){return e.nodeValue!==t}function pn(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function vn(e){return!(!(e=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))}function gn(e,t,n,i,o){pn(n)||r("200");var a=n._reactRootContainer;if(a)so.updateContainer(t,a,e,o);else{if(!(i=i||vn(n)))for(a=void 0;a=n.lastChild;)n.removeChild(a);var s=so.createContainer(n,i);a=n._reactRootContainer=s,so.unbatchedUpdates(function(){so.updateContainer(t,s,e,o)})}return so.getPublicRootInstance(a)}function mn(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return pn(t)||r("200"),Lt(e,t,null,n)}function yn(e,t){this._reactRootContainer=so.createContainer(e,t)}var _n=n(9),bn=n(102),wn=n(32),Cn=n(22),En=n(103),Sn=n(104),Tn=n(105),kn=n(106),Nn=n(109),xn=n(49);_n||r("227");var On={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},In={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=In,n=e.Properties||{},o=e.DOMAttributeNamespaces||{},a=e.DOMAttributeNames||{};e=e.DOMMutationMethods||{};for(var s in n){Pn.hasOwnProperty(s)&&r("48",s);var u=s.toLowerCase(),l=n[s];u={attributeName:u,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:i(l,t.MUST_USE_PROPERTY),hasBooleanValue:i(l,t.HAS_BOOLEAN_VALUE),hasNumericValue:i(l,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(l,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(l,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:i(l,t.HAS_STRING_BOOLEAN_VALUE)},1>=u.hasBooleanValue+u.hasNumericValue+u.hasOverloadedBooleanValue||r("50",s),a.hasOwnProperty(s)&&(u.attributeName=a[s]),o.hasOwnProperty(s)&&(u.attributeNamespace=o[s]),e.hasOwnProperty(s)&&(u.mutationMethod=e[s]),Pn[s]=u}}},Pn={},An=In,Rn=An.MUST_USE_PROPERTY,Dn=An.HAS_BOOLEAN_VALUE,Ln=An.HAS_NUMERIC_VALUE,Mn=An.HAS_POSITIVE_NUMERIC_VALUE,Fn=An.HAS_OVERLOADED_BOOLEAN_VALUE,Un=An.HAS_STRING_BOOLEAN_VALUE,jn={Properties:{allowFullScreen:Dn,async:Dn,autoFocus:Dn,autoPlay:Dn,capture:Fn,checked:Rn|Dn,cols:Mn,contentEditable:Un,controls:Dn,default:Dn,defer:Dn,disabled:Dn,download:Fn,draggable:Un,formNoValidate:Dn,hidden:Dn,loop:Dn,multiple:Rn|Dn,muted:Rn|Dn,noValidate:Dn,open:Dn,playsInline:Dn,readOnly:Dn,required:Dn,reversed:Dn,rows:Mn,rowSpan:Ln,scoped:Dn,seamless:Dn,selected:Rn|Dn,size:Mn,start:Ln,span:Mn,spellCheck:Un,style:0,tabIndex:0,itemScope:Dn,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:Un},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}},Wn=An.HAS_STRING_BOOLEAN_VALUE,Bn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Vn={Properties:{autoReverse:Wn,externalResourcesRequired:Wn,preserveAlpha:Wn},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:Bn.xlink,xlinkArcrole:Bn.xlink,xlinkHref:Bn.xlink,xlinkRole:Bn.xlink,xlinkShow:Bn.xlink,xlinkTitle:Bn.xlink,xlinkType:Bn.xlink,xmlBase:Bn.xml,xmlLang:Bn.xml,xmlSpace:Bn.xml}},Hn=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(e){var t=e.replace(Hn,s);Vn.Properties[t]=0,Vn.DOMAttributeNames[t]=e}),An.injectDOMPropertyConfig(jn),An.injectDOMPropertyConfig(Vn);var Kn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!==typeof e.invokeGuardedCallback&&r("197"),u=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,n,r,i,o,a,s,l){u.apply(Kn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,u){if(Kn.invokeGuardedCallback.apply(this,arguments),Kn.hasCaughtError()){var l=Kn.clearCaughtError();Kn._hasRethrowError||(Kn._hasRethrowError=!0,Kn._rethrowError=l)}},rethrowCaughtError:function(){return l.apply(Kn,arguments)},hasCaughtError:function(){return Kn._hasCaughtError},clearCaughtError:function(){if(Kn._hasCaughtError){var e=Kn._caughtError;return Kn._caughtError=null,Kn._hasCaughtError=!1,e}r("198")}},zn=null,qn={},Gn=[],Qn={},Xn={},Yn={},$n=Object.freeze({plugins:Gn,eventNameDispatchConfigs:Qn,registrationNameModules:Xn,registrationNameDependencies:Yn,possibleRegistrationNames:null,injectEventPluginOrder:f,injectEventPluginsByName:d}),Jn=null,Zn=null,er=null,tr=null,nr={injectEventPluginOrder:f,injectEventPluginsByName:d},rr=Object.freeze({injection:nr,getListener:b,extractEvents:w,enqueueEvents:C,processEventQueue:E}),ir=Math.random().toString(36).slice(2),or="__reactInternalInstance$"+ir,ar="__reactEventHandlers$"+ir,sr=Object.freeze({precacheFiberNode:function(e,t){t[or]=e},getClosestInstanceFromNode:S,getInstanceFromNode:function(e){return e=e[or],!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:T,getFiberCurrentPropsFromNode:k,updateFiberProps:function(e,t){e[ar]=t}}),ur=Object.freeze({accumulateTwoPhaseDispatches:D,accumulateTwoPhaseDispatchesSkipTarget:function(e){g(e,P)},accumulateEnterLeaveDispatches:L,accumulateDirectDispatches:function(e){g(e,R)}}),lr=null,cr={_root:null,_startText:null,_fallbackText:null},hr="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),fr={type:null,target:null,currentTarget:Cn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};wn(j.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Cn.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Cn.thatReturnsTrue)},persist:function(){this.isPersistent=Cn.thatReturnsTrue},isPersistent:Cn.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<hr.length;t++)this[hr[t]]=null}}),j.Interface=fr,j.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var r=new n;wn(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=wn({},this.Interface,t),e.augmentClass=this.augmentClass,V(e)},V(j),j.augmentClass(H,{data:null}),j.augmentClass(K,{data:null});var dr=[9,13,27,32],pr=bn.canUseDOM&&"CompositionEvent"in window,vr=null;bn.canUseDOM&&"documentMode"in document&&(vr=document.documentMode);var gr;if(gr=bn.canUseDOM&&"TextEvent"in window&&!vr){var mr=window.opera;gr=!("object"===typeof mr&&"function"===typeof mr.version&&12>=parseInt(mr.version(),10))}var yr,_r=gr,br=bn.canUseDOM&&(!pr||vr&&8<vr&&11>=vr),wr=String.fromCharCode(32),Cr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Er=!1,Sr=!1,Tr={eventTypes:Cr,extractEvents:function(e,t,n,r){var i;if(pr)e:{switch(e){case"topCompositionStart":var o=Cr.compositionStart;break e;case"topCompositionEnd":o=Cr.compositionEnd;break e;case"topCompositionUpdate":o=Cr.compositionUpdate;break e}o=void 0}else Sr?z(e,n)&&(o=Cr.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(o=Cr.compositionStart);return o?(br&&(Sr||o!==Cr.compositionStart?o===Cr.compositionEnd&&Sr&&(i=F()):(cr._root=r,cr._startText=U(),Sr=!0)),o=H.getPooled(o,t,n,r),i?o.data=i:null!==(i=q(n))&&(o.data=i),D(o),i=o):i=null,(e=_r?G(e,n):Q(e,n))?(t=K.getPooled(Cr.beforeInput,t,n,r),t.data=e,D(t)):t=null,[i,t]}},kr=null,Nr=null,xr=null,Or={injectFiberControlledHostComponent:function(e){kr=e}},Ir=Object.freeze({injection:Or,enqueueStateRestore:Y,restoreStateIfNeeded:$}),Pr=!1,Ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};bn.canUseDOM&&(yr=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Rr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Dr=null,Lr=null,Mr=!1;bn.canUseDOM&&(Mr=ne("input")&&(!document.documentMode||9<document.documentMode));var Fr={eventTypes:Rr,_isInputEventSupported:Mr,extractEvents:function(e,t,n,r){var i=t?T(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=ce;else if(ee(i))if(Mr)a=ge;else{a=pe;var s=de}else!(o=i.nodeName)||"input"!==o.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(a=ve);if(a&&(a=a(e,t)))return se(a,n,r);s&&s(e,i,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&(e=""+i.value,i.getAttribute("value")!==e&&i.setAttribute("value",e))}};j.augmentClass(me,{view:null,detail:null});var Ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};me.augmentClass(be,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:_e,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Wr={eventTypes:jr,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?S(t):null):e=null,e===t)return null;var o=null==e?i:T(e);i=null==t?i:T(t);var a=be.getPooled(jr.mouseLeave,e,n,r);return a.type="mouseleave",a.target=o,a.relatedTarget=i,n=be.getPooled(jr.mouseEnter,t,n,r),n.type="mouseenter",n.target=i,n.relatedTarget=o,L(a,n,e,t),[a,n]}},Br=_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vr=[],Hr=!0,Kr=void 0,zr=Object.freeze({get _enabled(){return Hr},get _handleTopLevel(){return Kr},setHandleTopLevel:function(e){Kr=e},setEnabled:Oe,isEnabled:function(){return Hr},trapBubbledEvent:Ie,trapCapturedEvent:Pe,dispatchEvent:Ae}),qr={animationend:Re("Animation","AnimationEnd"),animationiteration:Re("Animation","AnimationIteration"),animationstart:Re("Animation","AnimationStart"),transitionend:Re("Transition","TransitionEnd")},Gr={},Qr={};bn.canUseDOM&&(Qr=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);var Xr={topAbort:"abort",topAnimationEnd:De("animationend")||"animationend",topAnimationIteration:De("animationiteration")||"animationiteration",topAnimationStart:De("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:De("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Yr={},$r=0,Jr="_reactListenersID"+(""+Math.random()).slice(2),Zr=bn.canUseDOM&&"documentMode"in document&&11>=document.documentMode,ei={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ti=null,ni=null,ri=null,ii=!1,oi={eventTypes:ei,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Le(o),i=Yn.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?T(t):window,e){case"topFocus":(ee(o)||"true"===o.contentEditable)&&(ti=o,ni=t,ri=null);break;case"topBlur":ri=ni=ti=null;break;case"topMouseDown":ii=!0;break;case"topContextMenu":case"topMouseUp":return ii=!1,je(n,r);case"topSelectionChange":if(Zr)break;case"topKeyDown":case"topKeyUp":return je(n,r)}return null}};j.augmentClass(We,{animationName:null,elapsedTime:null,pseudoElement:null}),j.augmentClass(Be,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),me.augmentClass(Ve,{relatedTarget:null});var ai={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};me.augmentClass(Ke,{key:function(e){if(e.key){var t=ai[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=He(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?si[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:_e,charCode:function(e){return"keypress"===e.type?He(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?He(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),be.augmentClass(ze,{dataTransfer:null}),me.augmentClass(qe,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:_e}),j.augmentClass(Ge,{propertyName:null,elapsedTime:null,pseudoElement:null}),be.augmentClass(Qe,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var ui={},li={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t;t="top"+t,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[t]},ui[e]=n,li[t]=n});var ci={eventTypes:ui,extractEvents:function(e,t,n,r){var i=li[e];if(!i)return null;switch(e){case"topKeyPress":if(0===He(n))return null;case"topKeyDown":case"topKeyUp":e=Ke;break;case"topBlur":case"topFocus":e=Ve;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=be;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=ze;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=qe;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=We;break;case"topTransitionEnd":e=Ge;break;case"topScroll":e=me;break;case"topWheel":e=Qe;break;case"topCopy":case"topCut":case"topPaste":e=Be;break;default:e=j}return t=e.getPooled(i,t,n,r),D(t),t}};Kr=function(e,t,n,r){e=w(e,t,n,r),C(e),E(!1)},nr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Jn=sr.getFiberCurrentPropsFromNode,Zn=sr.getInstanceFromNode,er=sr.getNodeFromInstance,nr.injectEventPluginsByName({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Wr,ChangeEventPlugin:Fr,SelectEventPlugin:oi,BeforeInputEventPlugin:Tr});var hi=[],fi=-1;new Set;var di={current:xn},pi={current:!1},vi=xn,gi=null,mi=null,yi="function"===typeof Symbol&&Symbol.for,_i=yi?Symbol.for("react.element"):60103,bi=yi?Symbol.for("react.call"):60104,wi=yi?Symbol.for("react.return"):60105,Ci=yi?Symbol.for("react.portal"):60106,Ei=yi?Symbol.for("react.fragment"):60107,Si="function"===typeof Symbol&&Symbol.iterator,Ti=Array.isArray,ki=Nt(!0),Ni=Nt(!1),xi={},Oi=Object.freeze({default:Dt}),Ii=Oi&&Dt||Oi,Pi=Ii.default?Ii.default:Ii,Ai="object"===typeof performance&&"function"===typeof performance.now,Ri=void 0;Ri=Ai?function(){return performance.now()}:function(){return Date.now()};var Di=void 0,Li=void 0;if(bn.canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var Mi,Fi=null,Ui=!1,ji=-1,Wi=!1,Bi=0,Vi=33,Hi=33;Mi=Ai?{didTimeout:!1,timeRemaining:function(){var e=Bi-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Bi-Date.now();return 0<e?e:0}};var Ki="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Ki){if(Ui=!1,e=Ri(),0>=Bi-e){if(!(-1!==ji&&ji<=e))return void(Wi||(Wi=!0,requestAnimationFrame(zi)));Mi.didTimeout=!0}else Mi.didTimeout=!1;ji=-1,e=Fi,Fi=null,null!==e&&e(Mi)}},!1);var zi=function(e){Wi=!1;var t=e-Bi+Hi;t<Hi&&Vi<Hi?(8>t&&(t=8),Hi=t<Vi?Vi:t):Vi=t,Bi=e+Hi,Ui||(Ui=!0,window.postMessage(Ki,"*"))};Di=function(e,t){return Fi=e,null!=t&&"number"===typeof t.timeout&&(ji=Ri()+t.timeout),Wi||(Wi=!0,requestAnimationFrame(zi)),0},Li=function(){Fi=null,Ui=!1,ji=-1}}else Di=window.requestIdleCallback,Li=window.cancelIdleCallback;else Di=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0}})})},Li=function(e){clearTimeout(e)};var qi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gi={},Qi={},Xi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Yi=void 0,$i=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Xi.svg||"innerHTML"in e)e.innerHTML=t;else{for(Yi=Yi||document.createElement("div"),Yi.innerHTML="<svg>"+t+"</svg>",t=Yi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Ji={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zi=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(e){Zi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ji[t]=Ji[e]})});var eo=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),to=Xi.html,no=Cn.thatReturns(""),ro={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},io=Object.freeze({createElement:sn,createTextNode:un,setInitialProperties:ln,diffProperties:cn,updateProperties:hn,diffHydratedProperties:fn,diffHydratedText:dn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(Ht(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=k(i);o||r("90"),ae(i),Ht(i,o)}}}break;case"textarea":$t(e,n);break;case"select":null!=(t=n.value)&&Gt(e,!!n.multiple,t,!1)}}});Or.injectFiberControlledHostComponent(io);var oo=null,ao=null,so=Pi({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:en(null,"");break;default:t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=en(e,t)}return e},getChildHostContext:function(e,t){return en(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){oo=Hr;var e=Sn();if(Ue(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,u=0,l=0,c=e,h=null;t:for(;;){for(var f;c!==t||0!==r&&3!==c.nodeType||(a=o+r),c!==i||0!==n&&3!==c.nodeType||(s=o+n),3===c.nodeType&&(o+=c.nodeValue.length),null!==(f=c.firstChild);)h=c,c=f;for(;;){if(c===e)break t;if(h===t&&++u===r&&(a=o),h===i&&++l===n&&(s=o),null!==(f=c.nextSibling))break;c=h,h=c.parentNode}c=f}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;ao={focusedElem:e,selectionRange:t},Oe(!1)},resetAfterCommit:function(){var e=ao,t=Sn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&kn(document.documentElement,n)){if(Ue(n))if(t=r.start,e=r.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var i=n[M()].length;e=Math.min(r.start,i),r=void 0===r.end?e:Math.min(r.end,i),!t.extend&&e>r&&(i=r,r=e,e=i),i=Fe(n,e);var o=Fe(n,r);if(i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)){var a=document.createRange();a.setStart(i.node,i.offset),t.removeAllRanges(),e>r?(t.addRange(a),t.extend(o.node,o.offset)):(a.setEnd(o.node,o.offset),t.addRange(a))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(Nn(n),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}ao=null,Oe(oo),oo=null},createInstance:function(e,t,n,r,i){return e=sn(e,t,n,r),e[or]=i,e[ar]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){ln(e,t,n,r);e:{switch(t){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e}e=!1}return e},prepareUpdate:function(e,t,n,r,i){return cn(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"===typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return e=un(e,t),e[or]=r,e},now:Ri,mutation:{commitMount:function(e){e.focus()},commitUpdate:function(e,t,n,r,i){e[ar]=i,hn(e,t,n,r,i)},resetTextContent:function(e){e.textContent=""},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,i,o){return e[or]=o,e[ar]=n,fn(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return e[or]=n,dn(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Di,cancelDeferredCallback:Li,useSyncScheduling:!0});J=so.batchedUpdates,yn.prototype.render=function(e,t){so.updateContainer(e,this._reactRootContainer,null,t)},yn.prototype.unmount=function(e){so.updateContainer(null,this._reactRootContainer,null,e)};var uo={createPortal:mn,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(t)return so.findHostInstance(t);"function"===typeof e.render?r("188"):r("213",Object.keys(e))},hydrate:function(e,t,n){return gn(null,e,t,!0,n)},render:function(e,t,n){return gn(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return(null==e||void 0===e._reactInternalFiber)&&r("38"),gn(e,t,n,!1,i)},unmountComponentAtNode:function(e){return pn(e)||r("40"),!!e._reactRootContainer&&(so.unbatchedUpdates(function(){gn(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:mn,unstable_batchedUpdates:Z,unstable_deferredUpdates:so.deferredUpdates,flushSync:so.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:rr,EventPluginRegistry:$n,EventPropagators:ur,ReactControlledComponent:Ir,ReactDOMComponentTree:sr,ReactDOMEventListener:zr}};so.injectIntoDevTools({findFiberByHostInstance:S,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var lo=Object.freeze({default:uo}),co=lo&&uo||lo;e.exports=co.default?co.default:co},function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";var r=n(22),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";function r(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=r},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(107);e.exports=r},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(108);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"===typeof n.Node?e instanceof n.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}e.exports=r},function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}e.exports=r},function(e,t){},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(33),u=n.n(s),l=n(9),c=n.n(l),h=n(114),f=n(218),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkCurrentStatus=function(e){"connected"===e.status?n.setState({FbResponse:e,currentStatus:!0,userId:e.authResponse.userID}):n.setState({currentStatus:!1,userId:null,FbResponse:null})},n.login=function(){window.FB.login(n.checkCurrentStatus,{scope:"email"})},n.logout=function(){window.FB.logout(n.checkCurrentStatus)},n.state={FbResponse:null,userId:null,currentStatus:null},n}return a(t,e),d(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=r(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.resolveFuckingAsynchronous;case 2:t=e.sent,t.getLoginStatus(this.checkCurrentStatus);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this.state,t=e.userId,n=e.currentStatus,r=e.FbResponse;return c.a.createElement("div",{className:"App"},n?c.a.createElement("div",null,c.a.createElement(h.a,{userId:t,FbResponse:r,logout:this.logout})):c.a.createElement(f.a,{login:this.login}))}}]),t}(l.Component);t.a=p},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(113),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),s=new d(r||[]);return a._invoke=l(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(n,i,o,a){var s=r(e[n],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&y.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(l).then(function(e){u.value=e,o(u)},a)}a(s.arg)}function n(e,n){function r(){return new Promise(function(r,i){t(e,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function l(e,t,n){var i=T;return function(o,a){if(i===N)throw new Error("Generator is already running");if(i===x){if("throw"===o)throw a;return v()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=c(s,n);if(u){if(u===O)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===T)throw i=x,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=N;var l=r(e,t,n);if("normal"===l.type){if(i=n.done?x:k,l.arg===O)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=x,n.method="throw",n.arg=l.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,c(e,t),"throw"===t.method))return O;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,O;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,O):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,O)}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function p(e){if(e){var t=e[b];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return r.next=r}}return{next:v}}function v(){return{value:g,done:!0}}var g,m=Object.prototype,y=m.hasOwnProperty,_="function"===typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",w=_.asyncIterator||"@@asyncIterator",C=_.toStringTag||"@@toStringTag",E="object"===typeof e,S=t.regeneratorRuntime;if(S)return void(E&&(e.exports=S));S=t.regeneratorRuntime=E?e.exports:{},S.wrap=n;var T="suspendedStart",k="suspendedYield",N="executing",x="completed",O={},I={};I[b]=function(){return this};var P=Object.getPrototypeOf,A=P&&P(P(p([])));A&&A!==m&&y.call(A,b)&&(I=A);var R=a.prototype=i.prototype=Object.create(I);o.prototype=R.constructor=a,a.constructor=o,a[C]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,C in e||(e[C]="GeneratorFunction")),e.prototype=Object.create(R),e},S.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[w]=function(){return this},S.AsyncIterator=u,S.async=function(e,t,r,i){var o=new u(n(e,t,r,i));return S.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(R),R[C]="Generator",R[b]=function(){return this},R.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=p,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,O):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),O},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),O}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;f(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),O}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(33),l=n.n(u),c=n(9),h=n.n(c),f=n(115),d=(n.n(f),n(116)),p=n(91),v=n(212),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=r(["\n  font-size: 14px;\n  font-weight: 250;\n  width:60px;\n  height: 24px;\n  text-align: center;\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 10px;\n  padding-top:5px;\n  margin-bottom: 20px;\n  cursor: pointer;\n"],["\n  font-size: 14px;\n  font-weight: 250;\n  width:60px;\n  height: 24px;\n  text-align: center;\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 10px;\n  padding-top:5px;\n  margin-bottom: 20px;\n  cursor: pointer;\n"]),y=r(["\n  height: 35px;\n  padding-top:15px;\n  border-bottom: 2px solid #FFFFFF; \n  cursor: pointer;\n  background: ","\n"],["\n  height: 35px;\n  padding-top:15px;\n  border-bottom: 2px solid #FFFFFF; \n  cursor: pointer;\n  background: ","\n"]),_=d.a.database();n(213),n(214),n(215),n(216),n(217);var b=function(e){function t(e){var n=this;o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.isBlank=function(e){return!e||0===e.length||/^\s*$/.test(e)},r.onContentChange=function(e,t){var n=r.state,i=n.titles,o=n.value,a=(n.tabId,n.indexTitle),s=i[e].content;r.isBlank(o)&&a!==e?r.setState({indexTitle:e,value:s,type:"REMOVE"}):a!==e&&r.setState({value:s,tabId:t,indexTitle:e,type:"CHOOSE"})},r.addTitle=i(l.a.mark(function e(){var t,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:"newTitle",userId:r.props.userId,content:"content = "+Math.random().toString()},e.next=3,_.ref("note").push(t);case 3:i=e.sent,r.state.titles.unshift(Object.assign(t,{id:i.key})),r.setState({titles:r.state.titles,value:t.content,indexTitle:0,type:"ADD"});case 6:case"end":return e.stop()}},e,n)})),r.state={value:"",titles:[],tabId:null,indexTitle:0,type:""},r}return s(t,e),g(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=i(l.a.mark(function e(){var t,n,r,i,o,a=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.ref("note").once("value");case 2:t=e.sent,n=t.val(),r=[],Object.keys(n).map(function(e){a.props.userId===n[e].userId&&r.push(Object.assign(n[e],{id:e}))}),0===r.length&&(i={userId:this.props.userId,content:"Note something here!!",title:"New Title"},o=_.ref("note").push(i),Object.assign(i,{id:o.key}),r.push(i)),this.setState({titles:r.reverse(),value:r[0].content,tabId:r[0].id});case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"componentDidUpdate",value:function(){function e(e,n){return t.apply(this,arguments)}var t=i(l.a.mark(function e(t,n){var r,i,o,a,s,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.state,i=r.titles,o=r.type,a=r.tabId,s=r.value,u=r.indexTitle,"UPDATE"!==o||this.isBlank(s)){e.next=6;break}return e.next=4,_.ref("note").child(a).update({content:s});case 4:Object.assign(i[u],{content:s}),this.setState({titles:i,type:""});case 6:if("REMOVE"!==o){e.next=11;break}return e.next=9,_.ref("note").child(n.tabId).remove();case 9:i.splice(n.indexTitle,1),n.indexTitle<u?this.setState({type:"",titles:i,indexTitle:u-1}):this.setState({type:"",titles:i,indexTitle:u});case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this,t=this.props.logout,n=this.state,r=n.titles,i=n.indexTitle,o={theme:"material text-note"};return h.a.createElement("div",{className:"main-dashboard"},h.a.createElement(v.a,{FbResponse:this.props.FbResponse}),h.a.createElement("div",{className:"main-note"},h.a.createElement("div",{className:"btn-main"},h.a.createElement(w,{color:"rgb(107, 207, 82)",onClick:function(){return e.addTitle()}},"ADD"),h.a.createElement(w,{color:"rgb(65, 83, 180)",onClick:function(){return t()}},"SignOut")),h.a.createElement("div",{className:"all-title"},r.map(function(t,n){return h.a.createElement(C,{key:t.id,onClick:function(){return e.onContentChange(n,t.id)},selected:i===n},t.title)})),h.a.createElement("div",{className:"body-note"},h.a.createElement("div",{className:"bg-text-note"},h.a.createElement("div",{className:"wrap-text-note"},h.a.createElement(f.Controlled,{value:this.state.value,options:o,onBeforeChange:function(t,n,r){e.setState({value:r,type:"UPDATE"})},onChange:function(e,t){}}))))))}}]),t}(h.a.Component),w=p.a.a(m,function(e){return e.color},function(e){return e.color}),C=p.a.div(y,function(e){return e.selected?"rgb(44,44,44)":"rgb(22,22,22)"});t.a=b},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(9),a="undefined"===typeof navigator||!0===e.PREVENT_CODEMIRROR_RENDER;a||(i=n(34));var s=function(){function e(){}return e.equals=function(e,t){var n=this,r=Object.keys,i=typeof e,o=typeof t;return e&&t&&"object"===i&&i===o?r(e).length===r(t).length&&r(e).every(function(r){return n.equals(e[r],t[r])}):e===t},e}(),u=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,n){var r=this.editor.getDoc();n&&this.editor.focus(),t?r.setCursor(e):r.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){this.editor.setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,e.autoFocus||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,n){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!s.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!s.equals(e.cursor,t.cursor)&&this.delegateCursor(n.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!s.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,e.autoFocus||!1)},e.prototype.wire=function(e){var t=this;switch(e){case"onBlur":this.editor.on("blur",function(e,n){t.props.onBlur(t.editor,n)});break;case"onCursor":this.editor.on("cursorActivity",function(e){t.props.onCursor(t.editor,t.editor.getCursor())});break;case"onCursorActivity":this.editor.on("cursorActivity",function(e){t.props.onCursorActivity(t.editor)});break;case"onDragEnter":this.editor.on("dragenter",function(e,n){t.props.onDragEnter(t.editor,n)});break;case"onDragOver":this.editor.on("dragover",function(e,n){t.props.onDragOver(t.editor,n)});break;case"onDrop":this.editor.on("drop",function(e,n){t.props.onDrop(t.editor,n)});break;case"onFocus":this.editor.on("focus",function(e,n){t.props.onFocus(t.editor,n)});break;case"onGutterClick":this.editor.on("gutterClick",function(e,n,r,i){t.props.onGutterClick(t.editor,n,r,i)});break;case"onKeyDown":this.editor.on("keydown",function(e,n){t.props.onKeyDown(t.editor,n)});break;case"onKeyPress":this.editor.on("keypress",function(e,n){t.props.onKeyPress(t.editor,n)});break;case"onKeyUp":this.editor.on("keyup",function(e,n){t.props.onKeyUp(t.editor,n)});break;case"onScroll":this.editor.on("scroll",function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())});break;case"onSelection":this.editor.on("beforeSelectionChange",function(e,n){t.props.onSelection(t.editor,n)});break;case"onUpdate":this.editor.on("update",function(e){t.props.onUpdate(t.editor)});break;case"onViewportChange":this.editor.on("viewportChange",function(e,n,r){t.props.onViewportChange(t.editor,n,r)})}},e}(),l=function(e){function t(t){var n=e.call(this,t)||this;return a?n:(n.applied=!1,n.appliedNext=!1,n.appliedUserDefined=!1,n.deferred=null,n.emulating=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n)}return r(t,e),t.prototype.hydrate=function(e){var t=this,n=Object.assign({},i.defaults,this.editor.options,e.options||{});Object.keys(n).some(function(e){return t.editor.getOption(e)!==n[e]})&&Object.keys(n).forEach(function(r){e.options.hasOwnProperty(r)&&t.editor.getOption(r)!==n[r]&&(t.editor.setOption(r,n[r]),t.mirror.setOption(r,n[r]))}),this.hydrated||(this.mounted&&this.deferred?this.resolveChange():this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.lastLine(),n=this.editor.getLine(this.editor.lastLine()).length;this.editor.replaceRange(e||"",{line:0,ch:0},{line:t,ch:n}),this.mirror.setValue(e),this.editor.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(){this.emulating=!0,"undo"===this.deferred.origin?this.editor.undo():"redo"===this.deferred.origin?this.editor.redo():this.editor.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){return"undo"===e.origin?(this.editor.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(this.editor.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentWillMount=function(){a||this.props.editorWillMount&&this.props.editorWillMount()},t.prototype.componentDidMount=function(){var e=this;a||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&i.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=i(this.ref),this.shared=new u(this.editor,this.props),this.mirror=i(function(){}),this.editor.on("electricInput",function(){e.mirror.setHistory(e.editor.getHistory())}),this.editor.on("cursorActivity",function(){e.mirror.setCursor(e.editor.getCursor())}),this.editor.on("beforeChange",function(t,n){if(!e.emulating){n.cancel(),e.deferred=n;var r=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,r)}}),this.editor.on("change",function(t,n){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,n,e.editor.getValue())}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.props.onBlur&&this.shared.wire("onBlur"),this.props.onCursor&&this.shared.wire("onCursor"),this.props.onCursorActivity&&this.shared.wire("onCursorActivity"),this.props.onDragEnter&&this.shared.wire("onDragEnter"),this.props.onDragOver&&this.shared.wire("onDragOver"),this.props.onDrop&&this.shared.wire("onDrop"),this.props.onFocus&&this.shared.wire("onFocus"),this.props.onGutterClick&&this.shared.wire("onGutterClick"),this.props.onKeyDown&&this.shared.wire("onKeyDown"),this.props.onKeyPress&&this.shared.wire("onKeyPress"),this.props.onKeyUp&&this.shared.wire("onKeyUp"),this.props.onScroll&&this.shared.wire("onScroll"),this.props.onSelection&&this.shared.wire("onSelection"),this.props.onUpdate&&this.shared.wire("onUpdate"),this.props.onViewportChange&&this.shared.wire("onViewportChange"),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentWillReceiveProps=function(e){if(!a){var t={cursor:null};e.value!==this.props.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getCursor()),this.hydrate(e),this.appliedNext||(this.shared.applyNext(this.props,e,t),this.appliedNext=!0),this.shared.applyUserDefined(this.props,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){a||this.props.editorWillUnmount&&this.props.editorWillUnmount(i)},t.prototype.shouldComponentUpdate=function(e,t){return!a},t.prototype.render=function(){var e=this;if(a)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return o.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(o.Component);t.Controlled=l;var c=function(e){function t(t){var n=e.call(this,t)||this;return a?n:(n.applied=!1,n.appliedUserDefined=!1,n.continueChange=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n.onBeforeChangeCb=function(){n.continueChange=!0},n)}return r(t,e),t.prototype.hydrate=function(e){var t=this,n=Object.assign({},i.defaults,this.editor.options,e.options||{});if(Object.keys(n).some(function(e){return t.editor.getOption(e)!==n[e]})&&Object.keys(n).forEach(function(r){e.options.hasOwnProperty(r)&&t.editor.getOption(r)!==n[r]&&t.editor.setOption(r,n[r])}),!this.hydrated){var r=this.editor.lastLine(),o=this.editor.getLine(this.editor.lastLine()).length;this.editor.replaceRange(e.value||"",{line:0,ch:0},{line:r,ch:o})}this.hydrated=!0},t.prototype.componentWillMount=function(){a||this.props.editorWillMount&&this.props.editorWillMount()},t.prototype.componentDidMount=function(){var e=this;a||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&i.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=i(this.ref),this.shared=new u(this.editor,this.props),this.editor.on("beforeChange",function(t,n){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,n,e.editor.getValue(),e.onBeforeChangeCb)}),this.editor.on("change",function(t,n){e.mounted&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,n,e.editor.getValue()):e.props.onChange(e.editor,n,e.editor.getValue()))}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.props.onBlur&&this.shared.wire("onBlur"),this.props.onCursor&&this.shared.wire("onCursor"),this.props.onCursorActivity&&this.shared.wire("onCursorActivity"),this.props.onDragEnter&&this.shared.wire("onDragEnter"),this.props.onDragOver&&this.shared.wire("onDragOver"),this.props.onDrop&&this.shared.wire("onDrop"),this.props.onFocus&&this.shared.wire("onFocus"),this.props.onGutterClick&&this.shared.wire("onGutterClick"),this.props.onKeyDown&&this.shared.wire("onKeyDown"),this.props.onKeyPress&&this.shared.wire("onKeyPress"),this.props.onKeyUp&&this.shared.wire("onKeyUp"),this.props.onScroll&&this.shared.wire("onScroll"),this.props.onSelection&&this.shared.wire("onSelection"),this.props.onUpdate&&this.shared.wire("onUpdate"),this.props.onViewportChange&&this.shared.wire("onViewportChange"),this.editor.clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentWillReceiveProps=function(e){if(!a){var t={cursor:null};e.value!==this.props.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getCursor()),this.hydrate(e),this.applied||(this.shared.apply(this.props),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(this.props,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){a||this.props.editorWillUnmount&&this.props.editorWillUnmount(i)},t.prototype.shouldComponentUpdate=function(e,t){return!a},t.prototype.render=function(){var e=this;if(a)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return o.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(o.Component);t.UnControlled=c}).call(t,n(15))},function(e,t,n){"use strict";var r=n(117),i=n.n(r),o={apiKey:"AIzaSyDr08-1aKWCyQf-zBRVil5KXheM518cJNM",authDomain:"note-secret.firebaseapp.com",databaseURL:"https=//note-secret.firebaseio.com",projectId:"note-secret",storageBucket:"note-secret.appspot.com",messagingSenderId:"1011525305039"};i.a.initializeApp(o),t.a=i.a},function(e,t,n){var r=n(118);n(138),n(140),n(176),n(185),e.exports=r},function(e,t,n){n(119),e.exports=n(10).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(120),i=(n.n(r),n(124)),o=(n.n(i),n(125));n.n(o)},function(e,t,n){(function(e){var t=function(){if("undefined"!==typeof e)return e;if("undefined"!==typeof window)return window;if("undefined"!==typeof self)return self;throw new Error("unable to locate global object")}();"undefined"===typeof Promise&&(t.Promise=Promise=n(121))}).call(t,n(15))},function(e,t,n){"use strict";(function(t){function n(){}function r(e,t){return function(){e.apply(t,arguments)}}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?a:s)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}a(t.promise,r)})}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"===typeof n)return void c(r(n,t),e)}e._state=1,e._value=t,u(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var h=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new l(e,t,r)),r},i.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},i.all=function(e){return new i(function(t,n){function r(e,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,function(t){r(e,t)},n)}i[e]=a,0===--o&&t(i)}catch(e){n(e)}}if(!e||"undefined"===typeof e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])})},i.resolve=function(e){return e&&"object"===typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},i._immediateFn="function"===typeof t&&function(e){t(e)}||function(e){h(e,0)},i._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=i}).call(t,n(122).setImmediate)},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(123),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(15))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[u]=r,s(u),u++}function i(e){delete l[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=l[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,u=1,l={},c=!1,h=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var e=h.documentElement;s=function(t){var n=h.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),f.setImmediate=r,f.clearImmediate=i}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(t,n(15),n(50))},function(e,t){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return o;i++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return i;i++}return-1}})},function(e,t){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e})},function(e,t,n){"use strict";function r(){function e(e){f(p[e],"delete"),delete p[e]}function t(e){return e=e||s,a(p,e)||i("no-app",{name:e}),p[e]}function n(e,t){void 0===t?t=s:"string"===typeof t&&""!==t||i("bad-app-name",{name:t+""}),a(p,t)&&i("duplicate-app",{name:t});var n=new l(e,t,m);return p[t]=n,f(n,"create"),n}function u(){return Object.keys(p).map(function(e){return p[e]})}function c(e,n,r,a,s){v[e]&&i("duplicate-service",{name:e}),v[e]=n,a&&(g[e]=a,u().forEach(function(e){a("create",e)}));var c=function(n){return void 0===n&&(n=t()),"function"!==typeof n[e]&&i("invalid-app-argument",{name:e}),n[e]()};return void 0!==r&&Object(o.deepExtend)(c,r),m[e]=c,l.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,s?t:[])},c}function h(e){Object(o.deepExtend)(m,e)}function f(e,t){Object.keys(v).forEach(function(n){var r=d(e,n);null!==r&&g[r]&&g[r](t,e)})}function d(e,t){if("serverAuth"===t)return null;var n=t;e.options;return n}var p={},v={},g={},m={__esModule:!0,initializeApp:n,app:t,apps:null,Promise:Promise,SDK_VERSION:"4.10.1",INTERNAL:{registerService:c,createFirebaseNamespace:r,extendNamespace:h,createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:e,factories:v,useAsService:d,Promise:Promise,deepExtend:o.deepExtend}};return Object(o.patchProperty)(m,"default",m),Object.defineProperty(m,"apps",{get:u}),Object(o.patchProperty)(t,"App",l),m}function i(e,t){throw h.create(e,t)}t.a=r;var o=n(0),a=(n.n(o),function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}),s="[DEFAULT]",u=[],l=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t,this.options_=Object(o.deepCopy)(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){u.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){u=u.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(r){t.push(e.services_[n][r])})}),Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=s),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==s?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;Object(o.deepExtend)(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(u.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),u=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&i("app-deleted",{name:this.name_})},e}();l.prototype.name&&l.prototype.options||l.prototype.delete||console.log("dc");var c={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},h=new o.ErrorFactory("app","Firebase",c)},function(e,t,n){"use strict";function r(e){return i(void 0,e)}function i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=i(e[r],t[r]));return e}function o(e,t,n){e[t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=r,t.deepExtend=i,t.patchProperty=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();t.Deferred=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35);t.getUA=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(t.getUA())},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isNodeSdk=function(){return!0===r.CONSTANTS.NODE_CLIENT||!0===r.CONSTANTS.NODE_ADMIN}},function(e,t,n){"use strict";function r(e){var t=o;return o=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i="FirebaseError",o=Error.captureStackTrace;t.patchCapture=r;var a=function(){function e(e,t){this.code=e,this.message=t;if(o)o(this,s.prototype.create);else{var n=Error.apply(this,arguments);this.name=i,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}return e}();t.FirebaseError=a,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.prototype.name=i;var s=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,r=this.errors[e],i=this.service+"/"+e;n=void 0===r?"Error":r.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new a(i,n);for(var s in t)t.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(o[s]=t[s]);return o},e}();t.ErrorFactory=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(52),i=n(53);t.decode=function(e){var t={},n={},o={},a="";try{var s=e.split(".");t=i.jsonEval(r.base64Decode(s[0])||""),n=i.jsonEval(r.base64Decode(s[1])||""),a=s[2],o=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:o,signature:a}},t.isValidTimestamp=function(e){var n,r,i=t.decode(e).claims,o=Math.floor((new Date).getTime()/1e3);return"object"===typeof i&&(i.hasOwnProperty("nbf")?n=i.nbf:i.hasOwnProperty("iat")&&(n=i.iat),r=i.hasOwnProperty("exp")?i.exp:n+86400),o&&n&&r&&o>=n&&o<=r},t.issuedAtTime=function(e){var n=t.decode(e).claims;return"object"===typeof n&&n.hasOwnProperty("iat")?n.iat:null},t.isValidFormat=function(e){var n=t.decode(e),r=n.claims;return!!n.signature&&!!r&&"object"===typeof r&&r.hasOwnProperty("iat")},t.isAdmin=function(e){var n=t.decode(e).claims;return"object"===typeof n&&!0===n.admin}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54);t.querystring=function(e){var t=[];return r.forEach(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(134),o=function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return r.__extends(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);var i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0==o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},t}(i.Hash);t.Sha1=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.blockSize=-1}return e}();t.Hash=r},function(e,t,n){"use strict";function r(e,t){var n=new s(e,t);return n.subscribe.bind(n)}function i(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function o(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}function a(){}Object.defineProperty(t,"__esModule",{value:!0}),t.createSubscribe=r;var s=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=o(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=a),void 0===r.error&&(r.error=a),void 0===r.complete&&(r.complete=a);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),s},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!==typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();t.async=i},function(e,t,n){"use strict";function r(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}function i(e,t,n,i){if((!i||n)&&"string"!==typeof n)throw new Error(r(e,t,i)+"must be a valid firebase namespace.")}function o(e,t,n,i){if((!i||n)&&"function"!==typeof n)throw new Error(r(e,t,i)+"must be a valid function.")}function a(e,t,n,i){if((!i||n)&&("object"!==typeof n||null===n))throw new Error(r(e,t,i)+"must be a valid context object.")}Object.defineProperty(t,"__esModule",{value:!0}),t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},t.errorPrefix=r,t.validateNamespace=i,t.validateCallback=o,t.validateContextObject=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51);t.stringToByteArray=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=55296&&o<=56319){var a=o-55296;i++,r.assert(i<e.length,"Surrogate pair missing trail surrogate.");o=65536+(a<<10)+(e.charCodeAt(i)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t}},function(e,t,n){n(139)},function(e,t,n){(function(e){(function(){function e(e){return"string"==typeof e}function t(e){return"boolean"==typeof e}function r(){}function i(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function o(e){return null===e}function a(e){return"array"==i(e)}function s(e){var t=i(e);return"array"==t||"object"==t&&"number"==typeof e.length}function u(e){return"function"==i(e)}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function c(e,t,n){return e.call.apply(e.bind,arguments)}function h(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function f(e,t,n){return f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:h,f.apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function p(e,t){function n(){}n.prototype=t.prototype,e.jb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Tc=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function v(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0}function g(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function m(e){if(Error.captureStackTrace)Error.captureStackTrace(this,m);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function y(e,t){e=e.split("%s");for(var n="",r=e.length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");m.call(this,n+e[r])}function _(e,t){throw new y("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function b(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function w(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function C(){this.b=this.a=null}function E(){var e=ku,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function S(){this.next=this.b=this.a=null}function T(t,n){var r=t.length,i=e(t)?t.split(""):t;for(--r;0<=r;--r)r in i&&n.call(void 0,i[r],r,t)}function k(t){e:{for(var n=Pr,r=t.length,i=e(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,t)){n=o;break e}n=-1}return 0>n?null:e(t)?t.charAt(n):t[n]}function N(e,t){return 0<=uu(e,t)}function x(e,t){t=uu(e,t);var n;return(n=0<=t)&&Array.prototype.splice.call(e,t,1),n}function O(e,t){var n=0;T(e,function(r,i){t.call(void 0,r,i,e)&&1==Array.prototype.splice.call(e,i,1).length&&n++})}function I(e){return Array.prototype.concat.apply([],arguments)}function P(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function R(e){return _u.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(du,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(pu,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(vu,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(gu,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(mu,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(yu,"&#0;")),e):e}function D(e,t){return-1!=e.indexOf(t)}function L(e,t){return e<t?-1:e>t?1:0}function M(e){return D(su,e)}function F(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function U(e){for(var t in e)return!1;return!0}function j(e){var t,n={};for(t in e)n[t]=e[t];return n}function W(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<Su.length;o++)n=Su[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function B(e){nu.setTimeout(function(){throw e},0)}function V(){var e=nu.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!M("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=f(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!M("Trident")&&!M("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var e=n.qb;n.qb=null,e()}},function(e){r.next={qb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){nu.setTimeout(e,0)}}function H(e,t){Eu||K(),Tu||(Eu(),Tu=!0),ku.add(e,t)}function K(){if(-1!=String(nu.Promise).indexOf("[native code]")){var e=nu.Promise.resolve(void 0);Eu=function(){e.then(z)}}else Eu=function(){var e=z;!u(nu.setImmediate)||nu.Window&&nu.Window.prototype&&!M("Edge")&&nu.Window.prototype.setImmediate==nu.setImmediate?(Cu||(Cu=V()),Cu(e)):nu.setImmediate(e)}}function z(){for(var e;e=E();){try{e.a.call(e.b)}catch(e){B(e)}w(au,e)}Tu=!1}function q(e,t){if(this.a=Nu,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=r)try{var n=this;e.call(t,function(e){ie(n,xu,e)},function(e){if(!(e instanceof fe))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}ie(n,Ou,e)})}catch(e){ie(this,Ou,e)}}function G(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function Q(e,t,n){var r=Iu.get();return r.g=e,r.b=t,r.f=n,r}function X(e){if(e instanceof q)return e;var t=new q(r);return ie(t,xu,e),t}function Y(e){return new q(function(t,n){n(e)})}function $(e,t,n){oe(e,t,n,null)||H(d(t,e))}function J(e){return new q(function(t,n){var r=e.length,i=[];if(r)for(var o,a=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},u=0;u<e.length;u++)o=e[u],$(o,d(a,u),s);else t(i)})}function Z(e){return new q(function(t){var n=e.length,r=[];if(n)for(var i,o=function(e,i,o){n--,r[e]=i?{Wb:!0,value:o}:{Wb:!1,reason:o},0==n&&t(r)},a=0;a<e.length;a++)i=e[a],$(i,d(o,a,!0),d(o,a,!1));else t(r)})}function ee(e,t){return t=Q(t,t,void 0),t.c=!0,ne(e,t),e}function te(e,t){if(e.a==Nu)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Nu&&1==r?te(n,t):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):ue(n),le(n,i,Ou,t)))}e.c=null}else ie(e,Ou,t)}function ne(e,t){e.b||e.a!=xu&&e.a!=Ou||se(e),e.f?e.f.next=t:e.b=t,e.f=t}function re(e,t,n,r){var i=Q(null,null,null);return i.a=new q(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof fe?o(t):e(i)}catch(e){o(e)}}:o}),i.a.c=e,ne(e,i),i.a}function ie(e,t,n){e.a==Nu&&(e===n&&(t=Ou,n=new TypeError("Promise cannot resolve to itself")),e.a=1,oe(n,e.Cc,e.Dc,e)||(e.i=n,e.a=t,e.c=null,se(e),t!=Ou||n instanceof fe||he(e,n)))}function oe(e,t,n,i){if(e instanceof q)return ne(e,Q(t||r,n||null,i)),!0;if(g(e))return e.then(t,n,i),!0;if(l(e))try{var o=e.then;if(u(o))return ae(e,o,t,n,i),!0}catch(e){return n.call(i,e),!0}return!1}function ae(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(e){o(e)}}function se(e){e.h||(e.h=!0,H(e.Sb,e))}function ue(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function le(e,t,n,r){if(n==Ou&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,ce(t,n,r);else try{t.c?t.g.call(t.f):ce(t,n,r)}catch(e){Pu.call(null,e)}w(Iu,t)}function ce(e,t,n){t==xu?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}function he(e,t){e.g=!0,H(function(){e.g&&Pu.call(null,t)})}function fe(e){m.call(this,e)}function de(){0!=Au&&(Ru[this[ru]||(this[ru]=++iu)]=this),this.pa=this.pa,this.oa=this.oa}function pe(e){if(!e.pa&&(e.pa=!0,e.ua(),0!=Au)){var t=e[ru]||(e[ru]=++iu);if(0!=Au&&e.oa&&0<e.oa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ru[t]}}function ve(e){return ve[" "](e),e}function ge(e,t){var n=zu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function me(){var e=nu.document;return e?e.documentMode:void 0}function ye(e){return ge(e,function(){for(var t=0,n=fu(String(Du)).split("."),r=fu(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=L(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||L(0==a[2].length,0==s[2].length)||L(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}function _e(e,t){this.type=e,this.b=this.target=t,this.Cb=!0}function be(t,n){if(_e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var r=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=n,n=t.relatedTarget){if(ju){e:{try{ve(n.nodeName);var o=!0;break e}catch(e){}o=!1}o||(n=null)}}else"mouseover"==r?n=t.fromElement:"mouseout"==r&&(n=t.toElement);this.relatedTarget=n,null===i?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=e(t.pointerType)?t.pointerType:$u[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.c()}}function we(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.La=i,this.key=++Zu,this.ma=this.Ha=!1}function Ce(e){e.ma=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function Ee(e){this.src=e,this.a={},this.b=0}function Se(e,t){var n=t.type;n in e.a&&x(e.a[n],t)&&(Ce(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Te(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ma&&o.listener==t&&o.capture==!!n&&o.La==r)return i}return-1}function ke(e,t,n,r,i){if(r&&r.once)Oe(e,t,n,r,i);else if(a(t))for(var o=0;o<t.length;o++)ke(e,t[o],n,r,i);else n=Fe(n),e&&e[Ju]?We(e,t,n,l(r)?!!r.capture:!!r,i):Ne(e,t,n,!1,r,i)}function Ne(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=l(i)?!!i.capture:!!i,s=Me(e);if(s||(e[el]=s=new Ee(e)),n=s.add(t,n,r,a,o),!n.proxy){if(r=xe(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yu||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ae(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}nl++}}function xe(){var e=Le,t=Qu?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}function Oe(e,t,n,r,i){if(a(t))for(var o=0;o<t.length;o++)Oe(e,t[o],n,r,i);else n=Fe(n),e&&e[Ju]?Be(e,t,n,l(r)?!!r.capture:!!r,i):Ne(e,t,n,!0,r,i)}function Ie(e,t,n,r,i){if(a(t))for(var o=0;o<t.length;o++)Ie(e,t[o],n,r,i);else r=l(r)?!!r.capture:!!r,n=Fe(n),e&&e[Ju]?(e=e.u,(t=String(t).toString())in e.a&&(o=e.a[t],-1<(n=Te(o,n,r,i))&&(Ce(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Me(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Te(t,n,r,i)),(n=-1<e?t[e]:null)&&Pe(n))}function Pe(e){if("number"!=typeof e&&e&&!e.ma){var t=e.src;if(t&&t[Ju])Se(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),nl--,(n=Me(t))?(Se(n,e),0==n.b&&(n.src=null,t[el]=null)):Ce(e)}}}function Ae(e){return e in tl?tl[e]:tl[e]="on"+e}function Re(e,t,n,r){var i=!0;if((e=Me(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ma&&(o=De(o,r),i=i&&!1!==o)}return i}function De(e,t){var n=e.listener,r=e.La||e.src;return e.Ha&&Pe(e),n.call(r,t)}function Le(e,t){if(e.ma)return!0;if(!Qu){if(!t)e:{t=["window","event"];for(var n=nu,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(r=t,t=new be(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=Re(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=Re(r[i],e,!1,t),n=n&&o}return n}return De(e,new be(t,this))}function Me(e){return e=e[el],e instanceof Ee?e:null}function Fe(e){return u(e)?e:(e[rl]||(e[rl]=function(t){return e.handleEvent(t)}),e[rl])}function Ue(){de.call(this),this.u=new Ee(this),this.Kb=this,this.Ra=null}function je(t,n){var r,i=t.Ra;if(i)for(r=[];i;i=i.Ra)r.push(i);if(t=t.Kb,i=n.type||n,e(n))n=new _e(n,t);else if(n instanceof _e)n.target=n.target||t;else{var o=n;n=new _e(i,t),W(n,o)}if(o=!0,r)for(var a=r.length-1;0<=a;a--){var s=n.b=r[a];o=Ve(s,i,!0,n)&&o}if(s=n.b=t,o=Ve(s,i,!0,n)&&o,o=Ve(s,i,!1,n)&&o,r)for(a=0;a<r.length;a++)s=n.b=r[a],o=Ve(s,i,!1,n)&&o}function We(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function Be(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function Ve(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ma&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ha&&Se(e.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Cb}function He(e,t,n){if(u(e))n&&(e=f(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=f(e.handleEvent,e)}return 2147483647<Number(t)?-1:nu.setTimeout(e,t||0)}function Ke(e){var t=null;return new q(function(n,r){-1==(t=He(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).o(function(e){throw nu.clearTimeout(t),e})}function ze(t){if(t.P&&"function"==typeof t.P)return t.P();if(e(t))return t.split("");if(s(t)){for(var n=[],r=t.length,i=0;i<r;i++)n.push(t[i]);return n}n=[],r=0;for(i in t)n[r++]=t[i];return n}function qe(t){if(t.S&&"function"==typeof t.S)return t.S();if(!t.P||"function"!=typeof t.P){if(s(t)||e(t)){var n=[];t=t.length;for(var r=0;r<t;r++)n.push(r);return n}n=[],r=0;for(var i in t)n[r++]=i;return n}}function Ge(t,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(n,void 0);else if(s(t)||e(t))lu(t,n,void 0);else for(var r=qe(t),i=ze(t),o=i.length,a=0;a<o;a++)n.call(void 0,i[a],r&&r[a],t)}function Qe(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Qe)for(n=e.S(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Xe(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ye(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],Ye(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $e(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Je(e,t){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,e instanceof Je){this.f=void 0!==t?t:e.f,Ze(this,e.c),this.l=e.l,this.b=e.b,et(this,e.i),this.g=e.g,t=e.a;var n=new lt;n.c=t.c,t.a&&(n.a=new Qe(t.a),n.b=t.b),tt(this,n),this.h=e.h}else e&&(n=String(e).match(il))?(this.f=!!t,Ze(this,n[1]||"",!0),this.l=at(n[2]||""),this.b=at(n[3]||"",!0),et(this,n[4]),this.g=at(n[5]||"",!0),tt(this,n[6]||"",!0),this.h=at(n[7]||"")):(this.f=!!t,this.a=new lt(null,this.f))}function Ze(e,t,n){e.c=n?at(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function et(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function tt(e,t,n){t instanceof lt?(e.a=t,gt(e.a,e.f)):(n||(t=st(t,ul)),e.a=new lt(t,e.f))}function nt(e,t,n){e.a.set(t,n)}function rt(e,t){return e.a.get(t)}function it(e){return e instanceof Je?new Je(e):new Je(e,void 0)}function ot(e,t){var n=new Je(null,void 0);return Ze(n,"https"),e&&(n.b=e),t&&(n.g=t),n}function at(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(t,n,r){return e(t)?(t=encodeURI(t).replace(n,ut),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ut(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function lt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function ct(e){e.a||(e.a=new Qe,e.b=0,e.c&&$e(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function ht(e){var t=qe(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new lt(null,void 0);e=ze(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];a(o)?pt(n,i,o):n.add(i,o)}return n}function ft(e,t){ct(e),t=vt(e,t),Ye(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Ye(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Xe(e)))}function dt(e,t){return ct(e),t=vt(e,t),Ye(e.a.b,t)}function pt(e,t,n){ft(e,t),0<n.length&&(e.c=null,e.a.set(vt(e,t),P(n)),e.b+=n.length)}function vt(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function gt(e,t){t&&!e.f&&(ct(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(ft(this,t),pt(this,n,e))},e)),e.f=t}function mt(){this.a="",this.b=cl}function yt(e){return e instanceof mt&&e.constructor===mt&&e.b===cl?e.a:(_("expected object of type Const, got '"+e+"'"),"type_error:Const")}function _t(e){var t=new mt;return t.a=e,t}function bt(){this.a="",this.b=dl}function wt(e){return e instanceof bt&&e.constructor===bt&&e.b===dl?e.a:(_("expected object of type TrustedResourceUrl, got '"+e+"' of type "+i(e)),"type_error:TrustedResourceUrl")}function Ct(e,t){var n=yt(e);if(!fl.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(hl,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return e=t[r],e instanceof mt?yt(e):encodeURIComponent(String(e))}),Et(e)}function Et(e){var t=new bt;return t.a=e,t}function St(){this.a="",this.b=vl}function Tt(e){return e instanceof St&&e.constructor===St&&e.b===vl?e.a:(_("expected object of type SafeUrl, got '"+e+"' of type "+i(e)),"type_error:SafeUrl")}function kt(e){return e instanceof St?e:(e=e.la?e.ja():String(e),pl.test(e)||(e="about:invalid#zClosurez"),Nt(e))}function Nt(e){var t=new St;return t.a=e,t}function xt(e){var t=[];return It(new Ot,e,t),t.join("")}function Ot(){}function It(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(a(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),It(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){n.push("{"),i="";for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),Pt(r,n),n.push(":"),It(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":Pt(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}function Pt(e,t){t.push('"',e.replace(ml,function(e){var t=gl[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),gl[e]=t),t}),'"')}function At(){this.a="",this.b=yl}function Rt(e){return e instanceof At&&e.constructor===At&&e.b===yl?e.a:(_("expected object of type SafeHtml, got '"+e+"' of type "+i(e)),"type_error:SafeHtml")}function Dt(e){var t=new At;return t.a=e,t}function Lt(){var e=Jt();return Mu&&!!Ku&&11==Ku||/Edge\/\d+/.test(e)}function Mt(){return nu.window&&nu.window.location.href||""}function Ft(e,t){t=t||nu.window;var n="about:blank";e&&(n=Tt(kt(e))),t.location.href=n}function Ut(e,t){var n,r=[];for(n in e)if(n in t)if(typeof e[n]!=typeof t[n])r.push(n);else if(a(e[n])){e:{var i=void 0,o=e[n],s=t[n];for(i in o)if(!(i in s)||o[i]!==s[i]){i=!1;break e}for(i in s)if(!(i in o)){i=!1;break e}i=!0}i||r.push(n)}else"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<Ut(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n);else r.push(n);for(n in t)n in e||r.push(n);return r}function jt(){var e=Jt();return!((e=Yt(e)!=wl?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Mu||!Ku||9<Ku)}function Wt(e){return e=(e||Jt()).toLowerCase(),!!(e.match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function Bt(e){e=e||nu.window;try{e.close()}catch(e){}}function Vt(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Jt().toLowerCase(),r&&(t.target=r,D(n,"crios/")&&(t.target="_blank")),Yt(Jt())==bl&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof St?n:kt("undefined"!=typeof n.href?n.href:String(n)),n=e.target||n.target,i=[];for(a in e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((M("iPhone")&&!M("iPod")&&!M("iPad")||M("iPad")||M("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),t instanceof St||t instanceof St||(t=t.la?t.ja():String(t),pl.test(t)||(t="about:invalid#zClosurez"),t=Nt(t)),a.href=Tt(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=Tt(t),a&&(Uu&&D(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,_t("b/12014412, meta tag with sanitized URL"),e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+R(e)+'">',e=Dt(e),a.document.write(Rt(e)),a.document.close())):(a=r.open(Tt(t),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}function Ht(e){return new q(function(t){function n(){Ke(2e3).then(function(){if(e&&!e.closed)return n();t()})}return n()})}function Kt(){var e=null;return new q(function(t){"complete"==nu.document.readyState?t():(e=function(){t()},Oe(window,"load",e))}).o(function(t){throw Ie(window,"load",e),t})}function zt(){return qt(void 0)?Kt().then(function(){return new q(function(e,t){var n=nu.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):Y(Error("Cordova must run in an Android or iOS file scheme."))}function qt(e){return e=e||Jt(),!("file:"!==rn()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gt(){var e=nu.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Qt(){return eu.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":eu.INTERNAL.hasOwnProperty("node")?"Node":"Browser"}function Xt(){var e=Qt();return"ReactNative"===e||"Node"===e}function Yt(e){var t=e.toLowerCase();return D(t,"opera/")||D(t,"opr/")||D(t,"opios/")?"Opera":D(t,"iemobile")?"IEMobile":D(t,"msie")||D(t,"trident/")?"IE":D(t,"edge/")?"Edge":D(t,"firefox/")?bl:D(t,"silk/")?"Silk":D(t,"blackberry")?"Blackberry":D(t,"webos")?"Webos":!D(t,"safari/")||D(t,"chrome/")||D(t,"crios/")||D(t,"android")?!D(t,"chrome/")&&!D(t,"crios/")||D(t,"edge/")?D(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":wl:"Safari"}function $t(e,t){t=t||[];var n,r=[],i={};for(n in Cl)i[Cl[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),t=r,t.length||(t=["FirebaseCore-web"]),r=Qt(),i="",(i="Browser"===r?Yt(Jt()):r)+"/JsCore/"+e+"/"+t.join(",")}function Jt(){return nu.navigator&&nu.navigator.userAgent||""}function Zt(e,t){e=e.split("."),t=t||nu;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function en(){try{var e=nu.localStorage,t=ln();if(e)return e.setItem(t,"1"),e.removeItem(t),!Lt()||!!nu.indexedDB}catch(e){}return!1}function tn(){return(nn()||"chrome-extension:"===rn()||qt())&&!Xt()&&en()}function nn(){return"http:"===rn()||"https:"===rn()}function rn(){return nu.location&&nu.location.protocol||null}function on(e){return e=e||Jt(),!Wt(e)&&Yt(e)!=bl}function an(e){return"undefined"===typeof e?null:xt(e)}function sn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function un(e){if(null!==e)return JSON.parse(e)}function ln(e){return e||Math.floor(1e9*Math.random()).toString()}function cn(e){return e=e||Jt(),"Safari"!=Yt(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function hn(){var e=nu.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function fn(){var e=nu.navigator;return!e||"boolean"!==typeof e.onLine||!nn()&&"chrome-extension:"!==rn()&&"undefined"===typeof e.connection||e.onLine}function dn(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.c=e,this.b=t,e=Jt(),t=Qt(),this.a=Wt(e)||"ReactNative"===t}function pn(){var e=nu.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function vn(){var e=nu.document,t=null;return pn()||!e?X():new q(function(n){t=function(){pn()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).o(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}function gn(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function mn(e,t,n){El?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function yn(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&mn(e,n,t[n])}function _n(e){var t={};return yn(t,e),t}function bn(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function wn(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Cn(e){var t=e;if("object"==typeof e&&null!=e){t="length"in e?[]:{};for(var n in e)mn(t,n,Cn(e[n]))}return t}function En(e){var t={},n=e[kl],r=e[Nl];if(e=e[xl],!n||!e)throw Error("Invalid provider user info!");t[Il]=r||null,t[Ol]=n,mn(this,Al,e),mn(this,Pl,Cn(t))}function Sn(e,t){this.code=Rl+e,this.message=t||Dl[e]||""}function Tn(e){var t=e&&e.code;return t?new Sn(t.substring(Rl.length),e.message):null}function kn(e){var t=e[Ul];if("undefined"===typeof t)throw new Sn("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new Sn("invalid-continue-uri");this.h=t,this.c=this.a=null,this.g=!1;var n=e[Ll];if(n&&"object"===typeof n){t=n[Bl];var r=n[jl];if(n=n[Wl],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new Sn("argument-error",jl+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new Sn("argument-error",Wl+" property must be a non empty string when specified.");this.c=n||null}else{if("undefined"!==typeof t)throw new Sn("argument-error",Bl+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new Sn("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new Sn("argument-error",Ll+" property must be a non null object when specified.");if(this.b=null,(t=e[Fl])&&"object"===typeof t){if("string"===typeof(t=t[Vl])&&t.length)this.b=t;else if("undefined"!==typeof t)throw new Sn("argument-error",Vl+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new Sn("argument-error",Fl+" property must be a non null object when specified.");if("undefined"!==typeof(e=e[Ml])&&"boolean"!==typeof e)throw new Sn("argument-error",Ml+" property must be a boolean when specified.");if((this.f=!!e)&&!this.b&&!this.a)throw new Sn("argument-error",Ml+" property can't be true when no mobile application is provided.")}function Nn(e){var t={};t.continueUrl=e.h,t.canHandleCodeInApp=e.f,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.c,t.androidInstallApp=e.g),t.iOSBundleId=e.b;for(var n in t)null===t[n]&&delete t[n];return t}function xn(e){return cu(e,function(e){return e=e.toString(16),1<e.length?e:"0"+e}).join("")}function On(e){var t="";return In(e,function(e){t+=String.fromCharCode(e)}),t}function In(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Kl[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}Pn();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}function Pn(){if(!Hl){Hl={},Kl={};for(var e=0;65>e;e++)Hl[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Kl[Hl[e]]=e,62<=e&&(Kl["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}function An(e){this.c=e.sub,ou(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Rn(e){if(e=e.split("."),3!=e.length)return null;e=e[1];for(var t=(4-e.length%4)%4,n=0;n<t;n++)e+=".";try{var r=JSON.parse(On(e));if(r.sub&&r.iss&&r.aud&&r.exp)return new An(r)}catch(e){}return null}function Dn(e){for(var t in Gl)if(Gl[t].Na==e)return Gl[t];return null}function Ln(e){var t={};t["facebook.com"]=Un,t["google.com"]=Wn,t["github.com"]=jn,t["twitter.com"]=Bn;var n=e&&e[Xl];try{if(n)return t[n]?new t[n](e):new Fn(e);if("undefined"!==typeof e[Ql])return new Mn(e)}catch(e){}return null}function Mn(e){var t=e[Xl];if(!t&&e[Ql]){var n=Rn(e[Ql]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),mn(this,"providerId",t),mn(this,"isNewUser",n)}function Fn(e){Mn.call(this,e),e=un(e.rawUserInfo||"{}"),mn(this,"profile",Cn(e||{}))}function Un(e){if(Fn.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function jn(e){if(Fn.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");mn(this,"username",this.profile&&this.profile.login||null)}function Wn(e){if(Fn.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Bn(e){if(Fn.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");mn(this,"username",e.screenName||null)}function Vn(e,t){return e.then(function(e){if(e[gc]){var n=Rn(e[gc]);if(!n||t!=n.c)throw new Sn("user-mismatch");return e}throw new Sn("user-mismatch")}).o(function(e){throw e&&e.code&&e.code==Rl+"user-not-found"?new Sn("user-mismatch"):e})}function Hn(e,t){if(t.idToken||t.accessToken)t.idToken&&mn(this,"idToken",t.idToken),t.accessToken&&mn(this,"accessToken",t.accessToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Sn("internal-error","failed to construct a credential");mn(this,"accessToken",t.oauthToken),mn(this,"secret",t.oauthTokenSecret)}mn(this,"providerId",e)}function Kn(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:ht(t).toString(),requestUri:"http://localhost"}}function zn(e,t){this.tc=t||[],yn(this,{providerId:e,isOAuthProvider:!0}),this.sb={},this.Xa=(Dn(e)||{}).Ma||null,this.Va=null}function qn(e){zn.call(this,e,ql),this.a=[]}function Gn(){qn.call(this,"facebook.com")}function Qn(e){if(!e)throw new Sn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return l(e)&&(t=e.accessToken),(new Gn).credential(null,t)}function Xn(){qn.call(this,"github.com")}function Yn(e){if(!e)throw new Sn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return l(e)&&(t=e.accessToken),(new Xn).credential(null,t)}function $n(){qn.call(this,"google.com"),this.ta("profile")}function Jn(e,t){var n=e;return l(e)&&(n=e.idToken,t=e.accessToken),(new $n).credential(n,t)}function Zn(){zn.call(this,"twitter.com",zl)}function er(e,t){var n=e;if(l(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Sn("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Hn("twitter.com",n)}function tr(e,t){this.a=e,this.f=t,mn(this,"providerId","password")}function nr(){yn(this,{providerId:"password",isOAuthProvider:!1})}function rr(e){if(!(e.Pa&&e.Oa||e.Ea&&e.Y))throw new Sn("internal-error");this.a=e,mn(this,"providerId","phone")}function ir(e){return e.a.Ea&&e.a.Y?{temporaryProof:e.a.Ea,phoneNumber:e.a.Y}:{sessionInfo:e.a.Pa,code:e.a.Oa}}function or(e){try{this.a=e||eu.auth()}catch(e){throw new Sn("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}yn(this,{providerId:"phone",isOAuthProvider:!1})}function ar(e,t){if(!e)throw new Sn("missing-verification-id");if(!t)throw new Sn("missing-verification-code");return new rr({Pa:e,Oa:t})}function sr(e){if(e.temporaryProof&&e.phoneNumber)return new rr({Ea:e.temporaryProof,Y:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{switch(t){case"google.com":return Jn(e,n);case"facebook.com":return Qn(n);case"github.com":return Yn(n);case"twitter.com":return er(n,r);default:return new qn(t).credential(e,n)}}catch(e){return null}}function ur(e){if(!e.isOAuthProvider)throw new Sn("invalid-oauth-provider")}function lr(e,t,n,r,i){if(this.b=e,this.c=t||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new Sn("invalid-auth-event");if(this.f&&this.a)throw new Sn("invalid-auth-event");if(this.f&&!this.g)throw new Sn("invalid-auth-event")}function cr(e){return e=e||{},e.type?new lr(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Tn(e.error)):null}function hr(){this.b=null,this.a=[]}function fr(e){var t="unauthorized-domain",n=void 0,r=it(e);e=r.b,r=r.c,"chrome-extension"==r?n=A("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=A("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Sn.call(this,t,n)}function dr(e,t,n){Sn.call(this,e,n),e=t||{},e.tb&&mn(this,"email",e.tb),e.Y&&mn(this,"phoneNumber",e.Y),e.credential&&mn(this,"credential",e.credential)}function pr(e){if(e.code){var t=e.code||"";0==t.indexOf(Rl)&&(t=t.substring(Rl.length));var n={credential:sr(e)};if(e.email)n.tb=e.email;else{if(!e.phoneNumber)return new Sn(t,e.message||void 0);n.Y=e.phoneNumber}return new dr(t,n,e.message)}return null}function vr(){}function gr(e){return e.c||(e.c=e.b())}function mr(){}function yr(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function _r(){}function br(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=f(this.Yb,this),this.a.onerror=f(this.yb,this),this.a.onprogress=f(this.Zb,this),this.a.ontimeout=f(this.$b,this)}function wr(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Cr(e,t,n){this.reset(e,t,n,void 0,void 0)}function Er(e){this.f=e,this.b=this.c=this.a=null}function Sr(e,t){this.name=e,this.value=t}function Tr(e){return e.c?e.c:e.a?Tr(e.a):(_("Root logger has no level set."),null)}function kr(e){ic||(ic=new Er(""),rc[""]=ic,ic.c=tc);var t;if(!(t=rc[e])){t=new Er(e);var n=e.lastIndexOf("."),r=e.substr(n+1);n=kr(e.substr(0,n)),n.b||(n.b={}),n.b[r]=t,t.a=n,rc[e]=t}return t}function Nr(e,t){e&&e.log(nc,t,void 0)}function xr(e){Ue.call(this),this.headers=new Qe,this.w=e||null,this.b=!1,this.v=this.a=null,this.g=this.I=this.i="",this.c=this.G=this.h=this.B=!1,this.f=0,this.m=null,this.l=oc,this.s=this.N=!1}function Or(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.i+"; newUri="+t);n=n?n.toUpperCase():"GET",e.i=t,e.g="",e.I=n,e.B=!1,e.b=!0,e.a=e.w?e.w.a():Jl.a(),e.v=gr(e.w?e.w:Jl),e.a.onreadystatechange=f(e.Bb,e);try{Nr(e.J,Wr(e,"Opening Xhr")),e.G=!0,e.a.open(n,String(t),!0),e.G=!1}catch(t){return Nr(e.J,Wr(e,"Error opening Xhr: "+t.message)),void Ar(e,t)}t=r||"";var o=new Qe(e.headers);i&&Ge(i,function(e,t){o.set(t,e)}),i=k(o.S()),r=nu.FormData&&t instanceof nu.FormData,!N(lc,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.l&&(e.a.responseType=e.l),"withCredentials"in e.a&&e.a.withCredentials!==e.N&&(e.a.withCredentials=e.N);try{Mr(e),0<e.f&&(e.s=Ir(e.a),Nr(e.J,Wr(e,"Will abort after "+e.f+"ms if incomplete, xhr2 "+e.s)),e.s?(e.a.timeout=e.f,e.a.ontimeout=f(e.Fa,e)):e.m=He(e.Fa,e.f,e)),Nr(e.J,Wr(e,"Sending request")),e.h=!0,e.a.send(t),e.h=!1}catch(t){Nr(e.J,Wr(e,"Send error: "+t.message)),Ar(e,t)}}function Ir(e){return Mu&&ye(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function Pr(e){return"content-type"==e.toLowerCase()}function Ar(e,t){e.b=!1,e.a&&(e.c=!0,e.a.abort(),e.c=!1),e.g=t,Rr(e),Lr(e)}function Rr(e){e.B||(e.B=!0,je(e,"complete"),je(e,"error"))}function Dr(e){if(e.b&&"undefined"!=typeof tu)if(e.v[1]&&4==Fr(e)&&2==Ur(e))Nr(e.J,Wr(e,"Local request error detected and ignored"));else if(e.h&&4==Fr(e))He(e.Bb,0,e);else if(je(e,"readystatechange"),4==Fr(e)){Nr(e.J,Wr(e,"Request complete")),e.b=!1;try{var t=Ur(e);e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=0===t){var o=String(e.i).match(il)[1]||null;if(!o&&nu.self&&nu.self.location){var a=nu.self.location.protocol;o=a.substr(0,a.length-1)}i=!uc.test(o?o.toLowerCase():"")}r=i}if(r)je(e,"complete"),je(e,"success");else{try{var s=2<Fr(e)?e.a.statusText:""}catch(t){Nr(e.J,"Can not get status: "+t.message),s=""}e.g=s+" ["+Ur(e)+"]",Rr(e)}}finally{Lr(e)}}}function Lr(e,t){if(e.a){Mr(e);var n=e.a,i=e.v[0]?r:null;e.a=null,e.v=null,t||je(e,"ready");try{n.onreadystatechange=i}catch(t){(e=e.J)&&e.log(ec,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Mr(e){e.a&&e.s&&(e.a.ontimeout=null),e.m&&(nu.clearTimeout(e.m),e.m=null)}function Fr(e){return e.a?e.a.readyState:0}function Ur(e){try{return 2<Fr(e)?e.a.status:-1}catch(e){return-1}}function jr(e){try{return e.a?e.a.responseText:""}catch(t){return Nr(e.J,"Can not get responseText: "+t.message),""}}function Wr(e,t){return t+" ["+e.I+" "+e.i+" "+Ur(e)+"]"}function Br(e,t){this.g=[],this.v=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Vr(e,t,n){e.a=!0,e.c=n,e.f=!t,Gr(e)}function Hr(e){if(e.a){if(!e.u)throw new Qr(e);e.u=!1}}function Kr(e,t){zr(e,null,t,void 0)}function zr(e,t,n,r){e.g.push([t,n,r]),e.a&&Gr(e)}function qr(e){return hu(e.g,function(e){return u(e[1])})}function Gr(e){if(e.h&&e.a&&qr(e)){var t=e.h,n=cc[t];n&&(nu.clearTimeout(n.a),delete cc[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(g(t)||"function"===typeof nu.Promise&&t instanceof nu.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,qr(e)||(n=!0)}}e.c=t,r&&(s=f(e.m,e,!0),r=f(e.m,e,!1),t instanceof Br?(zr(t,s,r),t.w=!0):t.then(s,r)),n&&(t=new Yr(t),cc[t.a]=t,e.h=t.a)}function Qr(){m.call(this)}function Xr(){m.call(this)}function Yr(e){this.a=nu.setTimeout(f(this.c,this),0),this.b=e}function $r(t){var n=document;return e(t)?n.getElementById(t):t}function Jr(e,t){F(t,function(t,n){t&&t.la&&(t=t.ja()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:fc.hasOwnProperty(n)?e.setAttribute(fc[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}function Zr(t,n,r){var i=arguments,o=document,s=String(i[0]),u=i[1];if(!hc&&u&&(u.name||u.type)){if(s=["<",s],u.name&&s.push(' name="',R(u.name),'"'),u.type){s.push(' type="',R(u.type),'"');var l={};W(l,u),delete l.type,u=l}s.push(">"),s=s.join("")}return s=o.createElement(s),u&&(e(u)?s.className=u:a(u)?s.className=u.join(" "):Jr(s,u)),2<i.length&&ei(o,s,i),s}function ei(t,n,r){function i(r){r&&n.appendChild(e(r)?t.createTextNode(r):r)}for(var o=2;o<r.length;o++){var a=r[o];!s(a)||l(a)&&0<a.nodeType?i(a):lu(ti(a)?P(a):a,i)}}function ti(e){if(e&&"number"==typeof e.length){if(l(e))return"function"==typeof e.item||"string"==typeof e.item;if(u(e))return"function"==typeof e.item}return!1}function ni(e){var t={},n=t.document||document,r=wt(e),i=document.createElement("SCRIPT"),o={Db:i,Fa:void 0},a=new Br(ii,o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){oi(i,!0);var e=new ai(pc,"Timeout reached for loading script "+r);Hr(a),Vr(a,!1,e)},u),o.Fa=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(oi(i,t.Uc||!1,s),a.B())},i.onerror=function(){oi(i,!0,s);var e=new ai(dc,"Error while loading script "+r);Hr(a),Vr(a,!1,e)},o=t.attributes||{},W(o,{type:"text/javascript",charset:"UTF-8"}),Jr(i,o),i.src=wt(e),ri(n).appendChild(i),a}function ri(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}function ii(){if(this&&this.Db){var e=this.Db;e&&"SCRIPT"==e.tagName&&oi(e,!0,this.Fa)}}function oi(e,t,n){null!=n&&nu.clearTimeout(n),e.onload=r,e.onerror=r,e.onreadystatechange=r,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}function ai(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),m.call(this,n),this.code=e}function si(e){this.f=e}function ui(e,t,n){var r="Node"==Qt();if(!(r=nu.XMLHttpRequest||r&&eu.INTERNAL.node&&eu.INTERNAL.node.XMLHttpRequest))throw new Sn("internal-error","The XMLHttpRequest compatibility library was not found.");this.b=e,e=t||{},this.i=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=e.secureTokenTimeout||mc,this.c=j(e.secureTokenHeaders||yc),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||_c,this.a=j(e.firebaseHeaders||bc),n&&(this.a["X-Client-Version"]=n,this.c["X-Client-Version"]=n),this.f=new _r,this.s=new si(r)}function li(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ci(e,t){t?(e.a["X-Client-Version"]=t,e.c["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.c["X-Client-Version"])}function hi(e,t,n,r,i,o,a){fn()?(jt()?e=f(e.m,e):(vc||(vc=new q(function(e,t){fi(e,t)})),e=f(e.u,e)),e(t,n,r,i,o,a)):n&&n(null)}function fi(e,t){if(((window.gapi||{}).client||{}).request)e();else{nu[Cc]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};Kr(ni(Ct(wc,{onload:Cc})),function(){t(Error("CORS_UNSUPPORTED"))})}}function di(e,t){return new q(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?hi(e,e.i+"?key="+encodeURIComponent(e.b),function(e){e?e.error?r(Pi(e)):e.access_token&&e.refresh_token?n(e):r(new Sn("internal-error")):r(new Sn("network-request-failed"))},"POST",ht(t).toString(),e.c,e.l.get()):r(new Sn("internal-error"))})}function pi(e,t,n,r,i,o){var a=it(e.g+t);nt(a,"key",e.b),o&&nt(a,"cb",ou().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&nt(a,u,r[u]);return new q(function(t,o){hi(e,a.toString(),function(e){e?e.error?o(Pi(e,i||{})):t(e):o(new Sn("network-request-failed"))},n,s?void 0:xt(sn(r)),e.a,e.h.get())})}function vi(e){if(!$l.test(e.email))throw new Sn("invalid-email")}function gi(e){"email"in e&&vi(e)}function mi(e,t){return Oi(e,xc,{identifier:t,continueUri:nn()?Mt():"http://localhost"}).then(function(e){return e.allProviders||[]})}function yi(e){return Oi(e,Dc,{}).then(function(e){return e.authorizedDomains||[]})}function _i(e){if(!e[gc])throw new Sn("internal-error")}function bi(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Sn("internal-error")}else{if(!e.sessionInfo)throw new Sn("missing-verification-id");if(!e.code)throw new Sn("missing-verification-code")}}function wi(e,t){return Oi(e,Fc,t)}function Ci(e,t,n){return Oi(e,Ic,{idToken:t,deleteProvider:n})}function Ei(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new Sn("internal-error")}function Si(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=pr(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=pr(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=pr(e)):e.errorMessage&&(t=Ii(e.errorMessage)),t)throw t;if(!e[gc])throw new Sn("internal-error")}function Ti(e,t){return t.returnIdpCredential=!0,Oi(e,Bc,t)}function ki(e,t){return t.returnIdpCredential=!0,Oi(e,Hc,t)}function Ni(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Oi(e,Vc,t)}function xi(e){if(!e.oobCode)throw new Sn("invalid-action-code")}function Oi(e,t,n){if(!wn(n,t.ea))return Y(new Sn("internal-error"));var r,i=t.Ab||"POST";return X(n).then(t.D).then(function(){return t.T&&(n.returnSecureToken=!0),pi(e,t.endpoint,i,n,t.Rb,t.ob||!1)}).then(function(e){return r=e}).then(t.O).then(function(){if(!t.ga)return r;if(!(t.ga in r))throw new Sn("internal-error");return r[t.ga]})}function Ii(e){return Pi({error:{errors:[{message:e}],code:400,message:e}})}function Pi(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Sn(r[n]):null)return n;n=e.error&&e.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},W(r,t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new Sn(r[i],t);return!t&&e&&(t=an(e)),new Sn("internal-error",t)}function Ai(e){for(var t in Xc)if(Xc[t].id===e)return e=Xc[t],{firebaseEndpoint:e.Wa,secureTokenEndpoint:e.bb};return null}function Ri(e){this.b=e,this.a=null,this.Za=Di(this)}function Di(e){return Fi().then(function(){return new q(function(t,n){Zt("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Zt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Jc.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function Li(e,t){return e.Za.then(function(){return new q(function(n){e.a.send(t.type,t,n,Zt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Mi(e,t){e.Za.then(function(){e.a.register("authEvent",t,Zt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function Fi(){return Zc||(Zc=new q(function(e,t){if(fn()){var n=function(){hn(),Zt("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){hn(),t(Error("Network Error"))},timeout:$c.get()})};if(Zt("gapi.iframes.Iframe"))e();else if(Zt("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();nu[r]=function(){Zt("gapi.load")?n():t(Error("Network Error"))},r=Ct(Yc,{onload:r}),X(ni(r)).o(function(){t(Error("Network Error"))})}}else t(Error("Network Error"))}).o(function(e){throw Zc=null,e}))}function Ui(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=ot(this.i,"/__/auth/iframe"),nt(this.a,"apiKey",this.g),nt(this.a,"appName",this.h),this.b=null,this.c=[]}function ji(e,t,n,r,i){this.m=e,this.u=t,this.c=n,this.l=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function Wi(e){try{return eu.app(e).auth().Ka()}catch(e){return[]}}function Bi(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.v=null,this.g=[],this.l=this.a=null}function Vi(e){var t=Mt();return yi(e).then(function(e){e:{var n=it(t),r=n.c;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=it(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:_l.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new fr(Mt())})}function Hi(e){return e.l?e.l:(e.l=Kt().then(function(){if(!e.s){var t=e.c,n=e.h,r=Wi(e.b),i=new Ui(e.u,e.f,e.b);i.f=t,i.b=n,i.c=P(r||[]),e.s=i.toString()}e.i=new Ri(e.s),qi(e)}),e.l)}function Ki(e){return e.m||(e.v=e.c?$t(e.c,Wi(e.b)):null,e.m=new ui(e.f,Ai(e.h),e.v)),e.m}function zi(e,t,n,r,i,o,a,s,u,l){return e=new ji(e,t,n,r,i),e.i=o,e.g=a,e.h=s,e.b=j(u||null),e.f=l,e.toString()}function qi(e){if(!e.i)throw Error("IfcHandler must be initialized!");Mi(e.i,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=cr(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return n={},n.status=r?"ACK":"ERROR",X(n)}return n.status="ERROR",X(n)})}function Gi(e){var t={type:"webStorageSupport"};return Hi(e).then(function(){return Li(e.i,t)}).then(function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})}function Qi(e){if(this.a=e||eu.INTERNAL.reactNative&&eu.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Sn("internal-error","The React Native compatibility library was not found.")}function Xi(){this.a={}}function Yi(){try{var e=!!nu.indexedDB}catch(t){e=!1}if(!e)throw new Sn("web-storage-unsupported");this.f={},this.c=[],this.a=0,this.h=nu.indexedDB}function $i(e){return new q(function(t,n){var r=e.h.open("firebaseLocalStorageDb",1);r.onerror=function(e){n(Error(e.target.errorCode))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(e){t(e.target.result)}})}function Ji(e){return e.g||(e.g=$i(e)),e.g}function Zi(e){return e.objectStore("firebaseLocalStorage")}function eo(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function to(e){return new q(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}})}function no(e){function t(){return e.b=Ke(800).then(f(e.Bc,e)).then(function(t){0<t.length&&lu(e.c,function(e){e(t)})}).then(t).o(function(e){"STOP_EVENT"!=e.message&&t()}),e.b}e.b&&e.b.cancel("STOP_EVENT"),t()}function ro(){if(!oo()){if("Node"==Qt())throw new Sn("internal-error","The LocalStorage compatibility library was not found.");throw new Sn("web-storage-unsupported")}this.a=io()||eu.INTERNAL.node.localStorage}function io(){try{var e=nu.localStorage,t=ln();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function oo(){var e="Node"==Qt();if(!(e=io()||e&&eu.INTERNAL.node&&eu.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function ao(){}function so(){if(!lo()){if("Node"==Qt())throw new Sn("internal-error","The SessionStorage compatibility library was not found.");throw new Sn("web-storage-unsupported")}this.a=uo()||eu.INTERNAL.node.sessionStorage}function uo(){try{var e=nu.sessionStorage,t=ln();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function lo(){var e="Node"==Qt();if(!(e=uo()||e&&eu.INTERNAL.node&&eu.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function co(){var e={};e.Browser=rh,e.Node=ih,e.ReactNative=oh,this.a=e[Qt()]}function ho(e){var t=new Sn("invalid-persistence-type"),n=new Sn("unsupported-persistence-type");e:{for(r in ah)if(ah[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Qt()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!en()&&"none"!==e)throw n}}function fo(){var e=!(cn(Jt())||!Gt()),t=on(),n=en();this.m=e,this.h=t,this.l=n,this.a={},th||(th=new co),e=th;try{if(Lt()){eh||(eh=new Yi);var r=eh}else r=new e.a.C;this.g=r}catch(e){this.g=new Xi,this.h=!0}try{this.i=new e.a.kb}catch(e){this.i=new Xi}this.u=new Xi,this.f=f(this.Ib,this),this.b={}}function po(){return nh||(nh=new fo),nh}function vo(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function go(e,t){return"firebase:"+e.name+(t?":"+t:"")}function mo(e,t,n){return n=go(t,n),"local"==t.C&&(e.b[n]=null),vo(e,t.C).X(n)}function yo(e){_o(e),e.c=setInterval(function(){for(var t in e.a){var n=nu.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new be({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Ib(n))}},1e3)}function _o(e){e.c&&(clearInterval(e.c),e.c=null)}function bo(e){this.a=e,this.b=po()}function wo(e){return e.b.get(uh,e.a).then(function(e){return cr(e)})}function Co(){this.a=po()}function Eo(){this.b=-1}function So(e,t){this.b=-1,this.b=lh,this.f=nu.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=nu.Int32Array?new Int32Array(64):Array(64),void 0!==sh||(sh=nu.Int32Array?new Int32Array(ph):ph),this.reset()}function To(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=l&c^~l&h,o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0,a=a+(0|sh[t])|0,a=o+(a+(0|n[t])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function ko(t,n,r){void 0===r&&(r=n.length);var i=0,o=t.c;if(e(n))for(;i<r;)t.f[o++]=n.charCodeAt(i++),o==t.b&&(To(t),o=0);else{if(!s(n))throw Error("message must be string or array");for(;i<r;){var a=n[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(To(t),o=0)}}t.c=o,t.g+=r}function No(){So.call(this,8,vh)}function xo(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.s=i||null,this.h=t+":"+n,this.v=new Co,this.g=new bo(this.h),this.f=null,this.b=[],this.a=this.c=null}function Oo(e){return new Sn("invalid-cordova-configuration",e)}function Io(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function Po(e){var t=new No;ko(t,e),e=[];var n=8*t.g;56>t.c?ko(t,dh,56-t.c):ko(t,dh,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(To(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return xn(e)}function Ao(e,t,n,r){var i=Io(),o=new lr(t,r,null,i,new Sn("no-auth-event")),a=Zt("BuildInfo.packageName",nu);if("string"!==typeof a)throw new Sn("invalid-cordova-configuration");var s=Zt("BuildInfo.displayName",nu),u={};if(Jt().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!Jt().toLowerCase().match(/android/))return Y(new Sn("operation-not-supported-in-this-environment"));u.apn=a}s&&(u.appDisplayName=s),i=Po(i),u.sessionId=i;var l=zi(e.u,e.i,e.l,t,n,null,r,e.m,u,e.s);return e.ba().then(function(){var t=e.h;return e.v.a.set(uh,o.A(),t)}).then(function(){var t=Zt("cordova.plugins.browsertab.isAvailable",nu);if("function"!==typeof t)throw new Sn("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!==typeof(n=Zt("cordova.plugins.browsertab.openUrl",nu)))throw new Sn("invalid-cordova-configuration");n(l)}else{if("function"!==typeof(n=Zt("cordova.InAppBrowser.open",nu)))throw new Sn("invalid-cordova-configuration");t=Jt(),t=!(!t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.a=n(l,t?"_blank":"_system","location=yes")}})})}function Ro(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Do(e){return e.f||(e.f=e.ba().then(function(){return new q(function(t){function n(r){return t(r),e.Ja(n),!1}e.va(n),Mo(e)})})),e.f}function Lo(e){var t=null;return wo(e.g).then(function(n){return t=n,n=e.g,mo(n.b,uh,n.a)}).then(function(){return t})}function Mo(e){function t(t){r=!0,i&&i.cancel(),Lo(e).then(function(r){var i=n;if(r&&t&&t.url){i=null;var o=t.url,a=it(o),s=rt(a,"link"),u=rt(it(s),"link");a=rt(a,"deep_link_id"),o=rt(it(a),"link")||a||u||s||o,-1!=o.indexOf("/__/auth/callback")&&(i=it(o),i=un(rt(i,"firebaseError")||null),i=(i="object"===typeof i?Tn(i):null)?new lr(r.b,r.c,null,null,i):new lr(r.b,r.c,o,r.g)),i=i||n}Ro(e,i)})}var n=new lr("unknown",null,null,null,new Sn("no-auth-event")),r=!1,i=Ke(500).then(function(){return Lo(e).then(function(){r||Ro(e,n)})}),o=nu.handleOpenURL;nu.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Zt("BuildInfo.packageName",nu).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(e){console.error(e)}},Yl||(Yl=new hr),Yl.subscribe(t)}function Fo(e){this.a=e,this.b=po()}function Uo(e){return e.b.set(gh,"pending",e.a)}function jo(e){return mo(e.b,gh,e.a)}function Wo(e){return e.b.get(gh,e.a).then(function(e){return"pending"==e})}function Bo(e,t,n){this.v=e,this.l=t,this.u=n,this.h=[],this.f=!1,this.i=f(this.m,this),this.c=new Qo,this.s=new ta,this.g=new Fo(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.s,this.b.linkViaPopup=this.s,this.b.reauthViaPopup=this.s,this.a=Vo(this.v,this.l,this.u,Sc)}function Vo(e,t,n,r){var i=eu.SDK_VERSION||null;return qt()?new xo(e,t,n,i,r):new Bi(e,t,n,i,r)}function Ho(e){e.f||(e.f=!0,e.a.va(e.i));var t=e.a;return e.a.ba().o(function(n){throw e.a==t&&e.reset(),n})}function Ko(e){e.a.Eb()&&Ho(e).o(function(t){var n=new lr("unknown",null,null,null,new Sn("operation-not-supported-in-this-environment"));qo(t)&&e.m(n)}),e.a.zb()||Xo(e.c)}function zo(e,t,n,r,i,o){return e.a.wb(t,n,r,function(){e.f||(e.f=!0,e.a.va(e.i))},function(){e.reset()},i,o)}function qo(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Go(e,t,n){var r=t+":"+n;return _h[r]||(_h[r]=new Bo(e,t,n)),_h[r]}function Qo(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function Xo(e){e.g||(e.g=!0,Zo(e,!1,null,null))}function Yo(e,t,n){n=n.wa(t.b,t.c);var r=t.f,i=t.g,o=!!t.b.match(/Redirect$/);n(r,i).then(function(t){Zo(e,o,t,null)}).o(function(t){Zo(e,o,null,t)})}function $o(e,t){if(e.b=function(){return Y(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}function Jo(e,t){if(e.b=function(){return X(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Zo(e,t,n,r){t?r?$o(e,r):Jo(e,n):Jo(e,{user:null}),e.f=[],e.c=[]}function ea(e){var t=new Sn("timeout");e.a&&e.a.cancel(),e.a=Ke(yh.get()).then(function(){e.b||Zo(e,!0,null,t)})}function ta(){}function na(e,t){var n=e.c,r=e.b;t.wa(r,n)(e.f,e.g).then(function(e){t.fa(r,e,null,n)}).o(function(e){t.fa(r,null,e,n)})}function ra(e,t){this.a=t,mn(this,"verificationId",e)}function ia(e,t,n,r){return new or(e).Qa(t,n).then(function(e){return new ra(e,r)})}function oa(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function aa(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function sa(e,t){ua(e),e.b=Ke(aa(e,t)).then(function(){return vn()}).then(function(){return e.h()}).then(function(){sa(e,!0)}).o(function(t){e.i(t)&&sa(e,!1)})}function ua(e){e.b&&(e.b.cancel(),e.b=null)}function la(e){this.f=e,this.b=this.a=null,this.c=0}function ca(e,t){var n=t[gc],r=t.refreshToken;t=ha(t.expiresIn),e.b=n,e.c=t,e.a=r}function ha(e){return ou()+1e3*parseInt(e,10)}function fa(e,t){return di(e.f,t).then(function(t){return e.b=t.access_token,e.c=ha(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function da(e,t){this.a=e||null,this.b=t||null,yn(this,{lastSignInTime:gn(t||null),creationTime:gn(e||null)})}function pa(e){return new da(e.a,e.b)}function va(e,t,n,r,i,o){yn(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function ga(e,t){_e.call(this,e);for(var n in t)this[n]=t[n]}function ma(e,t,n){this.B=[],this.G=e.apiKey,this.s=e.appName,this.w=e.authDomain||null,e=eu.SDK_VERSION?$t(eu.SDK_VERSION):null,this.c=new ui(this.G,Ai(Sc),e),this.h=new la(this.c),Ta(this,t[gc]),ca(this.h,t),mn(this,"refreshToken",this.h.a),Oa(this,n||{}),Ue.call(this),this.I=!1,this.w&&tn()&&(this.a=Go(this.w,this.G,this.s)),this.N=[],this.i=null,this.l=Ca(this),this.U=f(this.Ga,this);var r=this;this.ha=null,this.sa=function(e){r.na(e.h)},this.W=null,this.R=[],this.ra=function(e){_a(r,e.f)},this.V=null}function ya(e,t){e.W&&Ie(e.W,"languageCodeChanged",e.sa),(e.W=t)&&ke(t,"languageCodeChanged",e.sa)}function _a(e,t){e.R=t,ci(e.c,eu.SDK_VERSION?$t(eu.SDK_VERSION,e.R):null)}function ba(e,t){e.V&&Ie(e.V,"frameworkChanged",e.ra),(e.V=t)&&ke(t,"frameworkChanged",e.ra)}function wa(e){try{return eu.app(e.s).auth()}catch(t){throw new Sn("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.s+"'!")}}function Ca(e){return new oa(function(){return e.F(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-ou()-3e5;return 0<t?t:0})}function Ea(e){e.m||e.l.b||(e.l.start(),Ie(e,"tokenChanged",e.U),ke(e,"tokenChanged",e.U))}function Sa(e){Ie(e,"tokenChanged",e.U),ua(e.l)}function Ta(e,t){e.qa=t,mn(e,"_lat",t)}function ka(e,t){O(e.N,function(e){return e==t})}function Na(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return Z(t).then(function(){return e})}function xa(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function Oa(e,t){yn(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new da(t.createdAt,t.lastLoginAt),providerData:[]})}function Ia(){}function Pa(e){return X().then(function(){if(e.m)throw new Sn("app-deleted")})}function Aa(e){return cu(e.providerData,function(e){return e.providerId})}function Ra(e,t){t&&(Da(e,t.providerId),e.providerData.push(t))}function Da(e,t){O(e.providerData,function(e){return e.providerId==t})}function La(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&mn(e,t,n)}function Ma(e,t){e!=t&&(yn(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?mn(e,"metadata",pa(t.metadata)):mn(e,"metadata",new da),lu(t.providerData,function(t){Ra(e,t)}),e.h=t.h,mn(e,"refreshToken",e.h.a))}function Fa(e){return e.F().then(function(t){var n=e.isAnonymous;return ja(e,t).then(function(){return n||La(e,"isAnonymous",!1),t})})}function Ua(e,t){t[gc]&&e.qa!=t[gc]&&(ca(e.h,t),je(e,new ga("tokenChanged")),Ta(e,t[gc]),La(e,"refreshToken",e.h.a))}function ja(e,t){return Oi(e.c,Pc,{idToken:t}).then(f(e.nc,e))}function Wa(e){return(e=e.providerUserInfo)&&e.length?cu(e,function(e){return new va(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}function Ba(e,t){return Fa(e).then(function(){if(N(Aa(e),t))return Na(e).then(function(){throw new Sn("provider-already-linked")})})}function Va(e,t,n){var r=sr(t);return t=Ln(t),_n({user:e,credential:r,additionalUserInfo:t,operationType:n})}function Ha(e,t){return Ua(e,t),e.reload().then(function(){return e})}function Ka(e,t,n,r,i){if(!tn())return Y(new Sn("operation-not-supported-in-this-environment"));if(e.i&&!i)return Y(e.i);var o=Dn(n.providerId),a=ln(e.uid+":::"),s=null;(!on()||Gt())&&e.w&&n.isOAuthProvider&&(s=zi(e.w,e.G,e.s,t,n,null,a,eu.SDK_VERSION||null));var u=Vt(s,o&&o.Aa,o&&o.za);return r=r().then(function(){if(qa(e),!i)return e.F().then(function(){})}).then(function(){return zo(e.a,u,t,n,a,!!s)}).then(function(){return new q(function(n,r){e.fa(t,null,new Sn("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=a,e.b=e.a.Da(e,t,u,a)})}).then(function(e){return u&&Bt(u),e?_n(e):null}).o(function(e){throw u&&Bt(u),e}),Ga(e,r,i)}function za(e,t,n,r,i){if(!tn())return Y(new Sn("operation-not-supported-in-this-environment"));if(e.i&&!i)return Y(e.i);var o=null,a=ln(e.uid+":::");return r=r().then(function(){if(qa(e),!i)return e.F().then(function(){})}).then(function(){return e.Z=a,Na(e)}).then(function(t){return e.ca&&(t=e.ca,t=t.b.set(bh,e.A(),t.a)),t}).then(function(){return e.a.Ba(t,n,a)}).o(function(t){if(o=t,e.ca)return Ja(e.ca);throw o}).then(function(){if(o)throw o}),Ga(e,r,i)}function qa(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new Sn("internal-error");throw new Sn("auth-domain-config-required")}}function Ga(e,t,n){var r=Qa(e,t,n);return e.B.push(r),ee(r,function(){x(e.B,r)}),r}function Qa(e,t,n){return e.i&&!n?(t.cancel(),Y(e.i)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||je(e,new ga("userInvalidated")),e.i=t),t})}function Xa(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[gc]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-ou())/1e3;var r=new ma(t,n,e);return e.providerData&&lu(e.providerData,function(e){e&&Ra(r,_n(e))}),e.redirectEventId&&(r.Z=e.redirectEventId),r}function Ya(e,t,n,r){var i=new ma(e,t);return n&&(i.ca=n),r&&_a(i,r),i.reload().then(function(){return i})}function $a(e){this.a=e,this.b=po()}function Ja(e){return mo(e.b,bh,e.a)}function Za(e,t){return e.b.get(bh,e.a).then(function(e){return e&&t&&(e.authDomain=t),Xa(e||{})})}function es(e){this.a=e,this.b=po(),this.c=null,this.f=ns(this),this.b.addListener(rs("local"),this.a,f(this.g,this))}function ts(e,t){var n,r=[];for(n in ah)ah[n]!==t&&r.push(mo(e.b,rs(ah[n]),e.a));return r.push(mo(e.b,wh,e.a)),J(r)}function ns(e){var t=rs("local"),n=rs("session"),r=rs("none");return e.b.get(n,e.a).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(wh,e.a).then(function(e){return e?rs(e):t})})})}).then(function(t){return e.c=t,ts(e,t.C)}).o(function(){e.c||(e.c=t)})}function rs(e){return{name:"authUser",C:e}}function is(e){return us(e,function(){return e.b.set(wh,e.c.C,e.a)})}function os(e,t){return us(e,function(){return e.b.set(e.c,t.A(),e.a)})}function as(e){return us(e,function(){return mo(e.b,e.c,e.a)})}function ss(e,t){return us(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),Xa(e||{})})})}function us(e,t){return e.f=e.f.then(t,t),e.f}function ls(e){if(this.l=!1,mn(this,"app",e),!ws(this).options||!ws(this).options.apiKey)throw new Sn("invalid-api-key");e=eu.SDK_VERSION?$t(eu.SDK_VERSION):null,this.c=new ui(ws(this).options&&ws(this).options.apiKey,Ai(Sc),e),this.N=[],this.m=[],this.I=[],this.Mb=eu.INTERNAL.createSubscribe(f(this.cc,this)),this.R=void 0,this.Nb=eu.INTERNAL.createSubscribe(f(this.dc,this)),gs(this,null),this.h=new es(ws(this).options.apiKey+":"+ws(this).name),this.G=new $a(ws(this).options.apiKey+":"+ws(this).name),this.U=ks(this,ys(this)),this.i=ks(this,_s(this)),this.W=!1,this.ha=f(this.Ac,this),this.Ga=f(this.ka,this),this.qa=f(this.Vb,this),this.ra=f(this.ac,this),this.sa=f(this.bc,this),ps(this),this.INTERNAL={},this.INTERNAL.delete=f(this.delete,this),this.INTERNAL.logFramework=f(this.ic,this),this.s=0,Ue.call(this),fs(this),this.B=[]}function cs(e){_e.call(this,"languageCodeChanged"),this.h=e}function hs(e){_e.call(this,"frameworkChanged"),this.f=e}function fs(e){Object.defineProperty(e,"lc",{get:function(){return this.$()},set:function(e){this.na(e)},enumerable:!1}),e.V=null}function ds(e){return e.Lb||Y(new Sn("auth-domain-config-required"))}function ps(e){var t=ws(e).options.authDomain,n=ws(e).options.apiKey;t&&tn()&&(e.Lb=e.U.then(function(){if(!e.l){if(e.a=Go(t,n,ws(e).name),e.a.subscribe(e),Cs(e)&&xa(Cs(e)),e.w){xa(e.w);var r=e.w;r.na(e.$()),ya(r,e),r=e.w,_a(r,e.B),ba(r,e),e.w=null}return e.a}}))}function vs(e,t){var n={};return n.apiKey=ws(e).options.apiKey,n.authDomain=ws(e).options.authDomain,n.appName=ws(e).name,e.U.then(function(){return Ya(n,t,e.G,e.Ka())}).then(function(t){return Cs(e)&&t.uid==Cs(e).uid?(Ma(Cs(e),t),e.ka(t)):(gs(e,t),xa(t),e.ka(t))}).then(function(){Ss(e)})}function gs(e,t){Cs(e)&&(ka(Cs(e),e.Ga),Ie(Cs(e),"tokenChanged",e.qa),Ie(Cs(e),"userDeleted",e.ra),Ie(Cs(e),"userInvalidated",e.sa),Sa(Cs(e))),t&&(t.N.push(e.Ga),ke(t,"tokenChanged",e.qa),ke(t,"userDeleted",e.ra),ke(t,"userInvalidated",e.sa),0<e.s&&Ea(t)),mn(e,"currentUser",t),t&&(t.na(e.$()),ya(t,e),_a(t,e.B),ba(t,e))}function ms(e){var t=Za(e.G,ws(e).options.authDomain).then(function(t){return(e.w=t)&&(t.ca=e.G),Ja(e.G)});return ks(e,t)}function ys(e){var t=ws(e).options.authDomain,n=ms(e).then(function(){return ss(e.h,t)}).then(function(t){return t?(t.ca=e.G,e.w&&(e.w.Z||null)==(t.Z||null)?t:t.reload().then(function(){return os(e.h,t).then(function(){return t})}).o(function(n){return"auth/network-request-failed"==n.code?t:as(e.h)})):null}).then(function(t){gs(e,t||null)});return ks(e,n)}function _s(e){return e.U.then(function(){return e.aa()}).o(function(){}).then(function(){if(!e.l)return e.ha()}).o(function(){}).then(function(){if(!e.l){e.W=!0;var t=e.h;t.b.addListener(rs("local"),t.a,e.ha)}})}function bs(e,t){var n=null,r=null;return ks(e,t.then(function(t){return n=sr(t),r=Ln(t),vs(e,t)}).then(function(){return _n({user:Cs(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ws(e){return e.app}function Cs(e){return e.currentUser}function Es(e){return Cs(e)&&Cs(e)._lat||null}function Ss(e){if(e.W){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](Es(e));if(e.R!==e.getUid()&&e.I.length)for(e.R=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](Es(e))}}function Ts(e,t){e.I.push(t),ks(e,e.i.then(function(){!e.l&&N(e.I,t)&&e.R!==e.getUid()&&(e.R=e.getUid(),t(Es(e)))}))}function ks(e,t){return e.N.push(t),ee(t,function(){x(e.N,t)}),t}function Ns(e,t,n,r,i,o){if(mn(this,"type","recaptcha"),this.b=this.c=null,this.m=!1,this.l=t,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[Sh])throw new Sn("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Th],!$r(t)||!this.h&&$r(t).hasChildNodes())throw new Sn("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new ui(e,o||null,i||null),this.s=r||function(){return null};var a=this;this.i=[];var s=this.a[Ch];this.a[Ch]=function(e){if(xs(a,e),"function"===typeof s)s(e);else if("string"===typeof s){var t=Zt(s,nu);"function"===typeof t&&t(e)}};var u=this.a[Eh];this.a[Eh]=function(){if(xs(a,null),"function"===typeof u)u();else if("string"===typeof u){var e=Zt(u,nu);"function"===typeof e&&e()}}}function xs(e,t){for(var n=0;n<e.i.length;n++)try{e.i[n](t)}catch(e){}}function Os(e,t){O(e.i,function(e){return e==t})}function Is(e,t){return e.g.push(t),ee(t,function(){x(e.g,t)}),t}function Ps(e){if(e.m)throw new Sn("internal-error","RecaptchaVerifier instance has been destroyed.")}function As(){this.b=nu.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function Rs(e,t){return new q(function(n,r){if(fn())if(!nu.grecaptcha||t!==e.c&&!e.b){nu[e.a]=function(){if(nu.grecaptcha){e.c=t;var i=nu.grecaptcha.render;nu.grecaptcha.render=function(t,n){return t=i(t,n),e.b++,t},n()}else r(new Sn("internal-error"));delete nu[e.a]};var i=Ct(kh,{onload:e.a,hl:t||""});X(ni(i)).o(function(){r(new Sn("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else n();else r(new Sn("network-request-failed"))})}function Ds(){return Nh||(Nh=new As),Nh}function Ls(e,t,n){try{this.f=n||eu.app()}catch(e){throw new Sn("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new Sn("invalid-api-key");n=this.f.options.apiKey;var r=this,i=null;try{i=this.f.auth().Ka()}catch(e){}i=eu.SDK_VERSION?$t(eu.SDK_VERSION,i):null,Ns.call(this,n,e,t,function(){try{var e=r.f.auth().$()}catch(t){e=null}return e},i,Ai(Sc))}function Ms(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Sn("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=xh.length)throw new Sn("internal-error","Argument validator received an unsupported number of arguments.");n=xh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new Sn("argument-error",e+" failed: "+r)}function Fs(t,n){return{name:t||"",K:"a valid string",optional:!!n,M:e}}function Us(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:t}}function js(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:l}}function Ws(e,t){return{name:e||"",K:"a function",optional:!!t,M:u}}function Bs(e,t){return{name:e||"",K:"null",optional:!!t,M:o}}function Vs(){return{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}}}function Hs(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ls)}}}function Ks(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof eu.app.App)}}}function zs(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.xa||!n)}}}function qs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function Gs(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&e(t.type)&&u(t.verify))}}}function Qs(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Xs(e,t){for(var n in t){var r=t[n].name;e[r]=$s(r,e[n],t[n].j)}}function Ys(e,t,n,r){e[t]=$s(t,n,r)}function $s(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Ms(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=Js(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}function Js(e){return e=e.split("."),e[e.length-1]}var Zs,eu=n(10).default,tu=tu||{},nu=this,ru="closure_uid_"+(1e9*Math.random()>>>0),iu=0,ou=Date.now||function(){return+new Date};p(m,Error),m.prototype.name="CustomError",p(y,m),y.prototype.name="AssertionError",b.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var au=new b(function(){return new S},function(e){e.reset()});C.prototype.add=function(e,t){var n=au.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},S.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},S.prototype.reset=function(){this.next=this.b=this.a=null};var su,uu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(t,n){if(e(t))return e(n)&&1==n.length?t.indexOf(n,0):-1;for(var r=0;r<t.length;r++)if(r in t&&t[r]===n)return r;return-1},lu=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(t,n,r){for(var i=t.length,o=e(t)?t.split(""):t,a=0;a<i;a++)a in o&&n.call(r,o[a],a,t)},cu=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(t,n){for(var r=t.length,i=Array(r),o=e(t)?t.split(""):t,a=0;a<r;a++)a in o&&(i[a]=n.call(void 0,o[a],a,t));return i},hu=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(t,n){for(var r=t.length,i=e(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,t))return!0;return!1},fu=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},du=/&/g,pu=/</g,vu=/>/g,gu=/"/g,mu=/'/g,yu=/\x00/g,_u=/[\x00&<>"']/;e:{var bu=nu.navigator;if(bu){var wu=bu.userAgent;if(wu){su=wu;break e}}su=""}var Cu,Eu,Su="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Tu=!1,ku=new C,Nu=0,xu=2,Ou=3;G.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Iu=new b(function(){return new G},function(e){e.reset()});q.prototype.then=function(e,t,n){return re(this,u(e)?e:null,u(t)?t:null,n)},v(q),Zs=q.prototype,Zs.o=function(e,t){return re(this,null,e,t)},Zs.cancel=function(e){this.a==Nu&&H(function(){te(this,new fe(e))},this)},Zs.Cc=function(e){this.a=Nu,ie(this,xu,e)},Zs.Dc=function(e){this.a=Nu,ie(this,Ou,e)},Zs.Sb=function(){for(var e;e=ue(this);)le(this,e,this.a,this.i);this.h=!1};var Pu=B;p(fe,m),fe.prototype.name="cancel";var Au=0,Ru={};de.prototype.pa=!1,de.prototype.ua=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()},ve[" "]=r;var Du,Lu=M("Opera"),Mu=M("Trident")||M("MSIE"),Fu=M("Edge"),Uu=Fu||Mu,ju=M("Gecko")&&!(D(su.toLowerCase(),"webkit")&&!M("Edge"))&&!(M("Trident")||M("MSIE"))&&!M("Edge"),Wu=D(su.toLowerCase(),"webkit")&&!M("Edge");e:{var Bu="",Vu=function(){var e=su;return ju?/rv:([^\);]+)(\)|;)/.exec(e):Fu?/Edge\/([\d\.]+)/.exec(e):Mu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Wu?/WebKit\/(\S+)/.exec(e):Lu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Vu&&(Bu=Vu?Vu[1]:""),Mu){var Hu=me();if(null!=Hu&&Hu>parseFloat(Bu)){Du=String(Hu);break e}}Du=Bu}var Ku,zu={},qu=nu.document;Ku=qu&&Mu?me()||("CSS1Compat"==qu.compatMode?parseInt(Du,10):5):void 0;var Gu=Object.freeze||function(e){return e},Qu=!Mu||9<=Number(Ku),Xu=Mu&&!ye("9"),Yu=function(){if(!nu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return nu.addEventListener("test",r,t),nu.removeEventListener("test",r,t),e}();_e.prototype.c=function(){this.Cb=!1},p(be,_e);var $u=Gu({2:"touch",3:"pen",4:"mouse"});be.prototype.c=function(){be.jb.c.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Xu)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},be.prototype.g=function(){return this.a};var Ju="closure_listenable_"+(1e6*Math.random()|0),Zu=0;Ee.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Te(e,t,r,i);return-1<a?(t=e[a],n||(t.Ha=!1)):(t=new we(t,this.src,o,!!r,i),t.Ha=n,e.push(t)),t};var el="closure_lm_"+(1e6*Math.random()|0),tl={},nl=0,rl="__closure_events_fn_"+(1e9*Math.random()>>>0);p(Ue,de),Ue.prototype[Ju]=!0,Ue.prototype.removeEventListener=function(e,t,n,r){Ie(this,e,t,n,r)},Ue.prototype.ua=function(){if(Ue.jb.ua.call(this),this.u){var e,t=this.u,n=0;for(e in t.a){for(var r=t.a[e],i=0;i<r.length;i++)++n,Ce(r[i]);delete t.a[e],t.b--}}this.Ra=null},Zs=Qe.prototype,Zs.P=function(){Xe(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Zs.S=function(){return Xe(this),this.a.concat()},Zs.clear=function(){this.b={},this.c=this.a.length=0},Zs.get=function(e,t){return Ye(this.b,e)?this.b[e]:t},Zs.set=function(e,t){Ye(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Zs.forEach=function(e,t){for(var n=this.S(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var il=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Je.prototype.toString=function(){var e=[],t=this.c;t&&e.push(st(t,ol,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(st(t,ol,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?sl:al,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.h)&&e.push("#",st(n,ll)),e.join("")};var ol=/[#\/\?@]/g,al=/[#\?:]/g,sl=/[#\?]/g,ul=/[#\?@]/g,ll=/#/g;Zs=lt.prototype,Zs.add=function(e,t){ct(this),this.c=null,e=vt(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Zs.clear=function(){this.a=this.c=null,this.b=0},Zs.forEach=function(e,t){ct(this),this.a.forEach(function(n,r){lu(n,function(n){e.call(t,n,r,this)},this)},this)},Zs.S=function(){ct(this);for(var e=this.a.P(),t=this.a.S(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Zs.P=function(t){ct(this);var n=[];if(e(t))dt(this,t)&&(n=I(n,this.a.get(vt(this,t))));else{t=this.a.P();for(var r=0;r<t.length;r++)n=I(n,t[r])}return n},Zs.set=function(e,t){return ct(this),this.c=null,e=vt(this,e),dt(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Zs.get=function(e,t){return e=e?this.P(e):[],0<e.length?String(e[0]):t},Zs.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.S(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.P(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")},mt.prototype.la=!0,mt.prototype.ja=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var cl={};_t(""),bt.prototype.la=!0,bt.prototype.ja=function(){return this.a},bt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var hl=/%{(\w+)}/g,fl=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,dl={};St.prototype.la=!0,St.prototype.ja=function(){return this.a},St.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var pl=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,vl={};Nt("about:blank");var gl={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ml=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;At.prototype.la=!0,At.prototype.ja=function(){return this.a},At.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var yl={};Dt("<!DOCTYPE html>"),Dt(""),Dt("<br>");var _l=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bl="Firefox",wl="Chrome",Cl={Ic:"FirebaseCore-web",Kc:"FirebaseUI-web"};dn.prototype.get=function(){return this.a?this.b:this.c};var El,Sl={};try{var Tl={};Object.defineProperty(Tl,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Tl,"abcd",{configurable:!0,enumerable:!0,value:2}),El=2==Tl.abcd}catch(e){El=!1}var kl="email",Nl="newEmail",xl="requestType",Ol="email",Il="fromEmail",Pl="data",Al="operation";p(Sn,Error),Sn.prototype.A=function(){return{code:this.code,message:this.message}},Sn.prototype.toJSON=function(){return this.A()};var Rl="auth/",Dl={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"The user's credential is no longer valid. The user must sign in again.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ll="android",Ml="handleCodeInApp",Fl="iOS",Ul="url",jl="installApp",Wl="minimumVersion",Bl="packageName",Vl="bundleId",Hl=null,Kl=null;An.prototype.f=function(){return this.b};var zl="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ql=["client_id","response_type","scope","redirect_uri","state"],Gl={Jc:{Ma:"locale",Aa:500,za:600,Na:"facebook.com",ab:ql},Lc:{Ma:null,Aa:500,za:620,Na:"github.com",ab:ql},Mc:{Ma:"hl",Aa:515,za:680,Na:"google.com",ab:ql},Sc:{Ma:"lang",Aa:485,za:705,Na:"twitter.com",ab:zl}},Ql="idToken",Xl="providerId";p(Fn,Mn),p(Un,Fn),p(jn,Fn),p(Wn,Fn),p(Bn,Fn),Hn.prototype.xa=function(e){return Ti(e,Kn(this))},Hn.prototype.b=function(e,t){var n=Kn(this);return n.idToken=t,ki(e,n)},Hn.prototype.c=function(e,t){return Vn(Ni(e,Kn(this)),t)},Hn.prototype.A=function(){var e={providerId:this.providerId};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e},zn.prototype.Ca=function(e){return this.sb=j(e),this},p(qn,zn),qn.prototype.ta=function(e){return N(this.a,e)||this.a.push(e),this},qn.prototype.xb=function(){return P(this.a)},qn.prototype.credential=function(e,t){if(!e&&!t)throw new Sn("argument-error","credential failed: must provide the ID token and/or the access token.");return new Hn(this.providerId,{idToken:e||null,accessToken:t||null})},p(Gn,qn),mn(Gn,"PROVIDER_ID","facebook.com"),p(Xn,qn),mn(Xn,"PROVIDER_ID","github.com"),p($n,qn),mn($n,"PROVIDER_ID","google.com"),p(Zn,zn),mn(Zn,"PROVIDER_ID","twitter.com"),tr.prototype.xa=function(e){return Oi(e,zc,{email:this.a,password:this.f})},tr.prototype.b=function(e,t){return Oi(e,jc,{idToken:t,email:this.a,password:this.f})},tr.prototype.c=function(e,t){return Vn(this.xa(e),t)},tr.prototype.A=function(){return{email:this.a,password:this.f}},yn(nr,{PROVIDER_ID:"password"}),rr.prototype.xa=function(e){return e.Qa(ir(this))},rr.prototype.b=function(e,t){var n=ir(this);return n.idToken=t,Oi(e,Gc,n)},rr.prototype.c=function(e,t){var n=ir(this);return n.operation="REAUTH",e=Oi(e,Qc,n),Vn(e,t)},rr.prototype.A=function(){var e={providerId:"phone"};return this.a.Pa&&(e.verificationId=this.a.Pa),this.a.Oa&&(e.verificationCode=this.a.Oa),this.a.Ea&&(e.temporaryProof=this.a.Ea),this.a.Y&&(e.phoneNumber=this.a.Y),e},or.prototype.Qa=function(t,n){var r=this.a.c;return X(n.verify()).then(function(i){if(!e(i))throw new Sn("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return wi(r,{phoneNumber:t,recaptchaToken:i}).then(function(e){return"function"===typeof n.reset&&n.reset(),e},function(e){throw"function"===typeof n.reset&&n.reset(),e});default:throw new Sn("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},yn(or,{PROVIDER_ID:"phone"}),lr.prototype.A=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.A()}};var Yl=null;hr.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Zt("universalLinks.subscribe",nu))&&e(null,this.b))},hr.prototype.unsubscribe=function(e){O(this.a,function(t){return t==e})},p(fr,Sn),p(dr,Sn),dr.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.A();return t&&W(e,t),e},dr.prototype.toJSON=function(){return this.A()};var $l=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;vr.prototype.c=null;var Jl;p(mr,vr),mr.prototype.a=function(){var e=yr(this);return e?new ActiveXObject(e):new XMLHttpRequest},mr.prototype.b=function(){var e={};return yr(this)&&(e[0]=!0,e[1]=!0),e},Jl=new mr,p(_r,vr),_r.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new br;throw Error("Unsupported browser")},_r.prototype.b=function(){return{}},Zs=br.prototype,Zs.open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},Zs.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},Zs.abort=function(){this.a.abort()},Zs.setRequestHeader=function(){},Zs.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},Zs.Yb=function(){this.status=200,this.responseText=this.a.responseText,wr(this,4)},Zs.yb=function(){this.status=500,this.responseText="",wr(this,4)},Zs.$b=function(){this.yb()},Zs.Zb=function(){this.status=200,wr(this,1)},Zs.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Cr.prototype.a=null;var Zl=0;Cr.prototype.reset=function(e,t,n,r,i){"number"==typeof i||Zl++,r||ou(),delete this.a},Sr.prototype.toString=function(){return this.name};var ec=new Sr("SEVERE",1e3),tc=new Sr("CONFIG",700),nc=new Sr("FINE",500);Er.prototype.log=function(e,t,n){if(e.value>=Tr(this).value)for(u(t)&&(t=t()),e=new Cr(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var rc={},ic=null;p(xr,Ue);var oc="",ac=xr.prototype,sc=kr("goog.net.XhrIo");ac.J=sc;var uc=/^https?$/i,lc=["POST","PUT"];Zs=xr.prototype,Zs.Fa=function(){"undefined"!=typeof tu&&this.a&&(this.g="Timed out after "+this.f+"ms, aborting",Nr(this.J,Wr(this,this.g)),je(this,"timeout"),this.abort(8))},Zs.abort=function(){this.a&&this.b&&(Nr(this.J,Wr(this,"Aborting")),this.b=!1,this.c=!0,this.a.abort(),this.c=!1,je(this,"complete"),je(this,"abort"),Lr(this))},Zs.ua=function(){this.a&&(this.b&&(this.b=!1,this.c=!0,this.a.abort(),this.c=!1),Lr(this,!0)),xr.jb.ua.call(this)},Zs.Bb=function(){this.pa||(this.G||this.h||this.c?Dr(this):this.mc())},Zs.mc=function(){Dr(this)},Zs.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.l){case oc:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.J;return e&&e.log(ec,"Response type "+this.l+" is not supported on this browser",void 0),null}catch(e){return Nr(this.J,"Can not get response: "+e.message),null}},Br.prototype.cancel=function(e){if(this.a)this.c instanceof Br&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):0>=--t.l&&t.cancel()}this.v?this.v.call(this.s,this):this.u=!0,this.a||(e=new Xr(this),Hr(this),Vr(this,!1,e))}},Br.prototype.m=function(e,t){this.i=!1,Vr(this,e,t)},Br.prototype.B=function(){Hr(this),Vr(this,!0,null)},Br.prototype.then=function(e,t,n){var r,i,o=new q(function(e,t){r=e,i=t});return zr(this,r,function(e){e instanceof Xr?o.cancel():i(e)}),o.then(e,t,n)},v(Br),p(Qr,m),Qr.prototype.message="Deferred has already fired",Qr.prototype.name="AlreadyCalledError",p(Xr,m),Xr.prototype.message="Deferred was canceled",Xr.prototype.name="CanceledError",Yr.prototype.c=function(){throw delete cc[this.a],this.b};var cc={},hc=!Mu||9<=Number(Ku),fc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},dc=0,pc=1;p(ai,m),p(si,vr),si.prototype.a=function(){return new this.f},si.prototype.b=function(){return{}};var vc,gc="idToken",mc=new dn(3e4,6e4),yc={"Content-Type":"application/x-www-form-urlencoded"},_c=new dn(3e4,6e4),bc={"Content-Type":"application/json"};ui.prototype.m=function(e,t,n,r,i,o){var a="Node"==Qt(),s=Xt()?a?new xr(this.s):new xr:new xr(this.f);if(o){s.f=Math.max(0,o);var u=setTimeout(function(){je(s,"timeout")},o)}We(s,"complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(jr(this))||null}catch(t){e=null}t&&t(e)}),Be(s,"ready",function(){u&&clearTimeout(u),pe(this)}),Be(s,"timeout",function(){u&&clearTimeout(u),pe(this),t&&t(null)}),Or(s,e,n,r,i)};var wc=_t("https://apis.google.com/js/client.js?onload=%{onload}"),Cc="__fcb"+Math.floor(1e6*Math.random()).toString();ui.prototype.u=function(e,t,n,r,i){var o=this;vc.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).o(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},ui.prototype.hb=function(){return Oi(this,Wc,{})},ui.prototype.lb=function(e,t){return Oi(this,Uc,{idToken:e,email:t})},ui.prototype.mb=function(e,t){return Oi(this,jc,{idToken:e,password:t})};var Ec={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};Zs=ui.prototype,Zs.nb=function(e,t){var n={idToken:e},r=[];return F(Ec,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Oi(this,Uc,n)},Zs.eb=function(e,t){return e={requestType:"PASSWORD_RESET",email:e},W(e,t),Oi(this,Rc,e)},Zs.cb=function(e,t){return e={requestType:"VERIFY_EMAIL",idToken:e},W(e,t),Oi(this,Ac,e)},Zs.Qa=function(e){return Oi(this,qc,e)},Zs.Ua=function(e,t){return Oi(this,Mc,{oobCode:e,newPassword:t})},Zs.Ia=function(e){return Oi(this,kc,{oobCode:e})},Zs.Sa=function(e){return Oi(this,Tc,{oobCode:e})};var Sc,Tc={endpoint:"setAccountInfo",D:xi,ga:"email"},kc={endpoint:"resetPassword",D:xi,O:function(e){if(!e.email||!e.requestType)throw new Sn("internal-error")}},Nc={endpoint:"signupNewUser",D:function(e){if(vi(e),!e.password)throw new Sn("weak-password")},O:_i,T:!0},xc={endpoint:"createAuthUri"},Oc={endpoint:"deleteAccount",ea:["idToken"]},Ic={endpoint:"setAccountInfo",ea:["idToken","deleteProvider"],D:function(e){if(!a(e.deleteProvider))throw new Sn("internal-error")}},Pc={endpoint:"getAccountInfo"},Ac={endpoint:"getOobConfirmationCode",ea:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Sn("internal-error")},ga:"email"},Rc={endpoint:"getOobConfirmationCode",ea:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Sn("internal-error");vi(e)},ga:"email"},Dc={ob:!0,endpoint:"getProjectConfig",Ab:"GET"},Lc={ob:!0,endpoint:"getRecaptchaParam",Ab:"GET",O:function(e){if(!e.recaptchaSiteKey)throw new Sn("internal-error")}},Mc={endpoint:"resetPassword",D:xi,ga:"email"},Fc={endpoint:"sendVerificationCode",ea:["phoneNumber","recaptchaToken"],ga:"sessionInfo"},Uc={endpoint:"setAccountInfo",ea:["idToken"],D:gi,T:!0},jc={endpoint:"setAccountInfo",ea:["idToken"],D:function(e){if(gi(e),!e.password)throw new Sn("weak-password")},O:_i,T:!0},Wc={endpoint:"signupNewUser",O:_i,T:!0},Bc={endpoint:"verifyAssertion",D:Ei,O:Si,T:!0},Vc={endpoint:"verifyAssertion",D:Ei,O:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Sn("user-not-found");if(e.errorMessage)throw Ii(e.errorMessage);if(!e[gc])throw new Sn("internal-error")},T:!0},Hc={endpoint:"verifyAssertion",D:function(e){if(Ei(e),!e.idToken)throw new Sn("internal-error")},O:Si,T:!0},Kc={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Sn("invalid-custom-token")},O:_i,T:!0},zc={endpoint:"verifyPassword",D:function(e){if(vi(e),!e.password)throw new Sn("wrong-password")},O:_i,T:!0},qc={endpoint:"verifyPhoneNumber",D:bi,O:_i},Gc={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Sn("internal-error");bi(e)},O:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",pr(e);_i(e)}},Qc={Rb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:bi,O:_i},Xc={Oc:{Wa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",bb:"https://securetoken.googleapis.com/v1/token",id:"p"},Qc:{Wa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",bb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Rc:{Wa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",bb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};Sc=Ai("__EID__")?"__EID__":void 0;var Yc=_t("https://apis.google.com/js/api.js?onload=%{onload}"),$c=new dn(3e4,6e4),Jc=new dn(5e3,15e3),Zc=null;Ui.prototype.toString=function(){return this.f?nt(this.a,"v",this.f):ft(this.a.a,"v"),this.b?nt(this.a,"eid",this.b):ft(this.a.a,"eid"),this.c.length?nt(this.a,"fw",this.c.join(",")):ft(this.a.a,"fw"),this.a.toString()},ji.prototype.toString=function(){var e=ot(this.m,"/__/auth/handler");if(nt(e,"apiKey",this.u),nt(e,"appName",this.c),nt(e,"authType",this.l),this.a.isOAuthProvider){var t=this.a;try{var n=eu.app(this.c).auth().$()}catch(e){n=null}t.Va=n,nt(e,"providerId",this.a.providerId),t=this.a,n=sn(t.sb);for(var r in n)n[r]=n[r].toString();r=t.tc,n=j(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}t.Xa&&t.Va&&!n[t.Xa]&&(n[t.Xa]=t.Va),U(n)||nt(e,"customParameters",an(n))}if("function"===typeof this.a.xb&&(t=this.a.xb(),t.length&&nt(e,"scopes",t.join(","))),this.i?nt(e,"redirectUrl",this.i):ft(e.a,"redirectUrl"),this.g?nt(e,"eventId",this.g):ft(e.a,"eventId"),this.h?nt(e,"v",this.h):ft(e.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!rt(e,a)&&nt(e,a,this.b[a]);return this.f?nt(e,"eid",this.f):ft(e.a,"eid"),a=Wi(this.c),a.length&&nt(e,"fw",a.join(",")),e.toString()},Zs=Bi.prototype,Zs.Da=function(e,t,n){var r=new Sn("popup-closed-by-user"),i=new Sn("web-storage-unsupported"),o=this,a=!1;return this.ba().then(function(){Gi(o).then(function(n){n||(e&&Bt(e),t(i),a=!0)})}).o(function(){}).then(function(){if(!a)return Ht(e)}).then(function(){if(!a)return Ke(n).then(function(){t(r)})})},Zs.Eb=function(){var e=Jt();return!on(e)&&!cn(e)},Zs.zb=function(){return!1},Zs.wb=function(e,t,n,r,i,o,a){if(!e)return Y(new Sn("popup-blocked"));if(a&&!on())return this.ba().o(function(t){Bt(e),i(t)}),r(),X();this.a||(this.a=Vi(Ki(this)));var s=this;return this.a.then(function(){var t=s.ba().o(function(t){throw Bt(e),i(t),t});return r(),t}).then(function(){if(ur(n),!a){Ft(zi(s.u,s.f,s.b,t,n,null,o,s.c,void 0,s.h),e)}}).o(function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e})},Zs.Ba=function(e,t,n){this.a||(this.a=Vi(Ki(this)));var r=this;return this.a.then(function(){ur(t),Ft(zi(r.u,r.f,r.b,e,t,Mt(),n,r.c,void 0,r.h))}).o(function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e})},Zs.ba=function(){var e=this;return Hi(this).then(function(){return e.i.Za}).o(function(){throw e.a=null,new Sn("network-request-failed")})},Zs.Jb=function(){return!0},Zs.va=function(e){this.g.push(e)},Zs.Ja=function(e){O(this.g,function(t){return t==e})},Zs=Qi.prototype,Zs.get=function(e){return X(this.a.getItem(e)).then(function(e){return e&&un(e)})},Zs.set=function(e,t){return X(this.a.setItem(e,an(t)))},Zs.X=function(e){return X(this.a.removeItem(e))},Zs.ia=function(){},Zs.da=function(){},Zs=Xi.prototype,Zs.get=function(e){return X(this.a[e])},Zs.set=function(e,t){return this.a[e]=t,X()},Zs.X=function(e){return delete this.a[e],X()},Zs.ia=function(){},Zs.da=function(){};var eh;Zs=Yi.prototype,Zs.set=function(e,t){var n,r=!1,i=this;return ee(Ji(this).then(function(t){return n=t,t=Zi(eo(n,!0)),to(t.get(e))}).then(function(o){var a=Zi(eo(n,!0));return o?(o.value=t,to(a.put(o))):(i.a++,r=!0,o={},o.fbase_key=e,o.value=t,to(a.add(o)))}).then(function(){i.f[e]=t}),function(){r&&i.a--})},Zs.get=function(e){return Ji(this).then(function(t){return to(Zi(eo(t,!1)).get(e))}).then(function(e){return e&&e.value})},Zs.X=function(e){var t=!1,n=this;return ee(Ji(this).then(function(r){return t=!0,n.a++,to(Zi(eo(r,!0)).delete(e))}).then(function(){delete n.f[e]}),function(){t&&n.a--})},Zs.Bc=function(){var e=this;return Ji(this).then(function(e){var t=Zi(eo(e,!1));return t.getAll?to(t.getAll()):new q(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(Error(e.target.errorCode))}})}).then(function(t){var n={},r=[];if(0==e.a){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=Ut(e.f,n),e.f=n}return r})},Zs.ia=function(e){0==this.c.length&&no(this),this.c.push(e)},Zs.da=function(e){O(this.c,function(t){return t==e}),0==this.c.length&&this.b&&this.b.cancel("STOP_EVENT")},Zs=ro.prototype,Zs.get=function(e){var t=this;return X().then(function(){return un(t.a.getItem(e))})},Zs.set=function(e,t){var n=this;return X().then(function(){var r=an(t);null===r?n.X(e):n.a.setItem(e,r)})},Zs.X=function(e){var t=this;return X().then(function(){t.a.removeItem(e)})},Zs.ia=function(e){nu.window&&ke(nu.window,"storage",e)},Zs.da=function(e){nu.window&&Ie(nu.window,"storage",e)},Zs=ao.prototype,Zs.get=function(){return X(null)},Zs.set=function(){return X()},Zs.X=function(){return X()},Zs.ia=function(){},Zs.da=function(){},Zs=so.prototype,Zs.get=function(e){var t=this;return X().then(function(){return un(t.a.getItem(e))})},Zs.set=function(e,t){var n=this;return X().then(function(){var r=an(t);null===r?n.X(e):n.a.setItem(e,r)})},Zs.X=function(e){var t=this;return X().then(function(){t.a.removeItem(e)})},Zs.ia=function(){},Zs.da=function(){};var th,nh,rh={C:ro,kb:so},ih={C:ro,kb:so},oh={C:Qi,kb:ao},ah={Nc:"local",NONE:"none",Pc:"session"};Zs=fo.prototype,Zs.get=function(e,t){return vo(this,e.C).get(go(e,t))},Zs.set=function(e,t,n){var r=go(e,n),i=this,o=vo(this,e.C);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.C&&(i.b[r]=t)})},Zs.addListener=function(e,t,n){e=go(e,t),this.l&&(this.b[e]=nu.localStorage.getItem(e)),U(this.a)&&(vo(this,"local").ia(this.f),this.h||Lt()||!this.l||yo(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},Zs.removeListener=function(e,t,n){e=go(e,t),this.a[e]&&(O(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),U(this.a)&&(vo(this,"local").da(this.f),_o(this))},Zs.Ib=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=nu.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Ta(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?vo(this,"local").da(this.f):_o(this),this.m)if(n=nu.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?nu.localStorage.setItem(t,r):nu.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===nu.localStorage.getItem(t)||(o.b[t]=nu.localStorage.getItem(t),o.Ta(t))},Mu&&Ku&&10==Ku&&nu.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else lu(e,f(this.Ta,this))},Zs.Ta=function(e){this.a[e]&&lu(this.a[e],function(e){e()})};var sh,uh={name:"authEvent",C:"local"};p(So,Eo);for(var lh=64,ch=lh-1,hh=[],fh=0;fh<ch;fh++)hh[fh]=0;var dh=I(128,hh);So.prototype.reset=function(){this.g=this.c=0,this.a=nu.Int32Array?new Int32Array(this.h):P(this.h)};var ph=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];p(No,So);var vh=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Zs=xo.prototype,Zs.ba=function(){return this.ya?this.ya:this.ya=zt().then(function(){if("function"!==typeof Zt("universalLinks.subscribe",nu))throw Oo("cordova-universal-links-plugin is not installed");if("undefined"===typeof Zt("BuildInfo.packageName",nu))throw Oo("cordova-plugin-buildinfo is not installed");if("function"!==typeof Zt("cordova.plugins.browsertab.openUrl",nu))throw Oo("cordova-plugin-browsertab is not installed");if("function"!==typeof Zt("cordova.InAppBrowser.open",nu))throw Oo("cordova-plugin-inappbrowser is not installed")},function(){throw new Sn("cordova-not-ready")})},Zs.Da=function(e,t){return t(new Sn("operation-not-supported-in-this-environment")),X()},Zs.wb=function(){return Y(new Sn("operation-not-supported-in-this-environment"))},Zs.Jb=function(){return!1},Zs.Eb=function(){return!0},Zs.zb=function(){return!0},Zs.Ba=function(e,t,n){if(this.c)return Y(new Sn("redirect-operation-pending"));var r=this,i=nu.document,o=null,a=null,s=null,u=null;return this.c=ee(X().then(function(){return ur(t),Do(r)}).then(function(){return Ao(r,e,t,n)}).then(function(){return new q(function(e,t){a=function(){var t=Zt("cordova.plugins.browsertab.close",nu);return e(),"function"===typeof t&&t(),r.a&&"function"===typeof r.a.close&&(r.a.close(),r.a=null),!1},r.va(a),s=function(){o||(o=Ke(2e3).then(function(){t(new Sn("redirect-cancelled-by-user"))}))},u=function(){pn()&&s()},i.addEventListener("resume",s,!1),Jt().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",u,!1)}).o(function(e){return Lo(r).then(function(){throw e})})}),function(){s&&i.removeEventListener("resume",s,!1),u&&i.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),a&&r.Ja(a),r.c=null})},Zs.va=function(e){this.b.push(e),Do(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new lr("unknown",null,null,null,new Sn("no-auth-event")),e(t))})},Zs.Ja=function(e){O(this.b,function(t){return t==e})};var gh={name:"pendingRedirect",C:"session"};Bo.prototype.reset=function(){this.f=!1,this.a.Ja(this.i),this.a=Vo(this.v,this.l,this.u)},Bo.prototype.subscribe=function(e){if(N(this.h,e)||this.h.push(e),!this.f){var t=this;Wo(this.g).then(function(e){e?jo(t.g).then(function(){Ho(t).o(function(e){var n=new lr("unknown",null,null,null,new Sn("operation-not-supported-in-this-environment"));qo(e)&&t.m(n)})}):Ko(t)}).o(function(){Ko(t)})}},Bo.prototype.unsubscribe=function(e){O(this.h,function(t){return t==e})},Bo.prototype.m=function(e){if(!e)throw new Sn("invalid-auth-event");for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.pb(e.b,e.c)){(t=this.b[e.b])&&t.h(e,r),t=!0;break}}return Xo(this.c),t};var mh=new dn(2e3,1e4),yh=new dn(3e4,6e4);Bo.prototype.aa=function(){return this.c.aa()},Bo.prototype.Ba=function(e,t,n){var r,i=this;return Uo(this.g).then(function(){return i.a.Ba(e,t,n).o(function(e){if(qo(e))throw new Sn("operation-not-supported-in-this-environment");return r=e,jo(i.g).then(function(){throw r})}).then(function(){return i.a.Jb()?new q(function(){}):jo(i.g).then(function(){return i.aa()}).then(function(){}).o(function(){})})})},Bo.prototype.Da=function(e,t,n,r){return this.a.Da(n,function(n){e.fa(t,null,n,r)},mh.get())};var _h={};Qo.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Qo.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.b,r=e.c,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;"unknown"!=n||i||o?e.a?(Zo(this,!0,null,e.a),X()):t.wa(n,r)?Yo(this,e,t):Y(new Sn("invalid-auth-event")):(Zo(this,!1,null,null),X())}else Y(new Sn("invalid-auth-event"))},Qo.prototype.aa=function(){var e=this;return new q(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),ea(e))})},ta.prototype.h=function(e,t){if(e){var n=e.b,r=e.c;e.a?(t.fa(e.b,null,e.a,e.c),X()):t.wa(n,r)?na(e,t):Y(new Sn("invalid-auth-event"))}else Y(new Sn("invalid-auth-event"))},ra.prototype.confirm=function(e){return e=ar(this.verificationId,e),this.a(e)},oa.prototype.start=function(){this.a=this.c,sa(this,!0)},la.prototype.A=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},la.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Y(new Sn("user-token-expired")):e||!this.b||ou()>this.c-3e4?this.a?fa(this,{grant_type:"refresh_token",refresh_token:this.a}):X(null):X({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},da.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},p(ga,_e),p(ma,Ue),ma.prototype.na=function(e){this.ha=e,li(this.c,e)},ma.prototype.$=function(){return this.ha},ma.prototype.Ka=function(){return P(this.R)},ma.prototype.Ga=function(){this.l.b&&(ua(this.l),this.l.start())},mn(ma.prototype,"providerId","firebase"),Zs=ma.prototype,Zs.reload=function(){var e=this;return Ga(this,Pa(this).then(function(){return Fa(e).then(function(){return Na(e)}).then(Ia)}))},Zs.F=function(e){var t=this;return Ga(this,Pa(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new Sn("internal-error");return e.accessToken!=t.qa&&(Ta(t,e.accessToken),je(t,new ga("tokenChanged"))),La(t,"refreshToken",e.refreshToken),e.accessToken}))},Zs.getToken=function(e){return Sl["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(Sl["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(e)},Zs.nc=function(e){if(!(e=e.users)||!e.length)throw new Sn("internal-error");e=e[0],Oa(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=Wa(e),n=0;n<t.length;n++)Ra(this,t[n]);La(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length))},Zs.$a=function(e){var t=this,n=null;return Ga(this,e.c(this.c,this.uid).then(function(e){return Ua(t,e),n=Va(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},Zs.oc=function(e){return this.$a(e).then(function(){})},Zs.Ya=function(e){var t=this,n=null;return Ga(this,Ba(this,e.providerId).then(function(){return t.F()}).then(function(n){return e.b(t.c,n)}).then(function(e){return n=Va(t,e,"link"),Ha(t,e)}).then(function(){return n}))},Zs.ec=function(e){return this.Ya(e).then(function(e){return e.user})},Zs.fc=function(e,t){var n=this;return Ga(this,Ba(this,"phone").then(function(){return ia(wa(n),e,t,f(n.Ya,n))}))},Zs.pc=function(e,t){var n=this;return Ga(this,X().then(function(){return ia(wa(n),e,t,f(n.$a,n))}),!0)},Zs.lb=function(e){var t=this;return Ga(this,this.F().then(function(n){return t.c.lb(n,e)}).then(function(e){return Ua(t,e),t.reload()}))},Zs.Fc=function(e){var t=this;return Ga(this,this.F().then(function(n){return e.b(t.c,n)}).then(function(e){return Ua(t,e),t.reload()}))},Zs.mb=function(e){var t=this;return Ga(this,this.F().then(function(n){return t.c.mb(n,e)}).then(function(e){return Ua(t,e),t.reload()}))},Zs.nb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Pa(this);var t=this;return Ga(this,this.F().then(function(n){return t.c.nb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Ua(t,e),La(t,"displayName",e.displayName||null),La(t,"photoURL",e.photoUrl||null),lu(t.providerData,function(e){"password"===e.providerId&&(mn(e,"displayName",t.displayName),mn(e,"photoURL",t.photoURL))}),Na(t)}).then(Ia))},Zs.Ec=function(e){var t=this;return Ga(this,Fa(this).then(function(n){return N(Aa(t),e)?Ci(t.c,n,[e]).then(function(e){var n={};return lu(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),lu(Aa(t),function(e){n[e]||Da(t,e)}),n[or.PROVIDER_ID]||mn(t,"phoneNumber",null),Na(t)}):Na(t).then(function(){throw new Sn("no-such-provider")})}))},Zs.delete=function(){var e=this;return Ga(this,this.F().then(function(t){return Oi(e.c,Oc,{idToken:t})}).then(function(){je(e,new ga("userDeleted"))})).then(function(){for(var t=0;t<e.B.length;t++)e.B[t].cancel("app-deleted");ya(e,null),ba(e,null),e.B=[],e.m=!0,Sa(e),mn(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)})},Zs.pb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.Z||null)==t||"reauthViaRedirect"==e&&(this.Z||null)==t)},Zs.fa=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},Zs.wa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?f(this.ub,this):"reauthViaPopup"==e&&t==(this.g||null)?f(this.vb,this):"linkViaRedirect"==e&&(this.Z||null)==t?f(this.ub,this):"reauthViaRedirect"==e&&(this.Z||null)==t?f(this.vb,this):null},Zs.gc=function(e){var t=this;return Ka(this,"linkViaPopup",e,function(){return Ba(t,e.providerId).then(function(){return Na(t)})},!1)},Zs.qc=function(e){return Ka(this,"reauthViaPopup",e,function(){return X()},!0)},Zs.hc=function(e){var t=this;return za(this,"linkViaRedirect",e,function(){return Ba(t,e.providerId)},!1)},Zs.rc=function(e){return za(this,"reauthViaRedirect",e,function(){return X()},!0)},Zs.ub=function(e,t){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return Ga(this,this.F().then(function(r){return ki(n.c,{requestUri:e,sessionId:t,idToken:r})}).then(function(e){return r=Va(n,e,"link"),Ha(n,e)}).then(function(){return r}))},Zs.vb=function(e,t){var n=this;this.b&&(this.b.cancel(),this.b=null);var r=null;return Ga(this,X().then(function(){return Vn(Ni(n.c,{requestUri:e,sessionId:t}),n.uid)}).then(function(e){return r=Va(n,e,"reauthenticate"),Ua(n,e),n.i=null,n.reload()}).then(function(){return r}),!0)},Zs.cb=function(e){var t=this,n=null;return Ga(this,this.F().then(function(t){return n=t,"undefined"===typeof e||U(e)?{}:Nn(new kn(e))}).then(function(e){return t.c.cb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},Zs.toJSON=function(){return this.A()},Zs.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.s,authDomain:this.w,stsTokenManager:this.h.A(),redirectEventId:this.Z||null};return this.metadata&&W(e,this.metadata.A()),lu(this.providerData,function(t){e.providerData.push(bn(t))}),e};var bh={name:"redirectUser",C:"session"};es.prototype.g=function(){var e=this,t=rs("local");us(this,function(){return X().then(function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null}).then(function(n){if(n)return ts(e,"local").then(function(){e.c=t})})})};var wh={name:"persistence",C:"session"};es.prototype.fb=function(e){var t=null,n=this;return ho(e),us(this,function(){return e!=n.c.C?n.b.get(n.c,n.a).then(function(r){return t=r,ts(n,e)}).then(function(){if(n.c=rs(e),t)return n.b.set(n.c,t,n.a)}):X()})},p(ls,Ue),p(cs,_e),p(hs,_e),Zs=ls.prototype,Zs.fb=function(e){return e=this.h.fb(e),ks(this,e)},Zs.na=function(e){this.V===e||this.l||(this.V=e,li(this.c,this.V),je(this,new cs(this.$())))},Zs.$=function(){return this.V},Zs.Gc=function(){var e=nu.navigator;this.na(e?e.languages&&e.languages[0]||e.language||e.userLanguage||null:null)},Zs.ic=function(e){this.B.push(e),ci(this.c,eu.SDK_VERSION?$t(eu.SDK_VERSION,this.B):null),je(this,new hs(this.B))},Zs.Ka=function(){return P(this.B)},Zs.toJSON=function(){return{apiKey:ws(this).options.apiKey,authDomain:ws(this).options.authDomain,appName:ws(this).name,currentUser:Cs(this)&&Cs(this).A()}},Zs.pb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},Zs.fa=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},Zs.wa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?f(this.Ub,this):null},Zs.Ub=function(e,t){var n=this;e={requestUri:e,sessionId:t},this.b&&(this.b.cancel(),this.b=null);var r=null,i=null,o=Ti(n.c,e).then(function(e){return r=sr(e),i=Ln(e),e});return e=n.U.then(function(){return o}).then(function(e){return vs(n,e)}).then(function(){return _n({user:Cs(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),ks(this,e)},Zs.yc=function(e){if(!tn())return Y(new Sn("operation-not-supported-in-this-environment"));var t=this,n=Dn(e.providerId),r=ln(),i=null;(!on()||Gt())&&ws(this).options.authDomain&&e.isOAuthProvider&&(i=zi(ws(this).options.authDomain,ws(this).options.apiKey,ws(this).name,"signInViaPopup",e,null,r,eu.SDK_VERSION||null));var o=Vt(i,n&&n.Aa,n&&n.za);return n=ds(this).then(function(t){return zo(t,o,"signInViaPopup",e,r,!!i)}).then(function(){return new q(function(e,n){t.fa("signInViaPopup",null,new Sn("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=r,t.b=t.a.Da(t,"signInViaPopup",o,r)})}).then(function(e){return o&&Bt(o),e?_n(e):null}).o(function(e){throw o&&Bt(o),e}),ks(this,n)},Zs.zc=function(e){if(!tn())return Y(new Sn("operation-not-supported-in-this-environment"));var t=this;return ks(this,ds(this).then(function(){return is(t.h)}).then(function(){return t.a.Ba("signInViaRedirect",e)}))},Zs.aa=function(){if(!tn())return Y(new Sn("operation-not-supported-in-this-environment"));var e=this;return ks(this,ds(this).then(function(){return e.a.aa()}).then(function(e){return e?_n(e):null}))},Zs.ib=function(){var e=this;return ks(this,this.i.then(function(){return Cs(e)?(gs(e,null),as(e.h).then(function(){Ss(e)})):X()}))},Zs.Ac=function(){var e=this;return ss(this.h,ws(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=Cs(e)&&t){n=Cs(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ma(Cs(e),t),Cs(e).F();(Cs(e)||t)&&(gs(e,t),t&&(xa(t),t.ca=e.G),e.a&&e.a.subscribe(e),Ss(e))}})},Zs.ka=function(e){return os(this.h,e)},Zs.Vb=function(){Ss(this),this.ka(Cs(this))},Zs.ac=function(){this.ib()},Zs.bc=function(){this.ib()},Zs.cc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(Cs(t))})},Zs.dc=function(e){var t=this;Ts(this,function(){e.next(Cs(t))})},Zs.kc=function(e,t,n){var r=this;return this.W&&eu.Promise.resolve().then(function(){u(e)?e(Cs(r)):u(e.next)&&e.next(Cs(r))}),this.Mb(e,t,n)},Zs.jc=function(e,t,n){var r=this;return this.W&&eu.Promise.resolve().then(function(){r.R=r.getUid(),u(e)?e(Cs(r)):u(e.next)&&e.next(Cs(r))}),this.Nb(e,t,n)},Zs.Xb=function(e){var t=this;return ks(this,this.i.then(function(){return Cs(t)?Cs(t).F(e).then(function(e){return{accessToken:e}}):null}))},Zs.vc=function(e){return this.Fb(e).then(function(e){return e.user})},Zs.Fb=function(e){var t=this;return this.i.then(function(){return bs(t,Oi(t.c,Kc,{token:e}))}).then(function(e){var n=e.user;return La(n,"isAnonymous",!1),t.ka(n),e})},Zs.Gb=function(e,t){var n=this;return this.i.then(function(){return bs(n,Oi(n.c,zc,{email:e,password:t}))})},Zs.wc=function(e,t){return this.Gb(e,t).then(function(e){return e.user})},Zs.Qb=function(e,t){return this.rb(e,t).then(function(e){return e.user})},Zs.rb=function(e,t){var n=this;return this.i.then(function(){return bs(n,Oi(n.c,Nc,{email:e,password:t}))})},Zs.uc=function(e){return this.gb(e).then(function(e){return e.user})},Zs.gb=function(e){var t=this;return this.i.then(function(){return bs(t,e.xa(t.c))})},Zs.hb=function(){return this.Hb().then(function(e){return e.user})},Zs.Hb=function(){var e=this;return this.i.then(function(){var t=Cs(e);if(t&&t.isAnonymous){return _n({user:t,credential:null,additionalUserInfo:_n({providerId:null,isNewUser:!1}),operationType:"signIn"})}return bs(e,e.c.hb()).then(function(t){var n=t.user;return La(n,"isAnonymous",!0),e.ka(n),t})})},Zs.getUid=function(){return Cs(this)&&Cs(this).uid||null},Zs.Ob=function(e){this.addAuthTokenListener(e),0<++this.s&&Cs(this)&&Ea(Cs(this))},Zs.sc=function(e){var t=this;lu(this.m,function(n){n==e&&t.s--}),0>this.s&&(this.s=0),0==this.s&&Cs(this)&&Sa(Cs(this)),this.removeAuthTokenListener(e)},Zs.addAuthTokenListener=function(e){var t=this;this.m.push(e),ks(this,this.i.then(function(){t.l||N(t.m,e)&&e(Es(t))}))},Zs.removeAuthTokenListener=function(e){O(this.m,function(t){return t==e})},Zs.delete=function(){this.l=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h,e.b.removeListener(rs("local"),e.a,this.ha)),this.a&&this.a.unsubscribe(this),eu.Promise.resolve()},Zs.Tb=function(e){return ks(this,mi(this.c,e))},Zs.Hc=function(e){return this.Ia(e).then(function(e){return e.data.email})},Zs.Ua=function(e,t){return ks(this,this.c.Ua(e,t).then(function(){}))},Zs.Ia=function(e){return ks(this,this.c.Ia(e).then(function(e){return new En(e)}))},Zs.Sa=function(e){return ks(this,this.c.Sa(e).then(function(){}))},Zs.eb=function(e,t){var n=this;return ks(this,X().then(function(){return"undefined"===typeof t||U(t)?{}:Nn(new kn(t))}).then(function(t){return n.c.eb(e,t)}).then(function(){}))},Zs.xc=function(e,t){return ks(this,ia(this,e,t,f(this.gb,this)))};var Ch="callback",Eh="expired-callback",Sh="sitekey",Th="size";Zs=Ns.prototype,Zs.ya=function(){var e=this;return this.c?this.c:this.c=Is(this,X().then(function(){if(nn())return Kt();throw new Sn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return Rs(Ds(),e.s())}).then(function(){return Oi(e.u,Lc,{})}).then(function(t){e.a[Sh]=t.recaptchaSiteKey}).o(function(t){throw e.c=null,t}))},Zs.render=function(){Ps(this);var e=this;return Is(this,this.ya().then(function(){if(null===e.b){var t=e.l;if(!e.h){var n=$r(t);t=Zr("DIV"),n.appendChild(t)}e.b=grecaptcha.render(t,e.a)}return e.b}))},Zs.verify=function(){Ps(this);var e=this;return Is(this,this.render().then(function(t){return new q(function(n){var r=grecaptcha.getResponse(t);if(r)n(r);else{var i=function(t){t&&(Os(e,i),n(t))};e.i.push(i),e.h&&grecaptcha.execute(e.b)}})}))},Zs.reset=function(){Ps(this),null!==this.b&&grecaptcha.reset(this.b)},Zs.clear=function(){Ps(this),this.m=!0,Ds().b--;for(var e=0;e<this.g.length;e++)this.g[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){e=$r(this.l);for(var t;t=e.firstChild;)e.removeChild(t)}};var kh=_t("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Nh=null;p(Ls,Ns);var xh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");Xs(ls.prototype,{Sa:{name:"applyActionCode",j:[Fs("code")]},Ia:{name:"checkActionCode",j:[Fs("code")]},Ua:{name:"confirmPasswordReset",j:[Fs("code"),Fs("newPassword")]},Qb:{name:"createUserWithEmailAndPassword",j:[Fs("email"),Fs("password")]},rb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Fs("email"),Fs("password")]},Tb:{name:"fetchProvidersForEmail",j:[Fs("email")]},aa:{name:"getRedirectResult",j:[]},jc:{name:"onAuthStateChanged",j:[Qs(js(),Ws(),"nextOrObserver"),Ws("opt_error",!0),Ws("opt_completed",!0)]},kc:{name:"onIdTokenChanged",j:[Qs(js(),Ws(),"nextOrObserver"),Ws("opt_error",!0),Ws("opt_completed",!0)]},eb:{name:"sendPasswordResetEmail",j:[Fs("email"),Qs(js("opt_actionCodeSettings",!0),Bs(null,!0),"opt_actionCodeSettings",!0)]},fb:{name:"setPersistence",j:[Fs("persistence")]},gb:{name:"signInAndRetrieveDataWithCredential",j:[zs()]},hb:{name:"signInAnonymously",j:[]},Hb:{name:"signInAnonymouslyAndRetrieveData",j:[]},uc:{name:"signInWithCredential",j:[zs()]},vc:{name:"signInWithCustomToken",j:[Fs("token")]},Fb:{name:"signInAndRetrieveDataWithCustomToken",j:[Fs("token")]},wc:{name:"signInWithEmailAndPassword",j:[Fs("email"),Fs("password")]},Gb:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Fs("email"),Fs("password")]},xc:{name:"signInWithPhoneNumber",j:[Fs("phoneNumber"),Gs()]},yc:{name:"signInWithPopup",j:[qs()]},zc:{name:"signInWithRedirect",j:[qs()]},ib:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Fs(null,!0)]},Gc:{name:"useDeviceLanguage",j:[]},Hc:{name:"verifyPasswordResetCode",j:[Fs("code")]}}),function(e,t){for(var n in t){var r=t[n].name;if(r!==n){var i=t[n].Pb;Object.defineProperty(e,r,{get:function(){return this[n]},set:function(e){Ms(r,[i],[e],!0),this[n]=e},enumerable:!0})}}}(ls.prototype,{lc:{name:"languageCode",Pb:Qs(Fs(),Bs(),"languageCode")}}),ls.Persistence=ah,ls.Persistence.LOCAL="local",ls.Persistence.SESSION="session",ls.Persistence.NONE="none",Xs(ma.prototype,{delete:{name:"delete",j:[]},F:{name:"getIdToken",j:[Us()]},getToken:{name:"getToken",j:[Us()]},Ya:{name:"linkAndRetrieveDataWithCredential",j:[zs()]},ec:{name:"linkWithCredential",j:[zs()]},fc:{name:"linkWithPhoneNumber",j:[Fs("phoneNumber"),Gs()]},gc:{name:"linkWithPopup",j:[qs()]},hc:{name:"linkWithRedirect",j:[qs()]},$a:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zs()]},oc:{name:"reauthenticateWithCredential",j:[zs()]},pc:{name:"reauthenticateWithPhoneNumber",j:[Fs("phoneNumber"),Gs()]},qc:{name:"reauthenticateWithPopup",j:[qs()]},rc:{name:"reauthenticateWithRedirect",j:[qs()]},reload:{name:"reload",j:[]},cb:{name:"sendEmailVerification",j:[Qs(js("opt_actionCodeSettings",!0),Bs(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Fs(null,!0)]},Ec:{name:"unlink",j:[Fs("provider")]},lb:{name:"updateEmail",j:[Fs("email")]},mb:{name:"updatePassword",j:[Fs("password")]},Fc:{name:"updatePhoneNumber",j:[zs("phone")]},nb:{name:"updateProfile",j:[js("profile")]}}),Xs(q.prototype,{o:{name:"catch"},then:{name:"then"}}),Xs(ra.prototype,{confirm:{name:"confirm",j:[Fs("verificationCode")]}}),Ys(nr,"credential",function(e,t){return new tr(e,t)},[Fs("email"),Fs("password")]),Xs(Gn.prototype,{ta:{name:"addScope",j:[Fs("scope")]},Ca:{name:"setCustomParameters",j:[js("customOAuthParameters")]}}),Ys(Gn,"credential",Qn,[Qs(Fs(),js(),"token")]),Xs(Xn.prototype,{ta:{name:"addScope",j:[Fs("scope")]},Ca:{name:"setCustomParameters",j:[js("customOAuthParameters")]}}),Ys(Xn,"credential",Yn,[Qs(Fs(),js(),"token")]),Xs($n.prototype,{ta:{name:"addScope",j:[Fs("scope")]},Ca:{name:"setCustomParameters",j:[js("customOAuthParameters")]}}),Ys($n,"credential",Jn,[Qs(Fs(),Qs(js(),Bs()),"idToken"),Qs(Fs(),Bs(),"accessToken",!0)]),Xs(Zn.prototype,{Ca:{name:"setCustomParameters",j:[js("customOAuthParameters")]}}),Ys(Zn,"credential",er,[Qs(Fs(),js(),"token"),Fs("secret",!0)]),Xs(qn.prototype,{ta:{name:"addScope",j:[Fs("scope")]},credential:{name:"credential",j:[Qs(Fs(),Bs(),"idToken",!0),Qs(Fs(),Bs(),"accessToken",!0)]},Ca:{name:"setCustomParameters",j:[js("customOAuthParameters")]}}),Ys(or,"credential",ar,[Fs("verificationId"),Fs("verificationCode")]),Xs(or.prototype,{Qa:{name:"verifyPhoneNumber",j:[Fs("phoneNumber"),Gs()]}}),Xs(Sn.prototype,{toJSON:{name:"toJSON",j:[Fs(null,!0)]}}),Xs(dr.prototype,{toJSON:{name:"toJSON",j:[Fs(null,!0)]}}),Xs(fr.prototype,{toJSON:{name:"toJSON",j:[Fs(null,!0)]}}),Xs(Ls.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"===typeof eu||!eu.INTERNAL||!eu.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:ls,Error:Sn};Ys(e,"EmailAuthProvider",nr,[]),Ys(e,"FacebookAuthProvider",Gn,[]),Ys(e,"GithubAuthProvider",Xn,[]),Ys(e,"GoogleAuthProvider",$n,[]),Ys(e,"TwitterAuthProvider",Zn,[]),Ys(e,"OAuthProvider",qn,[Fs("providerId")]),Ys(e,"PhoneAuthProvider",or,[Hs()]),Ys(e,"RecaptchaVerifier",Ls,[Qs(Fs(),Vs(),"recaptchaContainer"),js("recaptchaParameters",!0),Ks()]),eu.INTERNAL.registerService("auth",function(e,t){return e=new ls(e),t({INTERNAL:{getUid:f(e.getUid,e),getToken:f(e.Xb,e),addAuthTokenListener:f(e.Ob,e),removeAuthTokenListener:f(e.sc,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),eu.INTERNAL.extendNamespace({User:ma})}()}).call("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(t,n(15))},function(e,t,n){e.exports=n(141)},function(e,t,n){"use strict";function r(t){var n=t.INTERNAL.registerService("database",function(e,t,n){return l.RepoManager.getInstance().databaseFromApp(e,n)},{Reference:s.Reference,Query:a.Query,Database:o.Database,enableLogging:u.enableLogging,INTERNAL:c,ServerValue:d,TEST_ACCESS:h},null,!0);f.isNodeSdk()&&(e.exports=n)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=n(55);t.Database=o.Database;var a=n(60);t.Query=a.Query;var s=n(36);t.Reference=s.Reference;var u=n(1);t.enableLogging=u.enableLogging;var l=n(41),c=n(174),h=n(175),f=n(0),d=o.Database.ServerValue;t.ServerValue=d,t.registerDatabase=r,r(i.default);var p=n(37);t.DataSnapshot=p.DataSnapshot;var v=n(59);t.OnDisconnect=v.OnDisconnect},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),r.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:r.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}();t.DOMStorageWrapper=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return r.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}();t.MemoryStorage=i},function(e,t,n){"use strict";function r(e){i.c.forEach(function(t){t.logLevel=e})}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=r;var i=n(56);n.d(t,"Logger",function(){return i.b}),n.d(t,"LogLevel",function(){return i.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return r.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();t.TransactionResult=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.nextPushId=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(i){var o=i===t;t=i;var a,s=new Array(8);for(a=7;a>=0;a--)s[a]=e.charAt(i%64),i=Math.floor(i/64);r.assert(0===i,"Cannot push at time == 0");var u=s.join("");if(o){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)u+=e.charAt(n[a]);return r.assert(20===u.length,"nextPushId: Length should be 20."),u}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i=n(148),o=n(0),a=n(0),s=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new i.DataEvent("value",this,new r.DataSnapshot(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new i.CancelEvent(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}();t.ValueEventRegistration=s;var u=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,o.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new i.CancelEvent(this,e,t):null},e.prototype.createEvent=function(e,t){a.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),o=t.getQueryParams().getIndex();return new i.DataEvent(e.type,this,new r.DataSnapshot(e.snapshotNode,n,o),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=o.getCount(t.callbacks_);if(n===o.getCount(this.callbacks_)){if(1===n){var r=o.getAnyKey(t.callbacks_),i=o.getAnyKey(this.callbacks_);return i===r&&(!t.callbacks_[r]||!this.callbacks_[i]||t.callbacks_[r]===this.callbacks_[i])}return o.every(this.callbacks_,function(e,n){return t.callbacks_[e]===n})}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}();t.ChildEventRegistration=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+r.stringify(this.snapshot.exportVal())},e}();t.DataEvent=i;var o=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();t.CancelEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(150),a=n(5),s=n(0),u=n(38),l=n(151),c=n(152),h=n(12),f=n(70),d=n(2),p=n(71),v=n(158),g=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=u.ImmutableTree.Empty,this.pendingWriteTree_=new v.WriteTree,this.tagToQueryMap_={},this.queryToTagMap_={}}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new f.Overwrite(h.OperationSource.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=u.ImmutableTree.fromObject(t);return this.applyOperationToSyncPoints_(new c.Merge(h.OperationSource.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=u.ImmutableTree.Empty;return null!=n.snap?r=r.set(d.Path.Empty,!0):s.forEach(n.children,function(e,t){r=r.set(new d.Path(e),t)}),this.applyOperationToSyncPoints_(new o.AckUserWrite(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new f.Overwrite(h.OperationSource.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=u.ImmutableTree.fromObject(t);return this.applyOperationToSyncPoints_(new c.Merge(h.OperationSource.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new l.ListenComplete(h.OperationSource.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=d.Path.relativePath(a,t),l=new f.Overwrite(h.OperationSource.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,l=d.Path.relativePath(a,t),f=u.ImmutableTree.fromObject(n),p=new c.Merge(h.OperationSource.forServerTaggedQuery(s),l,f);return this.applyTaggedOperation_(a,p)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,a=i.queryId,s=d.Path.relativePath(o,t),u=new l.ListenComplete(h.OperationSource.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var i=t.path,o=null,s=!1;this.syncPointTree_.foreachOnPath(i,function(e,t){var n=d.Path.relativePath(e,i);o=o||t.getCompleteServerCache(n),s=s||t.hasCompleteView()});var u=this.syncPointTree_.get(i);u?(s=s||u.hasCompleteView(),o=o||u.getCompleteServerCache(d.Path.Empty)):(u=new p.SyncPoint,this.syncPointTree_=this.syncPointTree_.set(i,u));var l;if(null!=o)l=!0;else{l=!1,o=a.ChildrenNode.EMPTY_NODE;this.syncPointTree_.subtree(i).foreachChild(function(e,t){var n=t.getCompleteServerCache(d.Path.Empty);n&&(o=o.updateImmediateChild(e,n))})}var c=u.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var h=e.makeQueryKey_(t);r.assert(!(h in this.queryToTagMap_),"View does not exist, but we have a tag");var f=e.getNextQueryTag_();this.queryToTagMap_[h]=f,this.tagToQueryMap_["_"+f]=h}var v=this.pendingWriteTree_.childWrites(i),g=u.addEventRegistration(t,n,v,o,l);if(!c&&!s){var m=u.viewForQuery(t);g=g.concat(this.setupListener_(t,m))}return g},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex(function(e){return e.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(e,t){return t.hasCompleteView()});if(c&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],g=v.getQuery(),m=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(g),this.tagForQuery_(g),m.hashFn,m.onComplete)}}if(!h&&l.length>0&&!r)if(c){this.listenProvider_.stopListening(e.queryForListening_(t),null)}else l.forEach(function(t){var n=i.queryToTagMap_[e.makeQueryKey_(t)];i.listenProvider_.stopListening(e.queryForListening_(t),n)});this.removeTags_(l)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,function(t,n){var r=d.Path.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView()){return[t.getCompleteView()]}var r=[];return t&&(r=t.getQueryViews()),s.forEach(n,function(e,t){r=r.concat(t)}),r})},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var i=t.path,o=this.tagForQuery_(t),a=this.createListenerForView_(n),u=this.listenProvider_.startListening(e.queryForListening_(t),o,a.hashFn,a.onComplete),l=this.syncPointTree_.subtree(i);if(o)r.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),s.forEach(n,function(e,t){r=r.concat(t)}),r}),h=0;h<c.length;++h){var f=c[h];this.listenProvider_.stopListening(e.queryForListening_(f),this.tagForQuery_(f))}return u},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||a.ChildrenNode.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var o=i.errorForServerCode(e,n);return t.removeEventRegistration(n,null,o)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return r.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new d.Path(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return s.safeGet(this.queryToTagMap_,n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);r.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,i,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(d.Path.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(d.Path.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(d.Path.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(d.Path.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(d.Path.Empty));var a=[];return t.children.inorderTraversal(function(t,o){var s=n?n.getImmediateChild(t):null,u=r.child(t),l=e.operationForChild(t);l&&(a=a.concat(i.applyOperationDescendantsHelper_(l,o,s,u)))}),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.nextQueryTag_=1,e}();t.SyncTree=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(12),a=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=o.OperationType.ACK_USER_WRITE,this.source=o.OperationSource.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return r.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new i.Path(t));return new e(i.Path.Empty,n,this.revert)}return r.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}();t.AckUserWrite=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(12),o=function(){function e(e,t){this.source=e,this.path=t,this.type=i.OperationType.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,r.Path.Empty):new e(this.source,this.path.popFront())},e}();t.ListenComplete=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(70),o=n(2),a=n(0),s=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=r.OperationType.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new o.Path(t));return n.isEmpty()?null:n.value?new i.Overwrite(this.source,o.Path.Empty,n.value):new e(this.source,o.Path.Empty,n)}return a.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();t.Merge=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),i=n(154),o=n(5),a=n(29),s=n(72),u=n(157),l=n(0),c=n(12),h=n(16),f=n(4),d=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),l=new r.IndexedFilter(n.getIndex()),c=n.getNodeFilter();this.processor_=new i.ViewProcessor(c);var h=t.getServerCache(),f=t.getEventCache(),d=l.updateFullNode(o.ChildrenNode.EMPTY_NODE,h.getNode(),null),p=c.updateFullNode(o.ChildrenNode.EMPTY_NODE,f.getNode(),null),v=new a.CacheNode(d,h.isFullyInitialized(),l.filtersNodes()),g=new a.CacheNode(p,f.isFullyInitialized(),c.filtersNodes());this.viewCache_=new s.ViewCache(g,v),this.eventGenerator_=new u.EventGenerator(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){l.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var i=e.createCancelEvent(t,r);i&&n.push(i)})}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===c.OperationType.MERGE&&null!==e.source.queryId&&(l.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),l.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),l.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];if(!t.getNode().isLeafNode()){t.getNode().forEachChild(f.PRIORITY_INDEX,function(e,t){n.push(h.Change.childAddedChange(e,t))})}return t.isFullyInitialized()&&n.push(h.Change.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}();t.View=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(0),o=n(155),a=n(16),s=n(5),u=n(18),l=n(38),c=n(2),h=n(156),f=function(){function e(e,t){this.viewCache=e,this.changes=t}return e}();t.ProcessorResult=f;var d=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){i.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),i.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,a,s){var u,l,c=new o.ChildChangeAccumulator;if(n.type===r.OperationType.OVERWRITE){var h=n;h.source.fromUser?u=this.applyUserOverwrite_(t,h.path,h.snap,a,s,c):(i.assert(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.getServerCache().isFiltered()&&!h.path.isEmpty(),u=this.applyServerOverwrite_(t,h.path,h.snap,a,s,l,c))}else if(n.type===r.OperationType.MERGE){var d=n;d.source.fromUser?u=this.applyUserMerge_(t,d.path,d.children,a,s,c):(i.assert(d.source.fromServer,"Unknown source."),l=d.source.tagged||t.getServerCache().isFiltered(),u=this.applyServerMerge_(t,d.path,d.children,a,s,l,c))}else if(n.type===r.OperationType.ACK_USER_WRITE){var p=n;u=p.revert?this.revertUserWrite_(t,p.path,a,s,c):this.ackUserWrite_(t,p.path,p.affectedTree,a,s,c)}else{if(n.type!==r.OperationType.LISTEN_COMPLETE)throw i.assertionError("Unknown operation type: "+n.type);u=this.listenComplete_(t,n.path,a,c)}var v=c.getChanges();return e.maybeAddValueEvent_(t,u,v),new f(u,v)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(a.Change.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,o){var a=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var u=void 0,l=void 0;if(t.isEmpty())if(i.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var c=e.getCompleteServerSnap(),h=c instanceof s.ChildrenNode?c:s.ChildrenNode.EMPTY_NODE,f=n.calcCompleteEventChildren(h);u=this.filter_.updateFullNode(e.getEventCache().getNode(),f,o)}else{var d=n.calcCompleteEventCache(e.getCompleteServerSnap());u=this.filter_.updateFullNode(e.getEventCache().getNode(),d,o)}else{var p=t.getFront();if(".priority"==p){i.assert(1==t.getLength(),"Can't have a priority with additional path components");var v=a.getNode();l=e.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(t,v,l);u=null!=g?this.filter_.updatePriority(v,g):a.getNode()}else{var m=t.popFront(),y=void 0;if(a.isCompleteForChild(p)){l=e.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(t,a.getNode(),l);y=null!=_?a.getNode().getImmediateChild(p).updateChild(m,_):a.getNode().getImmediateChild(p)}else y=n.calcCompleteChild(p,e.getServerCache());u=null!=y?this.filter_.updateChild(a.getNode(),p,y,m,r,o):a.getNode()}}return e.updateEventSnap(u,a.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s,u=e.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(t,n);s=l.updateFullNode(u.getNode(),c,null)}else{var f=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var d=t.popFront(),p=u.getNode().getImmediateChild(f),v=p.updateChild(d,n);s=".priority"==f?l.updatePriority(u.getNode(),v):l.updateChild(u.getNode(),f,v,d,h.NO_COMPLETE_CHILD_SOURCE,null)}var g=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),l.filtersNodes()),m=new h.WriteTreeCompleteChildSource(r,g,i);return this.generateEventCacheAfterServerEvent_(g,t,r,m,a)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a,u,l=e.getEventCache(),c=new h.WriteTreeCompleteChildSource(r,e,i);if(t.isEmpty())u=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(u,!0,this.filter_.filtersNodes());else{var f=t.getFront();if(".priority"===f)u=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(u,l.isFullyInitialized(),l.isFiltered());else{var d=t.popFront(),p=l.getNode().getImmediateChild(f),v=void 0;if(d.isEmpty())v=n;else{var g=c.getCompleteChild(f);v=null!=g?".priority"===d.getBack()&&g.getChild(d.parent()).isEmpty()?g:g.updateChild(d,n):s.ChildrenNode.EMPTY_NODE}if(p.equals(v))a=e;else{var m=this.filter_.updateChild(l.getNode(),f,v,d,c,o);a=e.updateEventSnap(m,l.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,a){var s=this,u=t;return r.foreach(function(r,l){var c=n.child(r);e.cacheHasChild_(t,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),r.foreach(function(r,l){var c=n.child(r);e.cacheHasChild_(t,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),u},e.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,h=e;u=t.isEmpty()?n:l.ImmutableTree.Empty.setTree(t,n);var f=e.getServerCache().getNode();return u.children.inorderTraversal(function(t,n){if(f.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),l=s.applyMerge_(u,n);h=s.applyServerOverwrite_(h,new c.Path(t),l,r,i,o,a)}}),u.children.inorderTraversal(function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!f.hasChild(t)&&!u){var l=e.getServerCache().getNode().getImmediateChild(t),d=s.applyMerge_(l,n);h=s.applyServerOverwrite_(h,new c.Path(t),d,r,i,o,a)}}),h},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var h=l.ImmutableTree.Empty;return s.getNode().forEachChild(u.KEY_INDEX,function(e,t){h=h.set(new c.Path(e),t)}),this.applyServerMerge_(e,t,h,r,i,a,o)}return e}var f=l.ImmutableTree.Empty;return n.foreach(function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(f=f.set(e,s.getNode().getChild(r)))}),this.applyServerMerge_(e,t,f,r,i,a,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,h.NO_COMPLETE_CHILD_SOURCE,r)},e.prototype.revertUserWrite_=function(e,t,n,r,o){var a;if(null!=n.shadowingWrite(t))return e;var u=new h.WriteTreeCompleteChildSource(n,e,r),l=e.getEventCache().getNode(),f=void 0;if(t.isEmpty()||".priority"===t.getFront()){var d=void 0;if(e.getServerCache().isFullyInitialized())d=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var p=e.getServerCache().getNode();i.assert(p instanceof s.ChildrenNode,"serverChildren would be complete if leaf node"),d=n.calcCompleteEventChildren(p)}d=d,f=this.filter_.updateFullNode(l,d,o)}else{var v=t.getFront(),g=n.calcCompleteChild(v,e.getServerCache());null==g&&e.getServerCache().isCompleteForChild(v)&&(g=l.getImmediateChild(v)),f=null!=g?this.filter_.updateChild(l,v,g,t.popFront(),u,o):e.getEventCache().getNode().hasChild(v)?this.filter_.updateChild(l,v,s.ChildrenNode.EMPTY_NODE,t.popFront(),u,o):l,f.isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(e.getCompleteServerSnap()),a.isLeafNode()&&(f=this.filter_.updateFullNode(f,a,o)))}return a=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(c.Path.Empty),e.updateEventSnap(f,a,this.filter_.filtersNodes())},e}();t.ViewProcessor=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(16),o=n(0),a=function(){function e(){this.changeMap_={}}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;o.assert(t==i.Change.CHILD_ADDED||t==i.Change.CHILD_CHANGED||t==i.Change.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var a=r.safeGet(this.changeMap_,n);if(a){var s=a.type;if(t==i.Change.CHILD_ADDED&&s==i.Change.CHILD_REMOVED)this.changeMap_[n]=i.Change.childChangedChange(n,e.snapshotNode,a.snapshotNode);else if(t==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_ADDED)delete this.changeMap_[n];else if(t==i.Change.CHILD_REMOVED&&s==i.Change.CHILD_CHANGED)this.changeMap_[n]=i.Change.childRemovedChange(n,a.oldSnap);else if(t==i.Change.CHILD_CHANGED&&s==i.Change.CHILD_ADDED)this.changeMap_[n]=i.Change.childAddedChange(n,e.snapshotNode);else{if(t!=i.Change.CHILD_CHANGED||s!=i.Change.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+e+" occurred after "+a);this.changeMap_[n]=i.Change.childChangedChange(n,e.snapshotNode,a.oldSnap)}}else this.changeMap_[n]=e},e.prototype.getChanges=function(){return r.getValues(this.changeMap_)},e}();t.ChildChangeAccumulator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}();t.NoCompleteChildSource_=i,t.NO_COMPLETE_CHILD_SOURCE=new i;var o=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new r.CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}();t.WriteTreeCompleteChildSource=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(16),o=n(0),a=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,o=[],a=[];return e.forEach(function(e){e.type===i.Change.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&a.push(i.Change.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(o,i.Change.CHILD_REMOVED,e,n,t),this.generateEventsForType_(o,i.Change.CHILD_ADDED,e,n,t),this.generateEventsForType_(o,i.Change.CHILD_MOVED,a,n,t),this.generateEventsForType_(o,i.Change.CHILD_CHANGED,e,n,t),this.generateEventsForType_(o,i.Change.VALUE,e,n,t),o},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter(function(e){return e.type===t});a.sort(this.compareChanges_.bind(this)),a.forEach(function(t){var n=o.materializeSingleChange_(t,i);r.forEach(function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))})})},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw o.assertionError("Should only compare child_ events.");var n=new r.NamedNode(e.childName,e.snapshotNode),i=new r.NamedNode(t.childName,t.snapshotNode);return this.index_.compare(n,i)},e}();t.EventGenerator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(0),o=n(2),a=n(159),s=n(4),u=n(5),l=function(){function e(){this.visibleWrites_=a.CompoundWrite.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new c(e,this)},e.prototype.addOverwrite=function(e,t,n,r){i.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){i.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex(function(t){return t.writeId===e});i.assert(n>=0,"removeWrite called with nonexistent writeId.");var o=this.allWrites_[n];this.allWrites_.splice(n,1);for(var a=o.visible,s=!1,u=this.allWrites_.length-1;a&&u>=0;){var l=this.allWrites_[u];l.visible&&(u>=n&&this.recordContainsPath_(l,o.path)?a=!1:o.path.contains(l.path)&&(s=!0)),u--}if(a){if(s)return this.resetTree_(),!0;if(o.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(o.path);else{var c=o.children;r.forEach(c,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(o.path.child(e))})}return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var a=this.visibleWrites_.childCompoundWrite(t);if(!i&&a.isEmpty())return n;if(i||null!=n||a.hasCompleteWrite(o.Path.Empty)){var s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},l=e.layerTree_(this.allWrites_,s,t),c=n||u.ChildrenNode.EMPTY_NODE;return l.apply(c)}return null}var h=this.visibleWrites_.getCompleteNode(t);if(null!=h)return h;var f=this.visibleWrites_.childCompoundWrite(t);if(f.isEmpty())return n;if(null!=n||f.hasCompleteWrite(o.Path.Empty)){var c=n||u.ChildrenNode.EMPTY_NODE;return f.apply(c)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=u.ChildrenNode.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(s.PRIORITY_INDEX,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(s.PRIORITY_INDEX,function(e,t){var r=i.childCompoundWrite(new o.Path(e)).apply(t);n=n.updateImmediateChild(e,r)}),i.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){i.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=e.child(t);if(this.visibleWrites_.hasCompleteWrite(o))return null;var a=this.visibleWrites_.childCompoundWrite(o);return a.isEmpty()?r.getChild(t):a.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);if(null!=i)return i;if(n.isCompleteForChild(t)){return this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t))}return null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,a){var s,u=this.visibleWrites_.childCompoundWrite(e),l=u.getCompleteNode(o.Path.Empty);if(null!=l)s=l;else{if(null==t)return[];s=u.apply(t)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];for(var c=[],h=a.getCompare(),f=i?s.getReverseIteratorFrom(n,a):s.getIteratorFrom(n,a),d=f.getNext();d&&c.length<r;)0!==h(d,n)&&c.push(d),d=f.getNext();return c},e.prototype.recordContainsPath_=function(e,t){return e.snap?e.path.contains(t):!!r.findKey(e.children,function(n,r){return e.path.child(r).contains(t)})},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,o.Path.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var s=a.CompoundWrite.Empty,u=0;u<e.length;++u){var l=e[u];if(t(l)){var c=l.path,h=void 0;if(l.snap)n.contains(c)?(h=o.Path.relativePath(n,c),s=s.addWrite(h,l.snap)):c.contains(n)&&(h=o.Path.relativePath(c,n),s=s.addWrite(o.Path.Empty,l.snap.getChild(h)));else{if(!l.children)throw i.assertionError("WriteRecord should have .snap or .children");if(n.contains(c))h=o.Path.relativePath(n,c),s=s.addWrites(h,l.children);else if(c.contains(n))if(h=o.Path.relativePath(c,n),h.isEmpty())s=s.addWrites(o.Path.Empty,l.children);else{var f=r.safeGet(l.children,h.getFront());if(f){var d=f.getChild(h.popFront());s=s.addWrite(o.Path.Empty,d)}}}}}return s},e}();t.WriteTree=l;var c=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}();t.WriteTreeRef=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),i=n(2),o=n(0),a=n(6),s=n(4),u=n(0),l=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new r.ImmutableTree(n));var o=this.writeTree_.findRootMostValueAndPath(t);if(null!=o){var a=o.path,s=o.value,u=i.Path.relativePath(a,t);return s=s.updateChild(u,n),new e(this.writeTree_.set(a,s))}var l=new r.ImmutableTree(n);return new e(this.writeTree_.setTree(t,l))},e.prototype.addWrites=function(e,t){var n=this;return o.forEach(t,function(t,r){n=n.addWrite(e.child(t),r)}),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,r.ImmutableTree.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(i.Path.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(s.PRIORITY_INDEX,function(t,n){e.push(new a.NamedNode(t,n))}):this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new a.NamedNode(t,n.value))}),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new r.ImmutableTree(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(t){return e.applySubtreeWrite_(i.Path.Empty,this.writeTree_,t)},e.Empty=new e(new r.ImmutableTree(null)),e.applySubtreeWrite_=function(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(u.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e.applySubtreeWrite_(t.child(n),o,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(t.child(".priority"),i)),r},e}();t.CompoundWrite=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=function(){function e(){this.rootNode_=r.ChildrenNode.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();t.SnapshotHolder=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(r.log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',r.warn(e)},e}();t.AuthTokenProvider=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(0),o=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),i.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return r.deepCopy(this.counters_)},e}();t.StatsCollection=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(73),a=1e4,s=3e4,u=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new o.StatsListener(e);var n=a+(s-a)*Math.random();i.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},o=!1;r.forEach(t,function(t,i){i>0&&r.contains(e.statsToReport_,t)&&(n[t]=i,o=!0)}),o&&this.server_.reportStats(n),i.setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();t.StatsReporter=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new o(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}}t&&(this.eventLists_=[]),this.recursionDepth_--},e}();t.EventQueue=i;var o=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();r.logger&&r.log("event: "+t.toString()),r.exceptionGuard(n)}}},e.prototype.getPath=function(){return this.path_},e}();t.EventList=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(75),o=n(0),a=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))},!1),r}return r.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return o.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(i.EventEmitter);t.VisibilityMonitor=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(0),o=n(75),a=n(0),s=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return r.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return i.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(o.EventEmitter);t.OnlineMonitor=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(77),i=n(78),o=n(1),a=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[r.BrowserPollConnection,i.WebSocketConnection]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n=i.WebSocketConnection&&i.WebSocketConnection.isAvailable(),r=n&&!i.WebSocketConnection.previouslyFailed();if(t.webSocketOnly&&(n||o.warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[i.WebSocketConnection];else{var a=this.transports_=[];o.each(e.ALL_TRANSPORTS,function(e,t){t&&t.isAvailable()&&a.push(t)})}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();t.TransportManager=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var i=this;this.pendingResponses[this.currentResponseNum];){if("break"===function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=0;t<e.length;++t)!function(t){e[t]&&r.exceptionGuard(function(){n.onMessage_(e[t])})}(t);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++}())break}},e}();t.PacketReceiver=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(0),o=n(1),a=n(0),s=n(0),u=n(0),l=n(79),c=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=o.logWrapper("p:rest:"),i.listens_={},i}return r.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(i.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var u=t.getListenId_(e,r),l={};this.listens_[u]=l;var c=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,function(e,t){var n=t;if(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,u)===l){var c;c=e?401==e?"permission_denied":"rest_error:"+e:"ok",i(c,null)}})},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var s=i&&i.accessToken;s&&(t.auth=s);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?"+u.querystring(t);r.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=a.jsonEval(c.responseText)}catch(e){o.warn("Failed to parse JSON response for "+l+": "+c.responseText)}n(null,e)}else 401!==c.status&&404!==c.status&&o.warn("Got unsuccessful REST response for "+l+" Status: "+c.status),n(c.status);n=null}},c.open("GET",l,!0),c.send()})},t}(l.ServerActions);t.ReadonlyRestClient=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(18),a=n(4),s=n(62),u=n(66),l=n(39),c=n(171),h=n(80),f=n(0),d=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=a.PRIORITY_INDEX}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return r.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return r.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:i.MIN_NAME},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return r.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return r.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:i.MAX_NAME},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return r.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==a.PRIORITY_INDEX&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==a.PRIORITY_INDEX},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new l.IndexedFilter(this.getIndex()):this.hasLimit()?new c.LimitedFilter(this):new h.RangedFilter(this)},e.prototype.toRestQueryStringParameters=function(){var t=e.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var i;return this.index_===a.PRIORITY_INDEX?i=t.PRIORITY_INDEX:this.index_===s.VALUE_INDEX?i=t.VALUE_INDEX:this.index_===o.KEY_INDEX?i=t.KEY_INDEX:(r.assert(this.index_ instanceof u.PathIndex,"Unrecognized index type!"),i=this.index_.toString()),n[t.ORDER_BY]=f.stringify(i),this.startSet_&&(n[t.START_AT]=f.stringify(this.indexStartValue_),this.startNameSet_&&(n[t.START_AT]+=","+f.stringify(this.indexStartName_))),this.endSet_&&(n[t.END_AT]=f.stringify(this.indexEndValue_),this.endNameSet_&&(n[t.END_AT]+=","+f.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[t.LIMIT_TO_FIRST]=this.limit_:n[t.LIMIT_TO_LAST]=this.limit_),n},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}();t.QueryParams=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80),i=n(5),o=n(6),a=n(0),s=n(16),u=function(){function e(e){this.rangedFilter_=new r.RangedFilter(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,a,s){return this.rangedFilter_.matches(new o.NamedNode(t,n))||(n=i.ChildrenNode.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,a,s):this.fullLimitUpdateChild_(e,t,n,a,s)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=i.ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=i.ChildrenNode.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var s=o.getNext(),u=void 0;if(!(u=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),a++}}else{r=t.withIndex(this.index_),r=r.updatePriority(i.ChildrenNode.EMPTY_NODE);var l=void 0,c=void 0,h=void 0,o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();h=function(e,t){return f(t,e)}}else o=r.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();for(var a=0,d=!1;o.hasNext();){var s=o.getNext();!d&&h(l,s)<=0&&(d=!0);var u=d&&a<this.limit_&&h(s,c)<=0;u?a++:r=r.updateImmediateChild(s.name,i.ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,u){var l;if(this.reverse_){var c=this.index_.getCompare();l=function(e,t){return c(t,e)}}else l=this.index_.getCompare();var h=e;a.assert(h.numChildren()==this.limit_,"");var f=new o.NamedNode(t,n),d=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),p=this.rangedFilter_.matches(f);if(h.hasChild(t)){for(var v=h.getImmediateChild(t),g=r.getChildAfterChild(this.index_,d,this.reverse_);null!=g&&(g.name==t||h.hasChild(g.name));)g=r.getChildAfterChild(this.index_,g,this.reverse_);var m=null==g?1:l(g,f);if(p&&!n.isEmpty()&&m>=0)return null!=u&&u.trackChildChange(s.Change.childChangedChange(t,n,v)),h.updateImmediateChild(t,n);null!=u&&u.trackChildChange(s.Change.childRemovedChange(t,v));var y=h.updateImmediateChild(t,i.ChildrenNode.EMPTY_NODE);return null!=g&&this.rangedFilter_.matches(g)?(null!=u&&u.trackChildChange(s.Change.childAddedChange(g.name,g.node)),y.updateImmediateChild(g.name,g.node)):y}return n.isEmpty()?e:p&&l(d,f)>=0?(null!=u&&(u.trackChildChange(s.Change.childRemovedChange(d.name,d.node)),u.trackChildChange(s.Change.childAddedChange(t,n))),h.updateImmediateChild(t,n).updateImmediateChild(d.name,i.ChildrenNode.EMPTY_NODE)):e},e}();t.LimitedFilter=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(36),a=n(37),s=n(2),u=n(173),l=n(4),c=n(1),h=n(67),f=n(11),d=n(0),p=n(19),v=n(5),g=n(28);!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(r=t.TransactionStatus||(t.TransactionStatus={})),g.Repo.MAX_TRANSACTION_RETRIES_=25,g.Repo.prototype.transactions_init_=function(){this.transactionQueueTree_=new u.Tree},g.Repo.prototype.startTransaction=function(e,t,n,s){this.log_("transaction on "+e);var u=function(){},g=new o.Reference(this,e);g.on("value",u);var m=function(){g.off("value",u)},y={path:e,update:t,onComplete:n,status:null,order:c.LUIDGenerator(),applyLocally:s,retryCount:0,unwatcher:m,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=this.getLatestState_(e);y.currentInputSnapshot=_;var b=y.update(_.val());if(void 0===b){if(y.unwatcher(),y.currentOutputSnapshotRaw=null,y.currentOutputSnapshotResolved=null,y.onComplete){var w=new a.DataSnapshot(y.currentInputSnapshot,new o.Reference(this,y.path),l.PRIORITY_INDEX);y.onComplete(null,!1,w)}}else{f.validateFirebaseData("transaction failed: Data returned ",b,y.path),y.status=r.RUN;var C=this.transactionQueueTree_.subTree(e),E=C.getValue()||[];E.push(y),C.setValue(E);var S=void 0;if("object"===typeof b&&null!==b&&d.contains(b,".priority"))S=d.safeGet(b,".priority"),i.assert(f.isValidPriority(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{S=(this.serverSyncTree_.calcCompleteEventCache(e)||v.ChildrenNode.EMPTY_NODE).getPriority().val()}S=S;var T=this.generateServerValues(),k=p.nodeFromJSON(b,S),N=h.resolveDeferredValueSnapshot(k,T);y.currentOutputSnapshotRaw=k,y.currentOutputSnapshotResolved=N,y.currentWriteId=this.getNextWriteId_();var x=this.serverSyncTree_.applyUserOverwrite(e,N,y.currentWriteId,y.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,x),this.sendReadyTransactions_()}},g.Repo.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||v.ChildrenNode.EMPTY_NODE},g.Repo.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);i.assert(n.length>0,"Sending zero length transaction queue");n.every(function(e){return e.status===r.RUN})&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},g.Repo.prototype.sendTransactionQueue_=function(e,t){for(var n=this,u=t.map(function(e){return e.currentWriteId}),h=this.getLatestState_(e,u),f=h,d=h.hash(),p=0;p<t.length;p++){var v=t[p];i.assert(v.status===r.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=r.SENT,v.retryCount++;var g=s.Path.relativePath(e,v.path);f=f.updateChild(g,v.currentOutputSnapshotRaw)}var m=f.val(!0),y=e;this.server_.put(y.toString(),m,function(i){n.log_("transaction put response",{path:y.toString(),status:i});var s=[];if("ok"===i){for(var u=[],h=0;h<t.length;h++){if(t[h].status=r.COMPLETED,s=s.concat(n.serverSyncTree_.ackUserWrite(t[h].currentWriteId)),t[h].onComplete){var f=t[h].currentOutputSnapshotResolved,d=new o.Reference(n,t[h].path),p=new a.DataSnapshot(f,d,l.PRIORITY_INDEX);u.push(t[h].onComplete.bind(null,null,!0,p))}t[h].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,s);for(var h=0;h<u.length;h++)c.exceptionGuard(u[h])}else{if("datastale"===i)for(var h=0;h<t.length;h++)t[h].status===r.SENT_NEEDS_ABORT?t[h].status=r.NEEDS_ABORT:t[h].status=r.RUN;else{c.warn("transaction at "+y.toString()+" failed: "+i);for(var h=0;h<t.length;h++)t[h].status=r.NEEDS_ABORT,t[h].abortReason=i}n.rerunTransactions_(e)}},d)},g.Repo.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},g.Repo.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],u=[],v=e.filter(function(e){return e.status===r.RUN}),m=v.map(function(e){return e.currentWriteId}),y=0;y<e.length;y++){var _=e[y],b=s.Path.relativePath(t,_.path),w=!1,C=void 0;if(i.assert(null!==b,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===r.NEEDS_ABORT)w=!0,C=_.abortReason,u=u.concat(this.serverSyncTree_.ackUserWrite(_.currentWriteId,!0));else if(_.status===r.RUN)if(_.retryCount>=g.Repo.MAX_TRANSACTION_RETRIES_)w=!0,C="maxretry",u=u.concat(this.serverSyncTree_.ackUserWrite(_.currentWriteId,!0));else{var E=this.getLatestState_(_.path,m);_.currentInputSnapshot=E;var S=e[y].update(E.val());if(void 0!==S){f.validateFirebaseData("transaction failed: Data returned ",S,_.path);var T=p.nodeFromJSON(S),k="object"===typeof S&&null!=S&&d.contains(S,".priority");k||(T=T.updatePriority(E.getPriority()));var N=_.currentWriteId,x=this.generateServerValues(),O=h.resolveDeferredValueSnapshot(T,x);_.currentOutputSnapshotRaw=T,_.currentOutputSnapshotResolved=O,_.currentWriteId=this.getNextWriteId_(),m.splice(m.indexOf(N),1),u=u.concat(this.serverSyncTree_.applyUserOverwrite(_.path,O,_.currentWriteId,_.applyLocally)),u=u.concat(this.serverSyncTree_.ackUserWrite(N,!0))}else w=!0,C="nodata",u=u.concat(this.serverSyncTree_.ackUserWrite(_.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,u),u=[],w&&(e[y].status=r.COMPLETED,function(e){setTimeout(e,Math.floor(0))}(e[y].unwatcher),e[y].onComplete))if("nodata"===C){var I=new o.Reference(this,e[y].path),P=e[y].currentInputSnapshot,A=new a.DataSnapshot(P,I,l.PRIORITY_INDEX);n.push(e[y].onComplete.bind(null,null,!1,A))}else n.push(e[y].onComplete.bind(null,new Error(C),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var y=0;y<n.length;y++)c.exceptionGuard(n[y]);this.sendReadyTransactions_()}},g.Repo.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},g.Repo.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},g.Repo.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},g.Repo.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var i=0,o=0;o<n.length;o++)n[o].status!==r.COMPLETED&&(n[i]=n[o],i++);n.length=i,e.setValue(n.length>0?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},g.Repo.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},g.Repo.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],o=[],a=-1,s=0;s<t.length;s++)if(t[s].status===r.SENT_NEEDS_ABORT);else if(t[s].status===r.SENT)i.assert(a===s-1,"All SENT items should be at beginning of queue."),a=s,t[s].status=r.SENT_NEEDS_ABORT,t[s].abortReason="set";else if(i.assert(t[s].status===r.RUN,"Unexpected transaction status in abort"),t[s].unwatcher(),o=o.concat(this.serverSyncTree_.ackUserWrite(t[s].currentWriteId,!0)),t[s].onComplete){n.push(t[s].onComplete.bind(null,new Error("set"),!1,null))}-1===a?e.setValue(null):t.length=a+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),o);for(var s=0;s<n.length;s++)c.exceptionGuard(n[s])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(0),a=function(){function e(){this.children={},this.childCount=0,this.value=null}return e}();t.TreeNode=a;var s=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new a),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n,r=t instanceof i.Path?t:new i.Path(t),s=this;null!==(n=r.getFront());){s=new e(n,s,o.safeGet(s.node_.children,n)||new a),r=r.popFront()}return s},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){r.assert("undefined"!==typeof e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;o.forEach(this.node_.children,function(r,i){t(new e(r,n,i))})},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},e.prototype.path=function(){return new i.Path(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=o.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();t.Tree=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78),i=n(77);t.forceLongPolling=function(){r.WebSocketConnection.forceDisallow(),i.BrowserPollConnection.forceAllow()},t.forceWebSockets=function(){i.BrowserPollConnection.forceDisallow()},t.isWebSocketsAvailable=function(){return r.WebSocketConnection.isAvailable()},t.setSecurityDebugCallback=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},t.stats=function(e,t){e.repo.stats(t)},t.statsIncrementCounter=function(e,t){e.repo.statsIncrementCounter(t)},t.dataUpdateCount=function(e){return e.repo.dataUpdateCount},t.interceptServerData=function(e,t){return e.repo.interceptServerData_(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58),i=n(74),o=n(41),a=n(76);t.DataConnection=i.PersistentConnection,i.PersistentConnection.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},i.PersistentConnection.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},t.RealTimeConnection=a.Connection,t.hijackHash=function(e){var t=i.PersistentConnection.prototype.put;return i.PersistentConnection.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){i.PersistentConnection.prototype.put=t}},t.ConnectionTarget=r.RepoInfo,t.queryIdentifier=function(e){return e.queryIdentifier()},t.listens=function(e){return e.repo.persistentConnection_.listens_},t.forceRestClient=function(e){o.RepoManager.getInstance().forceRestClient(e)}},function(e,t,n){n(177)},function(e,t,n){"use strict";function r(e){var t=function(e){return self&&"ServiceWorkerGlobalScope"in self?new o.a(e):new i.a(e)},n={Messaging:i.a};e.INTERNAL.registerService("messaging",t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerMessaging=r;var i=n(178),o=n(184);r(n(10).firebase)},function(e,t,n){"use strict";var r=n(3),i=n(81),o=n(13),a=n(85),s=n(182),u=n(84),l=n(43),c=n(183),h=n(0),f=(n.n(h),function(e){function t(t){var n=e.call(this,t)||this;return n.messageObserver_=null,n.onMessage_=Object(h.createSubscribe)(function(e){n.messageObserver_=e}),n.tokenRefreshObserver_=null,n.onTokenRefresh_=Object(h.createSubscribe)(function(e){n.tokenRefreshObserver_=e}),n.registrationToUse_,n.manifestCheckPromise_,n.messageObserver_=null,n.onMessage_=Object(h.createSubscribe)(function(e){n.messageObserver_=e}),n.tokenRefreshObserver_=null,n.onTokenRefresh_=Object(h.createSubscribe)(function(e){n.tokenRefreshObserver_=e}),n.setupSWMessageListener_(),n}return r.__extends(t,e),t.prototype.getToken=function(){var t=this;return this.isSupported_()?this.manifestCheck_().then(function(){return e.prototype.getToken.call(t)}):Promise.reject(this.errorFactory_.create(o.a.codes.UNSUPPORTED_BROWSER))},t.prototype.manifestCheck_=function(){var e=this;if(this.manifestCheckPromise_)return this.manifestCheckPromise_;var t=document.querySelector('link[rel="manifest"]');return this.manifestCheckPromise_=t?fetch(t.href).then(function(e){return e.json()}).catch(function(){}).then(function(t){if(t&&t.gcm_sender_id&&"103953800507"!==t.gcm_sender_id)throw e.errorFactory_.create(o.a.codes.INCORRECT_GCM_SENDER_ID)}):Promise.resolve(),this.manifestCheckPromise_},t.prototype.requestPermission=function(){return r.__awaiter(this,void 0,void 0,function(){var e=this;return r.__generator(this,function(t){return Notification.permission===u.a.granted?[2]:[2,new Promise(function(t,n){var r=function(r){return r===u.a.granted?t():n(r===u.a.denied?e.errorFactory_.create(o.a.codes.PERMISSION_BLOCKED):e.errorFactory_.create(o.a.codes.PERMISSION_DEFAULT))},i=Notification.requestPermission(r);i&&i.then(r)})]})})},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw this.errorFactory_.create(o.a.codes.SW_REGISTRATION_EXPECTED);if("undefined"!==typeof this.registrationToUse_)throw this.errorFactory_.create(o.a.codes.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse_=e},t.prototype.usePublicVapidKey=function(e){if("string"!==typeof e)throw this.errorFactory_.create(o.a.codes.INVALID_PUBLIC_VAPID_KEY);if("undefined"!==typeof this.publicVapidKeyToUse_)throw this.errorFactory_.create(o.a.codes.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var t=Object(c.a)(e);if(65!==t.length)throw this.errorFactory_.create(o.a.codes.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse_=t},t.prototype.onMessage=function(e,t,n){return this.onMessage_(e,t,n)},t.prototype.onTokenRefresh=function(e,t,n){return this.onTokenRefresh_(e,t,n)},t.prototype.waitForRegistrationToActivate_=function(e){var t=this,n=e.installing||e.waiting||e.active;return new Promise(function(r,i){if(!n)return void i(t.errorFactory_.create(o.a.codes.NO_SW_IN_REG));if("activated"===n.state)return void r(e);if("redundant"===n.state)return void i(t.errorFactory_.create(o.a.codes.SW_REG_REDUNDANT));var a=function(){if("activated"===n.state)r(e);else{if("redundant"!==n.state)return;i(t.errorFactory_.create(o.a.codes.SW_REG_REDUNDANT))}n.removeEventListener("statechange",a)};n.addEventListener("statechange",a)})},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse_?this.waitForRegistrationToActivate_(this.registrationToUse_):(this.registrationToUse_=null,navigator.serviceWorker.register(s.a.path,{scope:s.a.scope}).catch(function(t){throw e.errorFactory_.create(o.a.codes.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(t){return e.waitForRegistrationToActivate_(t).then(function(){return e.registrationToUse_=t,t.update(),t})}))},t.prototype.getPublicVapidKey_=function(){return this.publicVapidKeyToUse_?Promise.resolve(this.publicVapidKeyToUse_):Promise.resolve(l.a.DEFAULT_PUBLIC_VAPID_KEY)},t.prototype.getPushSubscription_=function(e,t){return e.pushManager.getSubscription().then(function(n){return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})})},t.prototype.setupSWMessageListener_=function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[a.a.PARAMS.TYPE_OF_MSG]){var n=t.data;switch(n[a.a.PARAMS.TYPE_OF_MSG]){case a.a.TYPES_OF_MSG.PUSH_MSG_RECEIVED:case a.a.TYPES_OF_MSG.NOTIFICATION_CLICKED:var r=n[a.a.PARAMS.DATA];e.messageObserver_&&e.messageObserver_.next(r)}}},!1)},t.prototype.isSupported_=function(){return"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")},t}(i.a));t.a=f},function(e,t,n){"use strict";function r(){}var i=n(3),o=n(82),a=n(13),s=n(42),u=n(180),l="fcm_token_details_db",c=2;r.prototype.fcmToken,r.prototype.swScope,r.prototype.vapidKey,r.prototype.subscription,r.prototype.fcmSenderId,r.prototype.fcmPushSet;var h=function(e){function t(){return e.call(this,l,c)||this}return i.__extends(t,e),t.prototype.onDBUpgrade=function(e,t){if(t.oldVersion<1){var n=e.createObjectStore("fcm_token_object_Store",{keyPath:"swScope"});n.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),n.createIndex("fcmToken","fcmToken",{unique:!0})}t.oldVersion<2&&Object(u.a)()},t.prototype.validateInputs_=function(e){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return!e.fcmToken||"string"===typeof e.fcmToken&&0!==e.fcmToken.length?!e.swScope||"string"===typeof e.swScope&&0!==e.swScope.length?!e.vapidKey||e.vapidKey instanceof Uint8Array&&65===e.vapidKey.length?!e.subscription||e.subscription instanceof PushSubscription?!e.fcmSenderId||"string"===typeof e.fcmSenderId&&0!==e.fcmSenderId.length?!e.fcmPushSet||"string"===typeof e.fcmPushSet&&0!==e.fcmPushSet.length?[2]:[2,Promise.reject(this.errorFactory_.create(a.a.codes.BAD_PUSH_SET))]:[2,Promise.reject(this.errorFactory_.create(a.a.codes.BAD_SENDER_ID))]:[2,Promise.reject(this.errorFactory_.create(a.a.codes.BAD_SUBSCRIPTION))]:[2,Promise.reject(this.errorFactory_.create(a.a.codes.BAD_VAPID_KEY))]:[2,Promise.reject(this.errorFactory_.create(a.a.codes.BAD_SCOPE))]:[2,Promise.reject(this.errorFactory_.create(a.a.codes.BAD_TOKEN))]})})},t.prototype.getTokenDetailsFromToken=function(e){var t=this;return e?this.validateInputs_({fcmToken:e}).then(function(){return t.openDatabase()}).then(function(t){return new Promise(function(n,r){var i=t.transaction(["fcm_token_object_Store"]),o=i.objectStore("fcm_token_object_Store"),a=o.index("fcmToken"),s=a.get(e);s.onerror=function(e){r(e.target.error)},s.onsuccess=function(e){var t=e.target.result?e.target.result:null;n(t)}})}):Promise.reject(this.errorFactory_.create(a.a.codes.BAD_TOKEN))},t.prototype.getTokenDetailsFromSWScope=function(e){var t=this;return e?this.validateInputs_({swScope:e}).then(function(){return t.openDatabase()}).then(function(t){return new Promise(function(n,r){var i=t.transaction(["fcm_token_object_Store"]),o=i.objectStore("fcm_token_object_Store"),a=o.get(e);a.onerror=function(e){r(e.target.error)},a.onsuccess=function(e){var t=e.target.result?e.target.result:null;n(t)}})}):Promise.reject(this.errorFactory_.create(a.a.codes.BAD_SCOPE))},t.prototype.saveTokenDetails=function(e){var t=this,n=e.swScope,r=e.vapidKey,i=e.subscription,o=e.fcmSenderId,u=e.fcmToken,l=e.fcmPushSet;return n?r?i?o?u?l?this.validateInputs_({swScope:n,vapidKey:r,subscription:i,fcmSenderId:o,fcmToken:u,fcmPushSet:l}).then(function(){return t.openDatabase()}).then(function(e){var a={swScope:n,vapidKey:Object(s.a)(r),endpoint:i.endpoint,auth:Object(s.a)(i.getKey("auth")),p256dh:Object(s.a)(i.getKey("p256dh")),fcmSenderId:o,fcmToken:u,fcmPushSet:l,createTime:Date.now()};return new Promise(function(n,r){var i=e.transaction(["fcm_token_object_Store"],t.TRANSACTION_READ_WRITE),o=i.objectStore("fcm_token_object_Store"),s=o.put(a);s.onerror=function(e){r(e.target.error)},s.onsuccess=function(e){n()}})}):Promise.reject(this.errorFactory_.create(a.a.codes.BAD_PUSH_SET)):Promise.reject(this.errorFactory_.create(a.a.codes.BAD_TOKEN)):Promise.reject(this.errorFactory_.create(a.a.codes.BAD_SENDER_ID)):Promise.reject(this.errorFactory_.create(a.a.codes.BAD_SUBSCRIPTION)):Promise.reject(this.errorFactory_.create(a.a.codes.BAD_VAPID_KEY)):Promise.reject(this.errorFactory_.create(a.a.codes.BAD_SCOPE))},t.prototype.deleteToken=function(e){var t=this;return"string"!==typeof e||0===e.length?Promise.reject(this.errorFactory_.create(a.a.codes.INVALID_DELETE_TOKEN)):this.getTokenDetailsFromToken(e).then(function(e){if(!e)throw t.errorFactory_.create(a.a.codes.DELETE_TOKEN_NOT_FOUND);return t.openDatabase().then(function(n){return new Promise(function(r,i){var o=n.transaction(["fcm_token_object_Store"],t.TRANSACTION_READ_WRITE),s=o.objectStore("fcm_token_object_Store"),u=s.delete(e.swScope);u.onerror=function(e){i(e.target.error)},u.onsuccess=function(n){if(0===n.target.result)return void i(t.errorFactory_.create(a.a.codes.FAILED_TO_DELETE_TOKEN));r(e)}})})})},t}(o.a);t.a=h},function(e,t,n){"use strict";function r(e){if(e.objectStoreNames.contains(s)){var t=e.transaction(s),n=t.objectStore(s),r=new o.a,i=n.openCursor();i.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)},i.onsuccess=function(){var t=i.result;if(t){var n=t.value;r.deleteToken(n.fcmSenderId,n.fcmToken,n.fcmPushSet),t.continue()}else e.close(),indexedDB.deleteDatabase(a)}}}function i(){var e=indexedDB.open(a);e.onerror=function(e){},e.onsuccess=function(t){r(e.result)}}n.d(t,"a",function(){return i});var o=n(83),a="undefined",s="fcm_token_object_Store"},function(e,t,n){"use strict";var r=n(3),i=n(82),o=n(13),a="fcm_vapid_details_db",s=1,u=function(e){function t(){return e.call(this,a,s)||this}return r.__extends(t,e),t.prototype.onDBUpgrade=function(e){e.createObjectStore("fcm_vapid_object_Store",{keyPath:"swScope"})},t.prototype.getVapidFromSWScope=function(e){return"string"!==typeof e||0===e.length?Promise.reject(this.errorFactory_.create(o.a.codes.BAD_SCOPE)):this.openDatabase().then(function(t){return new Promise(function(n,r){var i=t.transaction(["fcm_vapid_object_Store"]),o=i.objectStore("fcm_vapid_object_Store"),a=o.get(e);a.onerror=function(){r(a.error)},a.onsuccess=function(){var e=a.result,t=null;e&&(t=e.vapidKey),n(t)}})})},t.prototype.saveVapidDetails=function(e,t){var n=this;if("string"!==typeof e||0===e.length)return Promise.reject(this.errorFactory_.create(o.a.codes.BAD_SCOPE));if(null===t||65!==t.length)return Promise.reject(this.errorFactory_.create(o.a.codes.BAD_VAPID_KEY));var r={swScope:e,vapidKey:t};return this.openDatabase().then(function(e){return new Promise(function(t,i){var o=e.transaction(["fcm_vapid_object_Store"],n.TRANSACTION_READ_WRITE),a=o.objectStore("fcm_vapid_object_Store"),s=a.put(r);s.onerror=function(){i(s.error)},s.onsuccess=function(){t()}})})},t.prototype.deleteVapidDetails=function(e){var t=this;return this.getVapidFromSWScope(e).then(function(n){if(!n)throw t.errorFactory_.create(o.a.codes.DELETE_SCOPE_NOT_FOUND);return t.openDatabase().then(function(r){return new Promise(function(i,a){var s=r.transaction(["fcm_vapid_object_Store"],t.TRANSACTION_READ_WRITE),u=s.objectStore("fcm_vapid_object_Store"),l=u.delete(e);l.onerror=function(){a(l.error)},l.onsuccess=function(){if(0===l.result)return void a(t.errorFactory_.create(o.a.codes.FAILED_DELETE_VAPID_KEY));i(n)}})})})},t}(i.a);t.a=u},function(e,t,n){"use strict";t.a={path:"/firebase-messaging-sw.js",scope:"/firebase-cloud-messaging-push-scope"}},function(e,t,n){"use strict";t.a=function(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}},function(e,t,n){"use strict";var r=n(3),i=n(81),o=n(13),a=n(43),s=n(85),u=function(e){function t(t){var n=e.call(this,t)||this;return self.addEventListener("push",function(e){return n.onPush_(e)},!1),self.addEventListener("pushsubscriptionchange",function(e){return n.onSubChange_(e)},!1),self.addEventListener("notificationclick",function(e){return n.onNotificationClick_(e)},!1),n.bgMessageHandler_=null,n}return r.__extends(t,e),t.prototype.onPush_=function(e){var t,n=this;try{t=e.data.json()}catch(e){return}var r=this.hasVisibleClients_().then(function(e){if(e){if(t.notification||n.bgMessageHandler_)return n.sendMessageToWindowClients_(t)}else{var r=n.getNotificationData_(t);if(r){var i=r.title||"";return n.getSWRegistration_().then(function(e){return e.showNotification(i,r)})}if(n.bgMessageHandler_)return n.bgMessageHandler_(t)}});e.waitUntil(r)},t.prototype.onSubChange_=function(e){var t=this,n=this.getSWRegistration_().then(function(e){return e.pushManager.getSubscription().then(function(e){}).catch(function(n){return t.getTokenDetailsModel().getTokenDetailsFromSWScope(e.scope).then(function(e){if(!e)throw n;return t.deleteToken(e.fcmToken).then(function(){throw n})})})}).catch(function(e){throw t.errorFactory_.create(o.a.codes.UNABLE_TO_RESUBSCRIBE,{message:e})});e.waitUntil(n)},t.prototype.onNotificationClick_=function(e){var t=this;if(e.notification&&e.notification.data&&e.notification.data.FCM_MSG){e.stopImmediatePropagation(),e.notification.close();var n=e.notification.data.FCM_MSG;if(n.notification){var r=n.notification.click_action;if(r){var i=this.getWindowClient_(r).then(function(e){return e?e.focus():self.clients.openWindow(r)}).then(function(e){if(e){n.notification;delete n.notification;var r=s.a.createNewMsg(s.a.TYPES_OF_MSG.NOTIFICATION_CLICKED,n);return t.attemptToMessageClient_(e,r)}});e.waitUntil(i)}}}},t.prototype.getNotificationData_=function(e){if(e&&"object"===typeof e.notification){var t=Object.assign({},e.notification);return t.data=(n={},n.FCM_MSG=e,n),t;var n}},t.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!==typeof e)throw this.errorFactory_.create(o.a.codes.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler_=e},t.prototype.getWindowClient_=function(e){var t=new URL(e,self.location).href;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){for(var n=null,r=0;r<e.length;r++){if(new URL(e[r].url,self.location).href===t){n=e[r];break}}return n||null})},t.prototype.attemptToMessageClient_=function(e,t){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(n){return e?(e.postMessage(t),[2]):[2,Promise.reject(this.errorFactory_.create(o.a.codes.NO_WINDOW_CLIENT_TO_MSG))]})})},t.prototype.hasVisibleClients_=function(){return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(e){return e.some(function(e){return"visible"===e.visibilityState})})},t.prototype.sendMessageToWindowClients_=function(e){var t=this;return self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(function(n){var r=s.a.createNewMsg(s.a.TYPES_OF_MSG.PUSH_MSG_RECEIVED,e);return Promise.all(n.map(function(e){return t.attemptToMessageClient_(e,r)}))})},t.prototype.getSWRegistration_=function(){return Promise.resolve(self.registration)},t.prototype.getPublicVapidKey_=function(){var e=this;return this.getSWRegistration_().then(function(t){return e.getVapidDetailsModel().getVapidFromSWScope(t.scope)}).then(function(e){return null===e?a.a.DEFAULT_PUBLIC_VAPID_KEY:e})},t}(i.a);t.a=u},function(e,t,n){n(186)},function(e,t,n){"use strict";function r(e,t,n){return new c.a(e,new u.a,n)}function i(e){var t={TaskState:s.c,TaskEvent:s.b,StringFormat:a.a,Storage:c.a,Reference:l.a};e.INTERNAL.registerService(h,r,t,void 0,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerStorage=i;var o=n(10),a=n(20),s=n(21),u=n(187),l=n(87),c=n(196),h="storage";i(o.default)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(188),i=function(){function e(){}return e.prototype.createXhrIo=function(){return new r.a},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(8),i=n(17),o=n(14),a=n(7),s=n(86),u=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=s.a.NO_ERROR,this.sendPromise_=o.a(function(t,n){e.xhr_.addEventListener("abort",function(n){e.errorCode_=s.a.ABORT,t(e)}),e.xhr_.addEventListener("error",function(n){e.errorCode_=s.a.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(n){t(e)})})}return e.prototype.send=function(e,t,n,o){var s=this;if(this.sent_)throw r.e("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a.a(o)){var u=o;i.b(u,function(e,t){s.xhr_.setRequestHeader(e,t.toString())})}return a.a(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw r.e("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw r.e("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw r.e("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){a.a(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){a.a(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}()},function(e,t,n){"use strict";function r(e){var t;try{t=JSON.parse(e)}catch(e){return null}return i.f(t)?t:null}t.a=r;var i=n(7)},function(e,t,n){"use strict";function r(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r();if(void 0!==n){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}if(a.e())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}function o(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}t.a=i,t.b=o;var a=n(7)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(21),i=n(193),o=n(194),a=n(44),s=n(47),u=n(195),l=n(8),c=n(14),h=n(90),f=n(7),d=function(){function e(e,t,n,i,o,a){void 0===a&&(a=null);var s=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=o,this.metadata_=a,this.mappings_=i,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=r.a.RUNNING,this.errorHandler_=function(e){s.request_=null,s.chunkMultiplier_=1,e.codeEquals(l.a.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=e,s.transition_(r.a.ERROR))},this.metadataErrorHandler_=function(e){s.request_=null,e.codeEquals(l.a.CANCELED)?s.completeTransitions_():(s.error_=e,s.transition_(r.a.ERROR))},this.promise_=c.a(function(e,t){s.resolve_=e,s.reject_=t,s.start_()}),this.promise_.then(null,function(){})}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n,r){e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===r.a.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then(function(n){switch(t.state_){case r.a.RUNNING:e(n);break;case r.a.CANCELING:t.transition_(r.a.CANCELED);break;case r.a.PAUSING:t.transition_(r.a.PAUSED)}})},e.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(t){var n=h.c(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_(function(n){var r=h.f(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then(function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},e.prototype.continueUpload_=function(){var e=this,t=h.h*this.chunkMultiplier_,n=new h.a(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_(function(o){var a;try{a=h.b(e.location_,e.authWrapper_,i,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(t){return e.error_=t,void e.transition_(r.a.ERROR)}var s=e.authWrapper_.makeRequest(a,o);e.request_=s,s.getPromise().then(function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(r.a.SUCCESS)):e.completeTransitions_()},e.errorHandler_)})},e.prototype.increaseMultiplier_=function(){h.h*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(t){var n=h.e(e.authWrapper_,e.location_,e.mappings_),i=e.authWrapper_.makeRequest(n,t);e.request_=i,i.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.transition_(r.a.SUCCESS)},e.metadataErrorHandler_)})},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(t){var n=h.g(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),i=e.authWrapper_.makeRequest(n,t);e.request_=i,i.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(r.a.SUCCESS)},e.errorHandler_)})},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case r.a.CANCELING:case r.a.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case r.a.RUNNING:var t=this.state_===r.a.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case r.a.PAUSED:this.state_=e,this.notifyObservers_();break;case r.a.CANCELED:this.error_=l.c(),this.state_=e,this.notifyObservers_();break;case r.a.ERROR:case r.a.SUCCESS:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case r.a.PAUSING:this.transition_(r.a.PAUSED);break;case r.a.CANCELING:this.transition_(r.a.CANCELED);break;case r.a.RUNNING:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=r.d(this.state_);return new o.a(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,o){function s(t){if(e!==r.b.STATE_CHANGED)throw"Expected one of the event types: ["+r.b.STATE_CHANGED+"]."}function u(e){try{return void d(e)}catch(e){}try{p(e);if(!(f.c(e.next)||f.c(e.error)||f.c(e.complete)))throw"";return}catch(e){throw h}}function l(e){function t(t,n,r){null!==e&&a.g("on",e,arguments);var s=new i.a(t,n,o);return g.addObserver_(s),function(){g.removeObserver_(s)}}return t}function c(e){if(null===e)throw h;u(e)}void 0===t&&(t=void 0),void 0===n&&(n=void 0),void 0===o&&(o=void 0);var h="Expected a function or an Object with one of `next`, `error`, `complete` properties.",d=a.d(!0).validator,p=a.a(null,!0).validator,v=[a.e(s),a.a(u,!0),a.d(!0),a.d(!0)];a.g("on",v,arguments);var g=this,m=[a.a(c),a.d(!0),a.d(!0)];return f.c(t)||f.c(n)||f.c(o)?l(null)(t,n,o):l(m)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){s.c(this.observers_,e)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),s.a(this.observers_).forEach(function(t){e.notifyObserver_(t)})},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(r.d(this.state_)){case r.c.SUCCESS:Object(u.a)(this.resolve_.bind(null,this.snapshot))();break;case r.c.CANCELED:case r.c.ERROR:var t=this.reject_;Object(u.a)(t.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(r.d(this.state_)){case r.c.RUNNING:case r.c.PAUSED:null!==e.next&&Object(u.a)(e.next.bind(e,this.snapshot))();break;case r.c.SUCCESS:null!==e.complete&&Object(u.a)(e.complete.bind(e))();break;case r.c.CANCELED:case r.c.ERROR:null!==e.error&&Object(u.a)(e.error.bind(e,this.error_))();break;default:null!==e.error&&Object(u.a)(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){a.g("resume",[],arguments);var e=this.state_===r.a.PAUSED||this.state_===r.a.PAUSING;return e&&this.transition_(r.a.RUNNING),e},e.prototype.pause=function(){a.g("pause",[],arguments);var e=this.state_===r.a.RUNNING;return e&&this.transition_(r.a.PAUSING),e},e.prototype.cancel=function(){a.g("cancel",[],arguments);var e=this.state_===r.a.RUNNING||this.state_===r.a.PAUSING;return e&&this.transition_(r.a.CANCELING),e},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(7),i=function(){function e(e,t,n){if(r.b(e)||r.a(t)||r.a(n))this.next=e,this.error=t||null,this.complete=n||null;else{var i=e;this.next=i.next||null,this.error=i.error||null,this.complete=i.complete||null}}return e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o}return Object.defineProperty(e.prototype,"downloadURL",{get:function(){if(null!==this.metadata){var e=this.metadata.downloadURLs;return null!=e&&null!=e[0]?e[0]:null}return null},enumerable:!0,configurable:!0}),e}()},function(e,t,n){"use strict";function r(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];i.c(!0).then(function(){e.apply(null,t)})}}t.a=r;var i=n(14)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(44),i=n(197),o=n(31),a=n(14),s=n(200),u=n(87),l=function(){function e(e,t,n){function r(e,t){return new u.a(e,t)}if(this.bucket_=null,this.authWrapper_=new i.a(e,r,s.a,this,t),this.app_=e,null!=n)this.bucket_=o.a.makeFromBucketSpec(n);else{var a=this.authWrapper_.bucket();null!=a&&(this.bucket_=new o.a(a,""))}this.internals_=new c(this)}return e.prototype.ref=function(e){function t(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(r.g("ref",[r.e(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new u.a(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{o.a.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}}return r.g("refFromURL",[r.e(t,!1)],arguments),new u.a(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){r.g("setMaxUploadRetryTime",[r.c()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(e){r.g("setMaxOperationRetryTime",[r.c()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),c=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),a.c(void 0)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(30),i=n(8),o=n(198),a=n(31),s=n(14),u=n(199),l=n(7),c=function(){function e(t,n,i,o,a){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var s=this.app_.options;l.a(s)&&(this.bucket_=e.extractBucket_(s))}this.storageRefMaker_=n,this.requestMaker_=i,this.pool_=a,this.service_=o,this.maxOperationRetryTime_=r.d,this.maxUploadRetryTime_=r.e,this.requestMap_=new u.a}return e.extractBucket_=function(e){var t=e[r.c]||null;return null==t?null:a.a.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&l.a(this.app_.INTERNAL)&&l.a(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(e){return null}):s.c(null)},e.prototype.bucket=function(){if(this.deleted_)throw i.b();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new o.a(i.b());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(14),i=function(){function e(e){this.promise_=r.b(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){void 0===e&&(e=!1)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(17),i=n(30),o=function(){function e(){this.map_={},this.id_=i.h}return e.prototype.addRequest=function(e){function t(){delete r.map_[n]}var n=this.id_;this.id_++,this.map_[n]=e;var r=this;e.getPromise().then(t,t)},e.prototype.clear=function(){r.b(this.map_,function(e,t){t&&t.cancel(!0)}),this.map_={}},e}()},function(e,t,n){"use strict";function r(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function i(e){var t="undefined"!==typeof a.default?a.default.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function o(e,t,n){var o=d.c(e.urlParams),a=e.url+o,s=c.a(e.headers);return r(s,t),i(s),new v(a,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}t.a=o;var a=n(10),s=n(47),u=n(201),l=n(8),c=n(17),h=n(14),f=n(7),d=n(46),p=n(86),v=function(){function e(e,t,n,r,i,o,a,s,u,l,c){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=u,this.pool_=c;var f=this;this.promise_=h.a(function(e,t){f.resolve_=e,f.reject_=t,f.start_()})}return e.prototype.start_=function(){function e(e,t){function r(e){var t=e.loaded,r=e.lengthComputable?e.total:-1;null!==n.progressCallback_&&n.progressCallback_(t,r)}if(t)return void e(!1,new g(!1,null,!0));var i=n.pool_.createXhrIo();n.pendingXhr_=i,null!==n.progressCallback_&&i.addUploadProgressListener(r),i.send(n.url_,n.method_,n.body_,n.headers_).then(function(t){null!==n.progressCallback_&&t.removeUploadProgressListener(r),n.pendingXhr_=null,t=t;var i=t.getErrorCode()===p.a.NO_ERROR,o=t.getStatus();if(!i||n.isRetryStatusCode_(o)){var a=t.getErrorCode()===p.a.ABORT;return void e(!1,new g(!1,null,a))}var u=s.b(n.successCodes_,o);e(!0,new g(u,t))})}function t(e,t){var r=n.resolve_,i=n.reject_,o=t.xhr;if(t.wasSuccessCode)try{var a=n.callback_(o,o.getResponseText());f.c(a)?r(a):r()}catch(e){i(e)}else if(null!==o){var s=l.s();s.setServerResponseProp(o.getResponseText()),i(n.errorCallback_?n.errorCallback_(o,s):s)}else if(t.canceled){var s=n.appDelete_?l.b():l.c();i(s)}else{var s=l.o();i(s)}}var n=this;this.canceled_?t(!1,new g(!1,null,!0)):this.backoffId_=u.a(e,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&u.b(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=[408,429],r=s.b(n,e),i=s.b(this.additionalRetryCodes_,e);return t||r||i},e}(),g=function(){function e(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n}return e}()},function(e,t,n){"use strict";function r(e,t,n){function r(){return 2===h}function i(){f||(f=!0,t.apply(null,arguments))}function o(t){l=setTimeout(function(){l=null,e(a,r())},t)}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!f){if(e)return void i.apply(null,arguments);if(r()||c)return void i.apply(null,arguments);u<64&&(u*=2);var a;1===h?(h=2,a=0):a=1e3*(u+Math.random()),o(a)}}function s(e){d||(d=!0,f||(null!==l?(e||(h=2),clearTimeout(l),o(0)):e||(h=1)))}var u=1,l=null,c=!1,h=0,f=!1,d=!1;return o(0),setTimeout(function(){c=!0,s(!0)},n),s}function i(e){e(!1)}t.a=r,t.b=i},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";function r(e){return!0===i(e)&&"[object Object]"===Object.prototype.toString.call(e)}var i=n(204);e.exports=function(e){var t,n;return!1!==r(e)&&("function"===typeof(t=e.constructor)&&(n=t.prototype,!1!==r(n)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"===typeof e&&!1===Array.isArray(e)}},function(e,t,n){!function(t){e.exports=t(null)}(function e(t){"use strict";function n(e,t,i,u,h){for(var f,d,p=0,m=0,y=0,_=0,b=0,w=0,C=0,E=0,S=0,T=0,k=0,I=0,P=0,A=0,R=0,D=0,L=0,F=0,U=0,j=i.length,W=j-1,ie="",Pe="",Ae="",Me="",Ue="",je="";R<j;){if(C=i.charCodeAt(R),R===W&&m+_+y+p!==0&&(0!==m&&(C=m===ce?$:ce),_=y=p=0,j++,W++),m+_+y+p===0){if(R===W&&(D>0&&(Pe=Pe.replace(g,"")),Pe.trim().length>0)){switch(C){case te:case Z:case K:case J:case $:break;default:Pe+=i.charAt(R)}C=K}if(1===L)switch(C){case q:case z:case K:case le:case ue:case G:case Q:case ae:L=0;case Z:case J:case $:case te:break;default:for(L=0,U=R,b=C,R--,C=K;U<j;)switch(i.charCodeAt(U++)){case $:case J:case K:++R,C=b,U=j;break;case se:D>0&&(++R,C=b);case q:U=j}}switch(C){case q:for(Pe=Pe.trim(),b=Pe.charCodeAt(0),k=1,U=++R;R<j;){switch(C=i.charCodeAt(R)){case q:k++;break;case z:k--}if(0===k)break;R++}switch(Ae=i.substring(U,R),b===pe&&(b=(Pe=Pe.replace(v,"").trim()).charCodeAt(0)),b){case ee:switch(D>0&&(Pe=Pe.replace(g,"")),w=Pe.charCodeAt(1)){case Se:case ye:case _e:case re:f=t;break;default:f=Le}if(Ae=n(t,f,Ae,w,h+1),U=Ae.length,De>0&&0===U&&(U=Pe.length),Fe>0&&(f=r(Le,Pe,F),d=c(Ke,Ae,f,t,Ne,ke,U,w,h,u),Pe=f.join(""),void 0!==d&&0===(U=(Ae=d.trim()).length)&&(w=0,Ae="")),U>0)switch(w){case _e:Pe=Pe.replace(M,s);case Se:case ye:case re:Ae=Pe+"{"+Ae+"}";break;case me:Pe=Pe.replace(N,"$1 $2"+(qe>0?Ge:"")),Ae=Pe+"{"+Ae+"}",Ae=1===Ie||2===Ie&&a("@"+Ae,3)?"@"+B+Ae+"@"+Ae:"@"+Ae;break;default:Ae=Pe+Ae,u===Te&&(Me+=Ae,Ae="")}else Ae="";break;default:Ae=n(t,r(t,Pe,F),Ae,u,h+1)}Ue+=Ae,I=0,L=0,A=0,D=0,F=0,P=0,Pe="",Ae="",C=i.charCodeAt(++R);break;case z:case K:if(Pe=(D>0?Pe.replace(g,""):Pe).trim(),(U=Pe.length)>1)switch(0===A&&((b=Pe.charCodeAt(0))===re||b>96&&b<123)&&(U=(Pe=Pe.replace(" ",":")).length),Fe>0&&void 0!==(d=c(Ve,Pe,t,e,Ne,ke,Me.length,u,h,u))&&0===(U=(Pe=d.trim()).length)&&(Pe="\0\0"),b=Pe.charCodeAt(0),w=Pe.charCodeAt(1),b+w){case pe:break;case Ce:case Ee:je+=Pe+i.charAt(R);break;default:if(Pe.charCodeAt(U-1)===se)break;Me+=o(Pe,b,w,Pe.charCodeAt(2))}I=0,L=0,A=0,D=0,F=0,Pe="",C=i.charCodeAt(++R)}}switch(C){case J:case $:if(m+_+y+p+Re===0)switch(T){case Q:case ue:case le:case ee:case de:case he:case oe:case fe:case ce:case re:case se:case ae:case K:case q:case z:break;default:A>0&&(L=1)}m===ce?m=0:Oe+I===0&&(D=1,Pe+="\0"),Fe*ze>0&&c(Be,Pe,t,e,Ne,ke,Me.length,u,h,u),ke=1,Ne++;break;case K:case z:if(m+_+y+p===0){ke++;break}default:switch(ke++,ie=i.charAt(R),C){case Z:case te:if(_+p+m===0)switch(E){case ae:case se:case Z:case te:ie="";break;default:C!==te&&(ie=" ")}break;case pe:ie="\\0";break;case ve:ie="\\f";break;case ge:ie="\\v";break;case ne:_+m+p===0&&Oe>0&&(F=1,D=1,ie="\f"+ie);break;case 108:if(_+m+p+xe===0&&A>0)switch(R-A){case 2:E===be&&i.charCodeAt(R-3)===se&&(xe=E);case 8:S===we&&(xe=S)}break;case se:_+m+p===0&&(A=R);break;case ae:m+y+_+p===0&&(D=1,ie+="\r");break;case le:case ue:0===m&&(_=_===C?0:0===_?C:_);break;case X:_+m+y===0&&p++;break;case Y:_+m+y===0&&p--;break;case Q:_+m+p===0&&y--;break;case G:if(_+m+p===0){if(0===I)switch(2*E+3*S){case 533:break;default:k=0,I=1}y++}break;case ee:m+y+_+p+A+P===0&&(P=1);break;case oe:case ce:if(_+p+y>0)break;switch(m){case 0:switch(2*C+3*i.charCodeAt(R+1)){case 235:m=ce;break;case 220:U=R,m=oe}break;case oe:C===ce&&E===oe&&(33===i.charCodeAt(U+2)&&(Me+=i.substring(U,R+1)),ie="",m=0)}}if(0===m){if(Oe+_+p+P===0&&u!==me&&C!==K)switch(C){case ae:case de:case he:case fe:case Q:case G:if(0===I){switch(E){case Z:case te:case $:case J:ie+="\0";break;default:ie="\0"+ie+(C===ae?"":"\0")}D=1}else switch(C){case G:I=++k;break;case Q:0===(I=--k)&&(D=1,ie+="\0")}break;case Z:case te:switch(E){case pe:case q:case z:case K:case ae:case ve:case Z:case te:case $:case J:break;default:0===I&&(D=1,ie+="\0")}}Pe+=ie,C!==te&&C!==Z&&(T=C)}}S=E,E=C,R++}if(U=Me.length,De>0&&0===U&&0===Ue.length&&0===t[0].length===!1&&(u!==ye||1===t.length&&(Oe>0?Qe:Xe)===t[0])&&(U=t.join(",").length+2),U>0){if(f=0===Oe&&u!==me?l(t):t,Fe>0&&void 0!==(d=c(He,Me,f,e,Ne,ke,U,u,h,u))&&0===(Me=d).length)return je+Me+Ue;if(Me=f.join(",")+"{"+Me+"}",Ie*xe!==0){switch(2!==Ie||a(Me,2)||(xe=0),xe){case we:Me=Me.replace(O,":"+V+"$1")+Me;break;case be:Me=Me.replace(x,"::"+B+"input-$1")+Me.replace(x,"::"+V+"$1")+Me.replace(x,":"+H+"input-$1")+Me}xe=0}}return je+Me+Ue}function r(e,t,n){var r=t.trim().split(E),o=r,a=r.length,s=e.length;switch(s){case 0:case 1:for(var u=0,l=0===s?"":e[0]+" ";u<a;++u)o[u]=i(l,o[u],n,s).trim();break;default:for(var u=0,c=0,o=[];u<a;++u)for(var h=0;h<s;++h)o[c++]=i(e[h]+" ",r[u],n,s).trim()}return o}function i(e,t,n,r){var i=t,o=i.charCodeAt(0);switch(o<33&&(o=(i=i.trim()).charCodeAt(0)),o){case ne:switch(Oe+r){case 0:case 1:if(0===e.trim().length)break;default:return i.replace(S,"$1"+e.trim())}break;case se:switch(i.charCodeAt(1)){case 103:if(Pe>0&&Oe>0)return i.replace(T,"$1").replace(S,"$1"+Xe);break;default:return e.trim()+i.replace(S,"$1"+e.trim())}default:if(n*Oe>0&&i.indexOf("\f")>0)return i.replace(S,(e.charCodeAt(0)===se?"":"$1")+e.trim())}return e+i}function o(e,t,n,r){var i,s=0,l=e+";",c=2*t+3*n+4*r;if(944===c)return u(l);if(0===Ie||2===Ie&&!a(l,1))return l;switch(c){case 1015:return 97===l.charCodeAt(10)?B+l+l:l;case 951:return 116===l.charCodeAt(3)?B+l+l:l;case 963:return 110===l.charCodeAt(5)?B+l+l:l;case 1009:if(100!==l.charCodeAt(4))break;case 969:case 942:return B+l+l;case 978:return B+l+V+l+l;case 1019:case 983:return B+l+V+l+H+l+l;case 883:return l.charCodeAt(8)===re?B+l+l:l;case 932:if(l.charCodeAt(4)===re)switch(l.charCodeAt(5)){case 103:return B+"box-"+l.replace("-grow","")+B+l+H+l.replace("grow","positive")+l;case 115:return B+l+H+l.replace("shrink","negative")+l;case 98:return B+l+H+l.replace("basis","preferred-size")+l}return B+l+H+l+l;case 964:return B+l+H+"flex-"+l+l;case 1023:if(99!==l.charCodeAt(8))break;return i=l.substring(l.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),B+"box-pack"+i+B+l+H+"flex-pack"+i+l;case 1005:return y.test(l)?l.replace(m,":"+B)+l.replace(m,":"+V)+l:l;case 1e3:switch(i=l.substring(13).trim(),s=i.indexOf("-")+1,i.charCodeAt(0)+i.charCodeAt(s)){case 226:i=l.replace(L,"tb");break;case 232:i=l.replace(L,"tb-rl");break;case 220:i=l.replace(L,"lr");break;default:return l}return B+l+H+i+l;case 1017:if(-1===l.indexOf("sticky",9))return l;case 975:switch(s=(l=e).length-10,i=(33===l.charCodeAt(s)?l.substring(0,s):l).substring(e.indexOf(":",7)+1).trim(),c=i.charCodeAt(0)+(0|i.charCodeAt(7))){case 203:if(i.charCodeAt(8)<111)break;case 115:l=l.replace(i,B+i)+";"+l;break;case 207:case 102:l=l.replace(i,B+(c>102?"inline-":"")+"box")+";"+l.replace(i,B+i)+";"+l.replace(i,H+i+"box")+";"+l}return l+";";case 938:if(l.charCodeAt(5)===re)switch(l.charCodeAt(6)){case 105:return i=l.replace("-items",""),B+l+B+"box-"+i+H+"flex-"+i+l;case 115:return B+l+H+"flex-item-"+l.replace(U,"")+l;default:return B+l+H+"flex-line-pack"+l.replace("align-content","").replace(U,"")+l}break;case 973:case 989:if(l.charCodeAt(3)!==re||122===l.charCodeAt(4))break;case 931:case 953:if(!0===W.test(e))return 115===(i=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):l.replace(i,B+i)+l.replace(i,V+i.replace("fill-",""))+l;break;case 962:if(l=B+l+(102===l.charCodeAt(5)?H+l:"")+l,n+r===211&&105===l.charCodeAt(13)&&l.indexOf("transform",10)>0)return l.substring(0,l.indexOf(";",27)+1).replace(_,"$1"+B+"$2")+l}return l}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),i=e.substring(n+1,e.length-1);return Ue(2!==t?r:r.replace(j,"$1"),i,t)}function s(e,t){var n=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(F," or ($1)").substring(4):"("+t+")"}function u(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),i=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*qe){case 0:break;case re:if(110!==e.charCodeAt(10))break;default:for(var o=i.split((i="",b)),s=0,n=0,t=o.length;s<t;n=0,++s){for(var u=o[s],l=u.split(w);u=l[n];){var c=u.charCodeAt(0);if(1===qe&&(c>ee&&c<90||c>96&&c<123||c===ie||c===re&&u.charCodeAt(1)!==re))switch(isNaN(parseFloat(u))+(-1!==u.indexOf("("))){case 1:switch(u){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:u+=Ge}}l[n++]=u}i+=(0===s?"":",")+l.join(" ")}}return i=r+i+";",1===Ie||2===Ie&&a(i,1)?B+i+i:i}function l(e){for(var t,n,r=0,i=e.length,o=Array(i);r<i;++r){for(var a=e[r].split(C),s="",u=0,l=0,c=0,h=0,f=a.length;u<f;++u)if(!(0===(l=(n=a[u]).length)&&f>1)){if(c=s.charCodeAt(s.length-1),h=n.charCodeAt(0),t="",0!==u)switch(c){case oe:case de:case he:case fe:case te:case G:break;default:t=" "}switch(h){case ne:n=t+Qe;case de:case he:case fe:case te:case Q:case G:break;case X:n=t+n+Qe;break;case se:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(Pe>0){n=t+n.substring(8,l-1);break}default:(u<1||a[u-1].length<1)&&(n=t+Qe+n)}break;case ae:t="";default:n=l>1&&n.indexOf(":")>0?t+n.replace(D,"$1"+Qe+"$2"):t+n+Qe}s+=n}o[r]=s.replace(g,"").trim()}return o}function c(e,t,n,r,i,o,a,s,u,l){for(var c,h=0,f=t;h<Fe;++h)switch(c=Me[h].call(p,e,f,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:f=c}switch(f){case void 0:case!1:case!0:case null:case t:break;default:return f}}function h(e){return e.replace(g,"").replace(I,"").replace(P,"$1").replace(A,"$1").replace(R," ")}function f(e){switch(e){case void 0:case null:Fe=Me.length=0;break;default:switch(e.constructor){case Array:for(var t=0,n=e.length;t<n;++t)f(e[t]);break;case Function:Me[Fe++]=e;break;case Boolean:ze=0|!!e}}return f}function d(e){for(var t in e){var n=e[t];switch(t){case"keyframe":qe=0|n;break;case"global":Pe=0|n;break;case"cascade":Oe=0|n;break;case"compress":Ae=0|n;break;case"semicolon":Re=0|n;break;case"preserve":De=0|n;break;case"prefix":Ue=null,n?"function"!==typeof n?Ie=1:(Ie=2,Ue=n):Ie=0}}return d}function p(t,r){if(void 0!==this&&this.constructor===p)return e(t);var i=t,o=i.charCodeAt(0);o<33&&(o=(i=i.trim()).charCodeAt(0)),qe>0&&(Ge=i.replace(k,o===X?"":"-")),o=1,1===Oe?Xe=i:Qe=i;var a,s=[Xe];Fe>0&&void 0!==(a=c(We,r,s,s,Ne,ke,0,0,0,0))&&"string"===typeof a&&(r=a);var u=n(Le,s,r,0,0);return Fe>0&&void 0!==(a=c(je,u,s,s,Ne,ke,u.length,0,0,0))&&"string"!==typeof(u=a)&&(o=0),Ge="",Xe="",Qe="",xe=0,Ne=1,ke=1,Ae*o===0?u:h(u)}var v=/^\0+/g,g=/[\0\r\f]/g,m=/: */g,y=/zoo|gra/,_=/([,: ])(transform)/g,b=/,+\s*(?![^(]*[)])/g,w=/ +\s*(?![^(]*[)])/g,C=/ *[\0] */g,E=/,\r+?/g,S=/([\t\r\n ])*\f?&/g,T=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,k=/\W+/g,N=/@(k\w+)\s*(\S*)\s*/,x=/::(place)/g,O=/:(read-only)/g,I=/\s+(?=[{\];=:>])/g,P=/([[}=:>])\s+/g,A=/(\{[^{]+?);(?=\})/g,R=/\s{2,}/g,D=/([^\(])(:+) */g,L=/[svh]\w+-[tblr]{2}/,M=/\(\s*(.*)\s*\)/g,F=/([\s\S]*?);/g,U=/-self|flex-/g,j=/[^]*?(:[rp][el]a[\w-]+)[^]*/,W=/stretch|:\s*\w+\-(?:conte|avail)/,B="-webkit-",V="-moz-",H="-ms-",K=59,z=125,q=123,G=40,Q=41,X=91,Y=93,$=10,J=13,Z=9,ee=64,te=32,ne=38,re=45,ie=95,oe=42,ae=44,se=58,ue=39,le=34,ce=47,he=62,fe=43,de=126,pe=0,ve=12,ge=11,me=107,ye=109,_e=115,be=112,we=111,Ce=169,Ee=163,Se=100,Te=112,ke=1,Ne=1,xe=0,Oe=1,Ie=1,Pe=1,Ae=0,Re=0,De=0,Le=[],Me=[],Fe=0,Ue=null,je=-2,We=-1,Be=0,Ve=1,He=2,Ke=3,ze=0,qe=1,Ge="",Qe="",Xe="";return p.use=f,p.set=d,void 0!==t&&d(t),p})},function(e,t,n){!function(t){e.exports=t()}(function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,l,c){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===c?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}})},function(e,t,n){e.exports=n(208)()},function(e,t,n){"use strict";var r=n(22),i=n(209),o=n(210);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,u],h=0;l=new Error(t.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"===typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!==typeof t){var a=Object.getOwnPropertyNames(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!r[a[s]]&&!i[a[s]]&&(!n||!n[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(33),u=n.n(s),l=n(9),c=n.n(l),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={profile:{}},a=n,o(r,a)}return a(t,e),h(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=r(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.FB.api("/me",function(e){t.setState({profile:e})});case 2:case"end":return e.stop()}},e,this)}));return e}()},{key:"render",value:function(){var e=this.state.profile.name,t=void 0===e?"":e;return c.a.createElement("div",null,c.a.createElement("div",{className:"head-title"},t))}}]),t}(c.a.Component);t.a=f},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){!function(e){e(n(34))}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(r,i){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(u("atom","]]>")):null:e.match("--")?n(u("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(l(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=u("meta","?>"),"meta"):(k=e.eat("/")?"closeTag":"openTag",t.tokenize=a,"tag bracket");if("&"==r){var i;return i=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),i?"atom":"error"}return e.eatWhile(/[^&<]/),null}function a(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,k=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return k="equals",null;if("<"==n){t.tokenize=o,t.state=d,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=s(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function s(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=a;break}return"string"};return t.isInAttribute=!0,t}function u(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=o;break}n.next()}return e}}function l(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=l(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=o;break}return n.tokenize=l(e-1),n.tokenize(t,n)}}return"meta"}}function c(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(E.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function h(e){e.context&&(e.context=e.context.prev)}function f(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!E.contextGrabbers.hasOwnProperty(n)||!E.contextGrabbers[n].hasOwnProperty(t))return;h(e)}}function d(e,t,n){return"openTag"==e?(n.tagStart=t.column(),p):"closeTag"==e?v:d}function p(e,t,n){return"word"==e?(n.tagName=t.current(),N="tag",y):E.allowMissingTagName&&"endTag"==e?(N="tag bracket",y(e,t,n)):(N="error",p)}function v(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&E.implicitlyClosed.hasOwnProperty(n.context.tagName)&&h(n),n.context&&n.context.tagName==r||!1===E.matchClosing?(N="tag",g):(N="tag error",m)}return E.allowMissingTagName&&"endTag"==e?(N="tag bracket",g(e,t,n)):(N="error",m)}function g(e,t,n){return"endTag"!=e?(N="error",g):(h(n),d)}function m(e,t,n){return N="error",g(e,t,n)}function y(e,t,n){if("word"==e)return N="attribute",_;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||E.autoSelfClosers.hasOwnProperty(r)?f(n,r):(f(n,r),n.context=new c(n,r,i==n.indented)),d}return N="error",y}function _(e,t,n){return"equals"==e?b:(E.allowMissing||(N="error"),y(e,t,n))}function b(e,t,n){return"string"==e?w:"word"==e&&E.allowUnquoted?(N="string",y):(N="error",y(e,t,n))}function w(e,t,n){return"string"==e?w:y(e,t,n)}var C=r.indentUnit,E={},S=i.htmlMode?t:n;for(var T in S)E[T]=S[T];for(var T in i)E[T]=i[T];var k,N;return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:d,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;k=null;var n=t.tokenize(e,t);return(n||k)&&"comment"!=n&&(N=null,t.state=t.state(k||n,e,t),N&&(n="error"==N?n+" error":N)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+C;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=a&&t.tokenize!=o)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==E.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+C*(E.multilineTagIndentFactor||1);if(E.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;i;){if(i.tagName==s[2]){i=i.prev;break}if(!E.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(s)for(;i;){var u=E.contextGrabbers[i.tagName];if(!u||!u.hasOwnProperty(s[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+C:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:E.htmlMode?"html":"xml",helperType:E.htmlMode?"html":"xml",skipAttribute:function(e){e.state==b&&(e.state=y)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},function(e,t,n){!function(e){e(n(34))}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return Ae=e,Re=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=a(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),i("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):Pe(e,t,1)?(r(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")):(e.eat("="),i("operator","operator",e.current()));if("`"==n)return t.tokenize=u,u(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(Be.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),i("operator","operator",e.current());if(je.test(n)){e.eatWhile(je);var o=e.current();if("."!=t.lastType){if(We.propertyIsEnumerable(o)){var l=We[o];return i(l.type,l.style,o)}if("async"==o&&e.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,!1))return i("async","keyword",o)}return i("variable","variable",o)}}function a(e){return function(t,n){var r,a=!1;if(Me&&"@"==t.peek()&&t.match(Ve))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||a);)a=!a&&"\\"==r;return a||(n.tokenize=o),i("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function u(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function l(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(Ue){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),u=He.indexOf(s);if(u>=0&&u<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(u>=3&&u<6)++i;else if(je.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!i){++a;break}}}o&&!i&&(t.fatArrowAt=a)}}function c(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function h(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function f(e,t,n,r,i){var o=e.cc;for(ze.state=e,ze.stream=i,ze.marked=null,ze.cc=o,ze.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){if((o.length?o.pop():Fe?E:C)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return ze.marked?ze.marked:"variable"==n&&h(e,r)?"variable-2":t}}}function d(){for(var e=arguments.length-1;e>=0;e--)ze.cc.push(arguments[e])}function p(){return d.apply(null,arguments),!0}function v(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=ze.state;if(ze.marked="def",r.context){if(t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function g(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function m(){ze.state.context={prev:ze.state.context,vars:ze.state.localVars},ze.state.localVars=qe}function y(){ze.state.localVars=ze.state.context.vars,ze.state.context=ze.state.context.prev}function _(e,t){var n=function(){var n=ze.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new c(r,ze.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function b(){var e=ze.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function t(n){return n==e?p():";"==e?d():p(t)}return t}function C(e,t){return"var"==e?p(_("vardef",t.length),ne,w(";"),b):"keyword a"==e?p(_("form"),T,C,b):"keyword b"==e?p(_("form"),C,b):"keyword d"==e?ze.stream.match(/^\s*$/,!1)?p():p(_("stat"),N,w(";"),b):"debugger"==e?p(w(";")):"{"==e?p(_("}"),K,b):";"==e?p():"if"==e?("else"==ze.state.lexical.info&&ze.state.cc[ze.state.cc.length-1]==b&&ze.state.cc.pop()(),p(_("form"),T,C,b,se)):"function"==e?p(de):"for"==e?p(_("form"),ue,C,b):"class"==e||Ue&&"interface"==t?(ze.marked="keyword",p(_("form"),ge,b)):"variable"==e?Ue&&"declare"==t?(ze.marked="keyword",p(C)):Ue&&("module"==t||"enum"==t||"type"==t)&&ze.stream.match(/^\s*\w/,!1)?(ze.marked="keyword","enum"==t?p(xe):"type"==t?p(Q,w("operator"),Q,w(";")):p(_("form"),re,w("{"),_("}"),K,b,b)):Ue&&"namespace"==t?(ze.marked="keyword",p(_("form"),E,K,b)):p(_("stat"),F):"switch"==e?p(_("form"),T,w("{"),_("}","switch"),K,b,b):"case"==e?p(E,w(":")):"default"==e?p(w(":")):"catch"==e?p(_("form"),m,w("("),pe,w(")"),C,b,y):"export"==e?p(_("stat"),be,b):"import"==e?p(_("stat"),Ce,b):"async"==e?p(C):"@"==t?p(E,C):d(_("stat"),E,w(";"),b)}function E(e,t){return k(e,t,!1)}function S(e,t){return k(e,t,!0)}function T(e){return"("!=e?d():p(_(")"),E,w(")"),b)}function k(e,t,n){if(ze.state.fatArrowAt==ze.stream.start){var r=n?R:A;if("("==e)return p(m,_(")"),V(pe,")"),b,w("=>"),r,y);if("variable"==e)return d(m,re,w("=>"),r,y)}var i=n?O:x;return Ke.hasOwnProperty(e)?p(i):"function"==e?p(de,i):"class"==e||Ue&&"interface"==t?(ze.marked="keyword",p(_("form"),ve,b)):"keyword c"==e||"async"==e?p(n?S:E):"("==e?p(_(")"),N,w(")"),b,i):"operator"==e||"spread"==e?p(n?S:E):"["==e?p(_("]"),Ne,b,i):"{"==e?H(j,"}",null,i):"quasi"==e?d(I,i):"new"==e?p(D(n)):"import"==e?p(E):p()}function N(e){return e.match(/[;\}\)\],]/)?d():d(E)}function x(e,t){return","==e?p(E):O(e,t,!1)}function O(e,t,n){var r=0==n?x:O,i=0==n?E:S;return"=>"==e?p(m,n?R:A,y):"operator"==e?/\+\+|--/.test(t)||Ue&&"!"==t?p(r):Ue&&"<"==t&&ze.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?p(_(">"),V(Q,">"),b,r):"?"==t?p(E,w(":"),i):p(i):"quasi"==e?d(I,r):";"!=e?"("==e?H(S,")","call",r):"."==e?p(U,r):"["==e?p(_("]"),N,w("]"),b,r):Ue&&"as"==t?(ze.marked="keyword",p(Q,r)):"regexp"==e?(ze.state.lastType=ze.marked="operator",ze.stream.backUp(ze.stream.pos-ze.stream.start-1),p(i)):void 0:void 0}function I(e,t){return"quasi"!=e?d():"${"!=t.slice(t.length-2)?p(I):p(E,P)}function P(e){if("}"==e)return ze.marked="string-2",ze.state.tokenize=u,p(I)}function A(e){return l(ze.stream,ze.state),d("{"==e?C:E)}function R(e){return l(ze.stream,ze.state),d("{"==e?C:S)}function D(e){return function(t){return"."==t?p(e?M:L):"variable"==t&&Ue?p(Z,e?O:x):d(e?S:E)}}function L(e,t){if("target"==t)return ze.marked="keyword",p(x)}function M(e,t){if("target"==t)return ze.marked="keyword",p(O)}function F(e){return":"==e?p(b,C):d(x,w(";"),b)}function U(e){if("variable"==e)return ze.marked="property",p()}function j(e,t){if("async"==e)return ze.marked="property",p(j);if("variable"==e||"keyword"==ze.style){if(ze.marked="property","get"==t||"set"==t)return p(W);var n;return Ue&&ze.state.fatArrowAt==ze.stream.start&&(n=ze.stream.match(/^\s*:\s*/,!1))&&(ze.state.fatArrowAt=ze.stream.pos+n[0].length),p(B)}return"number"==e||"string"==e?(ze.marked=Me?"property":ze.style+" property",p(B)):"jsonld-keyword"==e?p(B):Ue&&g(t)?(ze.marked="keyword",p(j)):"["==e?p(E,z,w("]"),B):"spread"==e?p(S,B):"*"==t?(ze.marked="keyword",p(j)):":"==e?d(B):void 0}function W(e){return"variable"!=e?d(B):(ze.marked="property",p(de))}function B(e){return":"==e?p(S):"("==e?d(de):void 0}function V(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=ze.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),p(function(n,r){return n==t||r==t?d():d(e)},r)}return i==t||o==t?p():p(w(t))}return function(n,i){return n==t||i==t?p():d(e,r)}}function H(e,t,n){for(var r=3;r<arguments.length;r++)ze.cc.push(arguments[r]);return p(_(t,n),V(e,t),b)}function K(e){return"}"==e?p():d(C,K)}function z(e,t){if(Ue){if(":"==e)return p(Q);if("?"==t)return p(z)}}function q(e){if(Ue&&":"==e)return ze.stream.match(/^\s*\w+\s+is\b/,!1)?p(E,G,Q):p(Q)}function G(e,t){if("is"==t)return ze.marked="keyword",p()}function Q(e,t){return"variable"==e||"void"==t?"keyof"==t?(ze.marked="keyword",p(Q)):(ze.marked="type",p(J)):"string"==e||"number"==e||"atom"==e?p(J):"["==e?p(_("]"),V(Q,"]",","),b,J):"{"==e?p(_("}"),V(Y,"}",",;"),b,J):"("==e?p(V($,")"),X):void 0}function X(e){if("=>"==e)return p(Q)}function Y(e,t){return"variable"==e||"keyword"==ze.style?(ze.marked="property",p(Y)):"?"==t?p(Y):":"==e?p(Q):"["==e?p(E,z,w("]"),Y):void 0}function $(e){return"variable"==e?p($):":"==e?p(Q):void 0}function J(e,t){return"<"==t?p(_(">"),V(Q,">"),b,J):"|"==t||"."==e||"&"==t?p(Q):"["==e?p(w("]"),J):"extends"==t||"implements"==t?(ze.marked="keyword",p(Q)):void 0}function Z(e,t){if("<"==t)return p(_(">"),V(Q,">"),b,J)}function ee(){return d(Q,te)}function te(e,t){if("="==t)return p(Q)}function ne(e,t){return"enum"==t?(ze.marked="keyword",p(xe)):d(re,z,oe,ae)}function re(e,t){return Ue&&g(t)?(ze.marked="keyword",p(re)):"variable"==e?(v(t),p()):"spread"==e?p(re):"["==e?H(re,"]"):"{"==e?H(ie,"}"):void 0}function ie(e,t){return"variable"!=e||ze.stream.match(/^\s*:/,!1)?("variable"==e&&(ze.marked="property"),"spread"==e?p(re):"}"==e?d():p(w(":"),re,oe)):(v(t),p(oe))}function oe(e,t){if("="==t)return p(S)}function ae(e){if(","==e)return p(ne)}function se(e,t){if("keyword b"==e&&"else"==t)return p(_("form","else"),C,b)}function ue(e,t){return"await"==t?p(ue):"("==e?p(_(")"),le,w(")"),b):void 0}function le(e){return"var"==e?p(ne,w(";"),he):";"==e?p(he):"variable"==e?p(ce):d(E,w(";"),he)}function ce(e,t){return"in"==t||"of"==t?(ze.marked="keyword",p(E)):p(x,he)}function he(e,t){return";"==e?p(fe):"in"==t||"of"==t?(ze.marked="keyword",p(E)):d(E,w(";"),fe)}function fe(e){")"!=e&&p(E)}function de(e,t){return"*"==t?(ze.marked="keyword",p(de)):"variable"==e?(v(t),p(de)):"("==e?p(m,_(")"),V(pe,")"),b,q,C,y):Ue&&"<"==t?p(_(">"),V(ee,">"),b,de):void 0}function pe(e,t){return"@"==t&&p(E,pe),"spread"==e?p(pe):Ue&&g(t)?(ze.marked="keyword",p(pe)):d(re,z,oe)}function ve(e,t){return"variable"==e?ge(e,t):me(e,t)}function ge(e,t){if("variable"==e)return v(t),p(me)}function me(e,t){return"<"==t?p(_(">"),V(ee,">"),b,me):"extends"==t||"implements"==t||Ue&&","==e?("implements"==t&&(ze.marked="keyword"),p(Ue?Q:E,me)):"{"==e?p(_("}"),ye,b):void 0}function ye(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||Ue&&g(t))&&ze.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(ze.marked="keyword",p(ye)):"variable"==e||"keyword"==ze.style?(ze.marked="property",p(Ue?_e:de,ye)):"["==e?p(E,z,w("]"),Ue?_e:de,ye):"*"==t?(ze.marked="keyword",p(ye)):";"==e?p(ye):"}"==e?p():"@"==t?p(E,ye):void 0}function _e(e,t){return"?"==t?p(_e):":"==e?p(Q,oe):"="==t?p(S):d(de)}function be(e,t){return"*"==t?(ze.marked="keyword",p(ke,w(";"))):"default"==t?(ze.marked="keyword",p(E,w(";"))):"{"==e?p(V(we,"}"),ke,w(";")):d(C)}function we(e,t){return"as"==t?(ze.marked="keyword",p(w("variable"))):"variable"==e?d(S,we):void 0}function Ce(e){return"string"==e?p():"("==e?d(E):d(Ee,Se,ke)}function Ee(e,t){return"{"==e?H(Ee,"}"):("variable"==e&&v(t),"*"==t&&(ze.marked="keyword"),p(Te))}function Se(e){if(","==e)return p(Ee,Se)}function Te(e,t){if("as"==t)return ze.marked="keyword",p(Ee)}function ke(e,t){if("from"==t)return ze.marked="keyword",p(E)}function Ne(e){return"]"==e?p():d(V(S,"]"))}function xe(){return d(_("form"),re,w("{"),_("}"),V(Oe,"}"),b,b)}function Oe(){return d(re,oe)}function Ie(e,t){return"operator"==e.lastType||","==e.lastType||Be.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function Pe(e,t,n){return t.tokenize==o&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}var Ae,Re,De=t.indentUnit,Le=n.statementIndent,Me=n.jsonld,Fe=n.json||Me,Ue=n.typescript,je=n.wordCharacters||/[\w$\xa1-\uffff]/,We=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),Be=/[+\-*&%=<>!?|~^@]/,Ve=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,He="([{}])",Ke={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},ze={state:null,column:null,marked:null,cc:null},qe={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new c((e||0)-De,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),l(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==Ae?n:(t.lastType="operator"!=Ae||"++"!=Re&&"--"!=Re?Ae:"incdec",f(t,n,Ae,Re,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=o)return 0;var i,a=r&&r.charAt(0),u=t.lexical;if(!/^\s*else\b/.test(r))for(var l=t.cc.length-1;l>=0;--l){var c=t.cc[l];if(c==b)u=u.prev;else if(c!=se)break}for(;("stat"==u.type||"form"==u.type)&&("}"==a||(i=t.cc[t.cc.length-1])&&(i==x||i==O)&&!/^[,\.=+\-*:?[\(]/.test(r));)u=u.prev;Le&&")"==u.type&&"stat"==u.prev.type&&(u=u.prev);var h=u.type,f=a==h;return"vardef"==h?u.indented+("operator"==t.lastType||","==t.lastType?u.info+1:0):"form"==h&&"{"==a?u.indented:"form"==h?u.indented+De:"stat"==h?u.indented+(Ie(t,r)?Le||De:0):"switch"!=u.info||f||0==n.doubleIndentSwitch?u.align?u.column+(f?0:1):u.indented+(f?0:De):u.indented+(/^(?:case|default)\b/.test(r)?De:2*De)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Fe?null:"/*",blockCommentEnd:Fe?null:"*/",blockCommentContinue:Fe?null:" * ",lineComment:Fe?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Fe?"json":"javascript",jsonldMode:Me,jsonMode:Fe,expressionAllowed:Pe,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=E&&t!=S||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(e,t,n){"use strict";function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(9),u=n.n(s),l=n(91),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=r(["\n  margin-right :10px;\n  font-size:18px;\n  font-weight: 900;\n"],["\n  margin-right :10px;\n  font-size:18px;\n  font-weight: 900;\n"]),f=r(["\n  width: 350px;\n  height: 30px;\n  background: #4B68AD;\n  border-radius: 5px;\n  font-size:16px;\n  color: #FFFFFF;\n  cursor:pointer;\n  margin: auto;\n  padding-top: 10px;\n  text-align:center;\n"],["\n  width: 350px;\n  height: 30px;\n  background: #4B68AD;\n  border-radius: 5px;\n  font-size:16px;\n  color: #FFFFFF;\n  cursor:pointer;\n  margin: auto;\n  padding-top: 10px;\n  text-align:center;\n"]),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),c(t,[{key:"render",value:function(){return u.a.createElement("div",{className:""},u.a.createElement("div",{className:"head-title"},"Secret Note"),u.a.createElement(v,{onClick:this.props.login},u.a.createElement(p,null,"F"),u.a.createElement("span",null,"Login with Facebook")))}}]),t}(u.a.Component),p=l.a.span(h),v=l.a.div(f);t.a=d},function(e,t,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL("/secret-note",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/secret-note/service-worker.js";a?(o(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):i(e)})}}function i(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function o(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}t.a=r;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.9a0c2626.js.map